2026-01-22 00:06:56,429 INFO NodeProvisionerWorkflow: Creating report directory /var/log/provision-node/reports/0/f94d7a27-e867-49d4-95ef-af935a17d51e
2026-01-22 00:06:56,709 INFO PlatformConfigApplierFactory: platform configuration response:
  {
    "configurations" : [ {
      "classification" : "hdfs-site",
      "properties" : {
        "dfs.data.dir" : "/mnt/hdfs,/mnt1/hdfs",
        "dfs.datanode.available-space-volume-choosing-policy.balanced-space-preference-fraction" : "1.0",
        "dfs.datanode.available-space-volume-choosing-policy.balanced-space-threshold" : "10737418240",
        "dfs.datanode.du.reserved" : "536870912",
        "dfs.datanode.fsdataset.volume.choosing.policy" : "org.apache.hadoop.hdfs.server.datanode.fsdataset.AvailableSpaceVolumeChoosingPolicy",
        "dfs.name.dir" : "/mnt/namenode,/mnt1/namenode",
        "dfs.namenode.handler.count" : "64",
        "dfs.replication" : "1"
      },
      "configurations" : [ ]
    }, {
      "classification" : "httpfs-site",
      "properties" : {
        "httpfs.proxyuser.hadoop.groups" : "*",
        "httpfs.proxyuser.hadoop.hosts" : "*"
      },
      "configurations" : [ ]
    }, {
      "classification" : "hadoop-env",
      "properties" : { },
      "configurations" : [ {
        "classification" : "export",
        "properties" : {
          "HADOOP_DATANODE_HEAPSIZE" : "778",
          "HADOOP_JOB_HISTORYSERVER_HEAPSIZE" : "2416",
          "HADOOP_NAMENODE_HEAPSIZE" : "1843"
        },
        "configurations" : [ ]
      } ]
    }, {
      "classification" : "yarn-env",
      "properties" : { },
      "configurations" : [ {
        "classification" : "export",
        "properties" : {
          "YARN_NODEMANAGER_HEAPSIZE" : "2048",
          "YARN_PROXYSERVER_HEAPSIZE" : "2416",
          "YARN_RESOURCEMANAGER_HEAPSIZE" : "2416"
        },
        "configurations" : [ ]
      } ]
    }, {
      "classification" : "yarn-site",
      "properties" : {
        "yarn.core.nodemanager.resource.memory-mb" : "12288",
        "yarn.log-aggregation.retain-seconds" : "172800",
        "yarn.master.nodemanager.resource.memory-mb" : "12288",
        "yarn.node-labels.allow_market_type_node_label" : "true",
        "yarn.nodemanager.container-manager.thread-count" : "64",
        "yarn.nodemanager.local-dirs" : "/mnt/yarn,/mnt1/yarn",
        "yarn.nodemanager.localizer.client.thread-count" : "20",
        "yarn.nodemanager.localizer.fetch.thread-count" : "20",
        "yarn.nodemanager.resource.cpu-vcores" : "4",
        "yarn.nodemanager.resource.memory-mb" : "12288",
        "yarn.nodemanager.vmem-pmem-ratio" : "100",
        "yarn.resourcemanager.client.thread-count" : "64",
        "yarn.resourcemanager.hostname" : "ip-172-31-47-200.ec2.internal",
        "yarn.resourcemanager.resource-tracker.client.thread-count" : "64",
        "yarn.resourcemanager.scheduler.client.thread-count" : "64",
        "yarn.scheduler.maximum-allocation-mb" : "12288",
        "yarn.scheduler.maximum-allocation-vcores" : "128",
        "yarn.scheduler.minimum-allocation-mb" : "1",
        "yarn.timeline-service.enabled" : "true"
      },
      "configurations" : [ ]
    }, {
      "classification" : "mapred-site",
      "properties" : {
        "hadoop.job.history.user.location" : "none",
        "mapred.local.dir" : "/mnt/mapred,/mnt1/mapred",
        "mapred.output.committer.class" : "org.apache.hadoop.mapred.DirectFileOutputCommitter",
        "mapreduce.job.jvm.numtasks" : "20",
        "mapreduce.job.maps" : "8",
        "mapreduce.job.reduces" : "3",
        "mapreduce.job.userlog.retain.hours" : "48",
        "mapreduce.map.java.opts" : "-Xmx2458m",
        "mapreduce.map.memory.mb" : "3072",
        "mapreduce.map.output.compress" : "true",
        "mapreduce.reduce.java.opts" : "-Xmx4916m",
        "mapreduce.reduce.memory.mb" : "6144",
        "mapreduce.reduce.shuffle.parallelcopies" : "20",
        "mapreduce.task.io.sort.factor" : "48",
        "mapreduce.task.io.sort.mb" : "200",
        "yarn.app.mapreduce.am.command-opts" : "-Xmx4915m",
        "yarn.app.mapreduce.am.job.task.listener.thread-count" : "60",
        "yarn.app.mapreduce.am.resource.mb" : "6144"
      },
      "configurations" : [ ]
    }, {
      "classification" : "core-site",
      "properties" : {
        "fs.AbstractFileSystem.s3.impl" : "org.apache.hadoop.fs.s3.EMRFSDelegate",
        "fs.s3.buffer.dir" : "/mnt/s3,/mnt1/s3",
        "fs.s3bfs.impl" : "org.apache.hadoop.fs.s3.S3FileSystem",
        "hadoop.proxyuser.hadoop.groups" : "*",
        "hadoop.proxyuser.hadoop.hosts" : "*",
        "hadoop.tmp.dir" : "/mnt/var/lib/hadoop/tmp",
        "io.file.buffer.size" : "65536"
      },
      "configurations" : [ ]
    } ],
    "componentNames" : [ "emr-ddb", "emr-goodies", "emr-kinesis", "emrfs", "hadoop-hdfs-datanode", "hadoop-hdfs-library", "hadoop-mapred", "hadoop-yarn-nodemanager" ],
    "clusterId" : "j-1012I6B4RWP1O",
    "instanceId" : "i-0df143d9ca107c8a6",
    "instanceType" : "m5.xlarge",
    "nodeType" : "core",
    "releaseLabel" : "emr-7.12.0",
    "mountedDirs" : [ "/mnt", "/mnt1" ],
    "configurationVersion" : 0,
    "namenodeFormatted" : false,
    "isReprovision" : false,
    "isReversion" : false,
    "reconfigurationType" : "OVERWRITE"
  }
2026-01-22 00:06:56,732 INFO NodeProvisionerWorkflow: No componentNames passed. Fetching componentNames from platform
2026-01-22 00:06:56,739 INFO NodeProvisionerWorkflow: Installing components: [hadoop-mapred, emr-goodies, emrfs, hadoop-hdfs-library, emr-kinesis, hadoop-hdfs-datanode, emr-ddb, hadoop-yarn-nodemanager]
Main config did not have a skip_missing_names_on_install attr. before setopt
Main config did not have a skip_missing_names_on_install attr. before setopt
Importing GPG key 0xF11BB0DB:
 Userid     : "EMR AWS <emr-team@amazon.com>"
 Fingerprint: B787 06ED F98E 6094 9E90 D7C2 49C5 B79D F11B B0DB
 From       : /var/aws/emr/repoPublicKey.txt
================================================================================
WARNING:
  A newer release of "Amazon Linux" is available.

  Available Versions:

  Version 2023.10.20260105:
    Run the following command to upgrade to 2023.10.20260105:

      dnf upgrade --releasever=2023.10.20260105

    Release notes:
     https://docs.aws.amazon.com/linux/al2023/release-notes/relnotes-2023.10.20260105.html

  Version 2023.9.20251208:
    Run the following command to upgrade to 2023.9.20251208:

      dnf upgrade --releasever=2023.9.20251208

    Release notes:
     https://docs.aws.amazon.com/linux/al2023/release-notes/relnotes-2023.9.20251208.html

================================================================================
2026-01-22 00:07:16,089 INFO ComponentInstaller: Took 19 seconds and 131 milliseconds to install packages:
   [emr-scripts, hadoop-mapreduce, hadoop-hdfs, bigtop-utils, cloudwatch-sink, hadoop, hadoop-lzo, emr-secret-agent-hadoop-authenticator, emr-goodies, emrfs, emr-ddb, emr-kinesis, hadoop-hdfs-datanode, hadoop-yarn-nodemanager, docker, hadoop-yarn]
2026-01-22 00:07:16,089 INFO NodeProvisionerWorkflow: Provisioning components for configurationVersion 0
2026-01-22 00:07:16,092 INFO PlatformConfigApplier: Filtered component names:
  [emr-ddb, emr-goodies, emr-kinesis, emrfs, hadoop-hdfs-datanode, hadoop-hdfs-library, hadoop-mapred, hadoop-yarn-nodemanager]
2026-01-22 00:07:16,092 INFO PlatformConfigApplier: Accumulated component names:
  [emr-ddb, emr-goodies, emr-kinesis, emrfs, hadoop-hdfs-datanode, hadoop-hdfs-library, hadoop-mapred, hadoop-yarn-nodemanager]
2026-01-22 00:07:16,399 INFO Emr7ConfigApplier: Applying Emr7 configuration overrides
2026-01-22 00:07:16,463 INFO PuppetConfigurator: contents of core_set_hiera.yaml:
  ---
  defaults:
    datadir: /etc/puppetlabs/puppet/hieradata
    data_hash: yaml_data
  hierarchy:
  - name: bigtop
    paths:
    - site.yaml
    - bigtop/%{hadoop_hiera_ha_path}.yaml
    - bigtop/cluster.yaml
    - generated.yaml
    - core_set_context.yaml
  version: 5

2026-01-22 00:07:16,572 INFO PuppetConfigurator: contents of site.yaml:
  ---
  'hadoop::common_hdfs::hdfs_data_dirs':
  - '/mnt/hdfs'
  - '/mnt1/hdfs'
  'emr::mounted_dirs':
  - '/mnt'
  - '/mnt1'
  'hadoop::kms::hadoop_kms_http_port': '9600'
  'spark::common::use_iceberg': !!bool 'false'
  'hadoop_oozie::server::init_sharelib_try_sleep': !!int '5'
  'docker::common::docker_network_create_options': '-d bridge'
  'trino::common::use_iceberg': !!bool 'false'
  'hadoop::common::hadoop_env_overrides':
    'export':
      'HADOOP_OPTS': '"$HADOOP_OPTS -server -XX:+ExitOnOutOfMemoryError --add-exports=jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED
        --add-exports=java.base/sun.security.x509=ALL-UNNAMED --add-exports=java.base/sun.security.util=ALL-UNNAMED
        --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.base/java.lang.reflect=ALL-UNNAMED
        --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.math=ALL-UNNAMED
        --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.util.concurrent=ALL-UNNAMED
        -XX:+IgnoreUnrecognizedVMOptions --add-opens=java.base/java.net=ALL-UNNAMED
        --add-opens=java.base/java.text=ALL-UNNAMED --add-opens=java.base/java.util.concurrent.atomic=ALL-UNNAMED
        --add-opens=java.base/java.nio=ALL-UNNAMED --add-opens=java.base/sun.nio.ch=ALL-UNNAMED
        --add-opens=java.base/sun.nio.cs=ALL-UNNAMED --add-opens=java.base/java.time=ALL-UNNAMED
        --add-opens=java.base/java.util.regex=ALL-UNNAMED --add-opens=java.base/jdk.internal=ALL-UNNAMED
        --add-opens=java.base/jdk.internal.ref=ALL-UNNAMED --add-opens=java.base/jdk.internal.reflect=ALL-UNNAMED
        --add-opens=java.sql/java.sql=ALL-UNNAMED --add-opens=java.base/jdk.internal.util=ALL-UNNAMED
        --add-opens=java.base/jdk.internal.util.random=ALL-UNNAMED --add-opens=java.base/java.lang.invoke=ALL-UNNAMED
        --add-opens=java.base/sun.util.calendar=ALL-UNNAMED --add-opens=jdk.management/com.sun.management.internal=ALL-UNNAMED"'
      'HADOOP_NAMENODE_OPTS': ''
      'HADOOP_DATANODE_OPTS': ''
      'JAVA_HOME': '/usr/lib/jvm/jre-17'
      'HADOOP_NAMENODE_HEAPSIZE': '1843'
      'HADOOP_DATANODE_HEAPSIZE': '778'
      'HADOOP_JOB_HISTORYSERVER_HEAPSIZE': '2416'
  'hadoop_oozie::server::init_sharelib_tries': !!int '540'
  'hadoop_oozie::server::oozie_site_overrides':
    'oozie.service.HadoopAccessorService.supported.filesystems': 'hdfs,s3,s3n'
  'mahout::client::hadoop_lzo_codec': !!bool 'true'
  'hadoop::common_mapred_app::mapred_data_dirs':
  - '/mnt/mapred'
  - '/mnt1/mapred'
  'trino::common::trino_hive_overrides':
    'hive.non-managed-table-writes-enabled': !!bool 'true'
    'hive.s3-file-system-type': 'EMRFS'
    'hive.hdfs.impersonation.enabled': !!bool 'true'
    'hive.metastore.uri': 'thrift://ip-172-31-47-200.ec2.internal:9083'
  'ganglia::grid_name': 'EMR'
  'spark::common::metastore_database_type': 'mariadb'
  'spark::common::use_emrfs': !!bool 'true'
  'zeppelin::server::init_hdfs_store': !!bool 'false'
  'hadoop_oozie::client::oozie_client_env_overrides': {}
  'emr::is_reversion': !!bool 'false'
  'zeppelin::server::shiro_ini_overrides':
    'roles#users': '*'
  'presto::common::node_id': '%{hiera(''emr::instance_id'')}'
  'hadoop::common_yarn::yarn_data_dirs':
  - '/mnt/yarn'
  - '/mnt1/yarn'
  'hue::server::app_blacklist': 'impala,metastore,search'
  'hue::server:database_name': 'hue'
  'docker::common::docker_network_create_name': 'emr-docker-bridge'
  'spark::common::spark_env_overrides':
    'export':
      'SPARK_DAEMON_JAVA_OPTS': '"$SPARK_DAEMON_JAVA_OPTS -XX:+ExitOnOutOfMemoryError"'
      'SPARK_PUBLIC_DNS': '%{hiera(''bigtop::hadoop_head_node'')}'
      'PYSPARK_PYTHON': '/usr/bin/python3'
  'hadoop::ranger_kms::ks_db_ssl_auth_type': '1-way'
  'hadoop_pig::client::use_kinesis': !!bool 'true'
  'trino::common::http_port': '8889'
  'zeppelin::server::use_emrfs': !!bool 'true'
  'trino::common::use_delta': !!bool 'false'
  'hadoop::common_core::hadoop_snappy_codec': !!bool 'true'
  'hadoop::common_core::core_site_overrides':
    'ipc.client.connect.max.retries.on.timeouts': '5'
    'hadoop.security.key.default.bitlength': !!int '256'
    'hadoop.http.filter.initializers': 'org.apache.hadoop.security.HttpCrossOriginFilterInitializer,org.apache.hadoop.http.lib.StaticUserWebFilter'
    'fs.s3a.block.size': '64M'
    'fs.s3a.multipart.size': '128M'
    'fs.s3a.skip.list.with.create.overwrite.enabled': !!bool 'true'
    'hadoop.proxyuser.hadoop.groups': '*'
    'hadoop.tmp.dir': '/mnt/var/lib/hadoop/tmp'
    'hadoop.proxyuser.hadoop.hosts': '*'
    'io.file.buffer.size': '65536'
    'fs.AbstractFileSystem.s3.impl': 'org.apache.hadoop.fs.s3.EMRFSDelegate'
    'fs.s3bfs.impl': 'org.apache.hadoop.fs.s3.S3FileSystem'
    'fs.s3.buffer.dir': '/mnt/s3,/mnt1/s3'
    'fs.s3a.endpoint.region': 'us-east-1'
    'fs.s3a.assumed.role.sts.endpoint.region': 'us-east-1'
  'mahout::client::use_emrfs': !!bool 'true'
  'emr::cluster_id': 'j-1012I6B4RWP1O'
  'hadoop::kms::kms_key_provider_uri': 'jceks://file@/var/lib/hadoop-kms/kms.keystore'
  'hadoop::common_hdfs::hdfs_site_overrides':
    'dfs.hosts.exclude': '/emr/instance-controller/lib/dfs.hosts.exclude'
    'dfs.namenode.safemode.extension': '5000'
    'dfs.namenode.replication.max-streams': !!int '100'
    'dfs.namenode.replication.max-streams-hard-limit': !!int '200'
    'dfs.namenode.replication.work.multiplier.per.iteration': !!int '100'
    'dfs.webhdfs.enabled': !!bool 'false'
    'dfs.datanode.available-space-volume-choosing-policy.balanced-space-preference-fraction': '1.0'
    'dfs.replication': '1'
    'dfs.datanode.available-space-volume-choosing-policy.balanced-space-threshold': '10737418240'
    'dfs.datanode.du.reserved': '536870912'
    'dfs.datanode.fsdataset.volume.choosing.policy': 'org.apache.hadoop.hdfs.server.datanode.fsdataset.AvailableSpaceVolumeChoosingPolicy'
    'dfs.namenode.handler.count': '64'
    'dfs.name.dir': '/mnt/namenode,/mnt1/namenode'
    'dfs.data.dir': '/mnt/hdfs,/mnt1/hdfs'
  'hadoop::resourcemanager::add_market_type_node_label_to_cluster': !!bool 'false'
  'hadoop::namenode::is_namenode_formatted': !!bool 'false'
  'spark::common::hadoop_lzo_codec': !!bool 'true'
  'hadoop::ranger_kms::ks_truststore_file': '/var/lib/ranger-kms/kms-ks-truststore.jks'
  'hadoop::common_mapred_app::mapred_site_overrides':
    'mapreduce.map.output.compress.codec': 'org.apache.hadoop.io.compress.SnappyCodec'
    'mapreduce.input.fileinputformat.list-status.num-threads': !!int '10'
    'mapred.output.direct.EmrFileSystem': !!bool 'true'
    'mapred.output.direct.NativeS3FileSystem': !!bool 'true'
    'mapred.output.direct.S3AFileSystem': !!bool 'true'
    'mapreduce.reduce.shuffle.parallelcopies': '20'
    'mapreduce.task.io.sort.mb': '200'
    'mapreduce.job.maps': '8'
    'hadoop.job.history.user.location': 'none'
    'mapreduce.job.jvm.numtasks': '20'
    'mapreduce.task.io.sort.factor': '48'
    'mapreduce.reduce.java.opts': '-Xmx4916m'
    'mapreduce.map.output.compress': 'true'
    'mapreduce.job.userlog.retain.hours': '48'
    'mapreduce.map.memory.mb': '3072'
    'mapred.output.committer.class': 'org.apache.hadoop.mapred.DirectFileOutputCommitter'
    'mapreduce.job.reduces': '3'
    'yarn.app.mapreduce.am.command-opts': '-Xmx4915m'
    'mapreduce.reduce.memory.mb': '6144'
    'yarn.app.mapreduce.am.job.task.listener.thread-count': '60'
    'mapreduce.map.java.opts': '-Xmx2458m'
    'yarn.app.mapreduce.am.resource.mb': '6144'
    'mapred.local.dir': '/mnt/mapred,/mnt1/mapred'
  'spark::common::user_log_dir': '/var/log/spark/user'
  'hue::server::hue_ini_overrides':
    'beeswax':
      'use_get_log_api': !!bool 'false'
    'useradmin':
      'password_policy':
        'is_enabled': !!bool 'true'
    'desktop':
      'collect_usage': !!bool 'false'
      'database':
        'engine': 'mysql'
        'host': '%{hiera(''bigtop_mysql::server::host'')}'
        'port': '%{hiera(''bigtop_mysql::server::port'')}'
        'name': '%{hiera(''hue::server:database_name'')}'
        'user': '%{hiera(''hue::server:database_user'')}'
        'password': '******'
        'case_insensitive_collation': 'utf8_unicode_ci'
    'jobbrowser':
      'sensitive_job_metadata':
      - 'fs.s3.awsAccessKeyId'
      - 'fs.s3.awsSecretAccessKey'
      - 'fs.s3n.awsAccessKeyId'
      - 'fs.s3n.awsSecretAccessKey'
      - 'fs.s3bfs.awsAccessKeyId'
      - 'fs.s3bfs.awsSecretAccessKey'
  'hadoop::kms::java_home': '/usr/lib/jvm/jre-17'
  'ganglia::host_location': 'EC2'
  'trino::common::trino_config_overrides':
    'jmx.rmiregistry.port': '9080'
    'jmx.rmiserver.port': '9081'
    'query.max-memory': '9830MB'
  'emrfs::library::cse_provider_s3_paths': []
  'hadoop_hive::common_config::metastore_database_type': 'mariadb'
  'jupyter::hub::jupyterhub_config_overrides':
    'c.JupyterHub.port': '9443'
  'hadoop_cluster_node::bigtop_real_users': 'hadoop'
  'hadoop_hive::common_config::use_kinesis': !!bool 'true'
  'hadoop::common_core::hadoop_base_tmp_dir': '/mnt/var/lib/hadoop/tmp'
  'hadoop::httpfs::httpfs_site_overrides':
    'httpfs.proxyuser.hadoop.hosts': '*'
    'httpfs.proxyuser.hadoop.groups': '*'
  'delta::common::delta_defaults_overrides':
    'delta.enabled': 'false'
  'hadoop_hive::common_config::use_dynamodb': !!bool 'true'
  'hadoop_hbase::common_config::hbase_env_overrides':
    'export':
      'HBASE_MANAGES_ZK': 'false'
      'HBASE_ROOT_LOGGER': 'INFO,DRFA'
      'HBASE_SECURITY_LOGGER': 'INFO,DRFAS'
  'hadoop::httpfs::httpfs_env_overrides':
    'export':
      'HADOOP_LOG_DIR': '/var/log/hadoop-httpfs'
  'hue::server:database_charset': 'utf8'
  'ganglia::web::default_optional_graph_size': 'xlarge'
  'spark::common::use_delta': !!bool 'false'
  'emr::instance_id': 'i-0df143d9ca107c8a6'
  'hadoop_hive::common_config::use_iceberg': !!bool 'false'
  'hadoop_hive::common_config::java_tmp_dir': '/mnt/tmp'
  'hadoop::kms::hadoop_kms_admin_port': '9600'
  'livy::common::livy_conf_overrides':
    'livy.spark.scala-version': !!float '2.12'
    'livy.server.session.timeout': '8h'
    'livy.spark.deploy-mode': 'cluster'
    'livy.support.s3-lib-mgmt': !!bool 'true'
  'hadoop::resourcemanager::add_core_node_label_to_cluster': !!bool 'false'
  'hadoop::key_provider_uri': 'kms://http@%{hiera(''bigtop::hadoop_head_node'')}:%{hiera(''hadoop::kms::hadoop_kms_http_port'')}/kms'
  'hadoop_pig::client::log_folder_root': '/var/log/pig'
  'hadoop::common_hdfs::hdfs_env_overrides':
    'export':
      'HADOOP_LOG_DIR': '/var/log/hadoop-hdfs'
      'HDFS_NAMENODE_NETWORK_ADDRESS_CACHE_TTL': !!int '3600'
      'HDFS_DATANODE_NETWORK_ADDRESS_CACHE_TTL': !!int '3600'
  'bigtop_mysql::server::databases':
    '%{hiera(''hue::server:database_name'')}':
      'charset': '%{hiera(''hue::server:database_charset'')}'
      'collate': '%{hiera(''hue::server:database_collation'')}'
  'hadoop::ranger_kms::ks_truststore_ca_pem_s3_path': 's3://rds-downloads/rds-ca-2015-root.pem'
  'hadoop_oozie::server::symlink_emrfs_jars': !!bool 'true'
  'ganglia::cluster_name': '%{hiera(''emr::cluster_id'')}'
  'tez::tez_lib_setup::install_tez_tarball': !!bool 'true'
  'presto::common::hive_s3_staging_dir': '/mnt/tmp'
  'hadoop::use_emr_goodies': !!bool 'true'
  'hadoop::common::hadoop_metrics2_overrides':
    '*.sink.cloudwatch.metricsList': 'TotalLoad,CapacityTotalGB,UnderReplicatedBlocks,CapacityRemainingGB,PendingDeletionBlocks,PendingReplicationBlocks,CorruptBlocks,CapacityUsedGB,NumLiveDataNodes,NumDeadDataNodes,MissingBlocks'
    '*.period': '300'
    'namenode.sink.cloudwatch.class': 'com.amazon.ws.emr.hadoop.metrics2.sink.cloudwatch.CloudWatchSink'
    'datanode.sink.cloudwatch.class': 'com.amazon.ws.emr.hadoop.metrics2.sink.cloudwatch.CloudWatchSink'
    'resourcemanager.sink.cloudwatch.class': 'com.amazon.ws.emr.hadoop.metrics2.sink.cloudwatch.CloudWatchSink'
    'nodemanager.sink.cloudwatch.class': 'com.amazon.ws.emr.hadoop.metrics2.sink.cloudwatch.CloudWatchSink'
    'mrappmaster.sink.cloudwatch.class': 'com.amazon.ws.emr.hadoop.metrics2.sink.cloudwatch.CloudWatchSink'
    'jobhistoryserver.sink.cloudwatch.class': 'com.amazon.ws.emr.hadoop.metrics2.sink.cloudwatch.CloudWatchSink'
    'maptask.sink.cloudwatch.class': 'com.amazon.ws.emr.hadoop.metrics2.sink.cloudwatch.CloudWatchSink'
    'reducetask.sink.cloudwatch.class': 'com.amazon.ws.emr.hadoop.metrics2.sink.cloudwatch.CloudWatchSink'
  'hadoop_hbase::common_config::hbase_log4j2_overrides':
    'hbase.log.maxfilesize': '10MB'
    'hbase.security.log.maxfilesize': '10MB'
    'appender.DRFAS.type': 'RollingFile'
    'appender.DRFAS.name': 'DRFAS'
    'appender.DRFAS.fileName': '${sys:hbase.log.dir:-.}/${sys:hbase.security.log.file:-SecurityAuth.audit}'
    'appender.DRFAS.filePattern': '${sys:hbase.log.dir:-.}/${sys:hbase.security.log.file:-SecurityAuth.audit}.%d{yyyy-MM-dd}'
    'appender.DRFAS.createOnDemand': 'true'
    'appender.DRFAS.layout.type': 'PatternLayout'
    'appender.DRFAS.layout.pattern': '%d{ISO8601} %-5p [%t] %c{2}: %.1000m%n'
    'appender.DRFAS.policies.type': 'Policies'
    'appender.DRFAS.policies.time.type': 'TimeBasedTriggeringPolicy'
    'appender.DRFAS.policies.time.interval': '1'
    'appender.DRFAS.policies.time.modulate': 'true'
    'appender.DRFAS.policies.size.type': 'SizeBasedTriggeringPolicy'
    'appender.DRFAS.policies.size.size': '${sys:hbase.log.maxfilesize:-10MB}'
    'appender.DRFAS.strategy.type': 'DefaultRolloverStrategy'
    'appender.DRFAS.strategy.max': '${sys:hbase.log.maxbackupindex:-20}'
  'hue::server:database_user': 'hue'
  'hadoop::common_yarn::use_spark_rapids': !!bool 'false'
  'hue::server:database_collation': 'utf8_bin'
  'zeppelin::server::server_port': !!int '8890'
  'hadoop::use_dynamodb': !!bool 'true'
  'hadoop_hive::common_config::use_emr_goodies': !!bool 'true'
  'hadoop::common_hdfs::hadoop_hdfs_log_path': '/var/log/hadoop-hdfs'
  'hadoop::common_mapred_app::mapreduce_framework_name': 'yarn'
  'presto::common::https_port': '8446'
  'hadoop::ranger_kms::ks_keystore_file': '/var/lib/ranger-kms/kms-ks-keystore.jks'
  'hadoop_oozie::server::include_mariadb_jdbc': !!bool 'true'
  'hadoop_hive::init_metastore_schema::init_schema': !!bool 'true'
  'hadoop::ranger_kms::ks_jpa_jdbc_user': 'kmsadmin'
  'hadoop_hbase::common_config::on_s3': !!bool 'false'
  'hadoop::namenode::has_namenode': !!bool 'true'
  'hue::server:database_type': 'mysql'
  'bigtop::bigtop_repo_uri': 'file:///var/aws/emr/packages/bigtop'
  'presto::common::presto_config_overrides':
    'graceful-shutdown-timeout': '0s'
    'jmx.rmiregistry.port': '9080'
    'jmx.rmiserver.port': '9081'
    'query.max-memory': '9830MB'
  'hadoop_hive::common_config::user_log_dir': '/var/log/hive/user'
  'hadoop_pig::client::pig_overrides':
    'log4jconf': '/etc/pig/conf/log4j.properties'
    'pig.location.check.strict': !!bool 'false'
  'hadoop::common_core::s3_buffer_dirs':
  - '/mnt/s3'
  - '/mnt1/s3'
  'trino::common::node_id': '%{hiera(''emr::instance_id'')}'
  'trino::common::https_port': '8446'
  'hadoop_hive::init_metastore_schema::skip_init_schema': !!bool 'false'
  'hadoop::common_yarn::yarn_env_overrides':
    'export':
      'YARN_OPTS': ''
      'HADOOP_OPTS': '"$HADOOP_OPTS -XX:+ExitOnOutOfMemoryError"'
      'YARN_PROXYSERVER_HEAPSIZE': '2416'
      'YARN_NODEMANAGER_HEAPSIZE': '2048'
      'YARN_RESOURCEMANAGER_HEAPSIZE': '2416'
  'hadoop::enable_docker_client_credential_provider': !!bool 'true'
  'hadoop::common_yarn::container_executor_overrides':
    'docker':
      'module.enabled': 'true'
      'docker.privileged-containers.enabled': 'false'
      'docker.allowed.capabilities': 'CHOWN,DAC_OVERRIDE,FSETID,FOWNER,MKNOD,NET_RAW,SETGID,SETUID,SETFCAP,SETPCAP,NET_BIND_SERVICE,SYS_CHROOT,KILL,AUDIT_WRITE,DAC_READ_SEARCH,SYS_PTRACE,SYS_ADMIN'
      'docker.allowed.networks': 'emr-docker-bridge,host,bridge,none'
  'bigtop_mysql::server::grants':
    '%{hiera(''hue::server:database_user'')}@%/%{hiera(''hue::server:database_name'')}.*':
      'privileges':
      - 'ALL'
      'table': '%{hiera(''hue::server:database_name'')}.*'
      'user': '%{hiera(''hue::server:database_user'')}@%'
  'emr::node_type': 'core'
  'bigtop::roles':
  - 'emr-ddb'
  - 'emr-goodies'
  - 'emr-kinesis'
  - 'emrfs'
  - 'datanode'
  - 'hdfs-library'
  - 'mapred-app'
  - 'nodemanager'
  'bigtop_mysql::server::override_options':
    'mysqld':
      'bind-address': '%{hiera(''bigtop_mysql::server::host'')}'
      'log-error': '/var/log/mariadb/mariadb.log'
      'pid-file': '/var/run/mariadb/mariadb.pid'
      'sql_mode': 'ANSI_QUOTES,NO_BACKSLASH_ESCAPES'
      'ssl-disable': !!bool 'true'
    'mysqld_safe':
      'log-error': '/var/log/mariadb/mariadb.log'
  'bigtop_mysql::server::users':
    '%{hiera(''hue::server:database_user'')}@%':
      'password_hash': '******'
  'tez::client::tez_tarball_path': 'hdfs:///apps/tez/tez.tar.gz'
  'hue::server::generate_secret_key_options':
    'length': !!int '60'
    'charset': 'alphanumeric'
  'bigtop::jdk_preinstalled': !!bool 'true'
  'hadoop::generate_secrets': !!bool 'true'
  'hadoop::resourcemanager::is_first_rm': !!bool 'true'
  'ganglia::metadata_collector::use_old_default_rra': !!bool 'true'
  'hadoop_zookeeper::server::zookeeper_config_overrides':
    'admin.serverPort': !!int '8341'
  'spark::use_spark_rapids': !!bool 'false'
  'hadoop_hive::common_config::hive_env_overrides':
    'export':
      'HIVE_AUX_JARS_PATH': '${HIVE_AUX_JARS_PATH}${HIVE_AUX_JARS_PATH:+:}/usr/lib/hive-hcatalog/share/hcatalog'
      'HADOOP_HEAPSIZE': '1000'
      'USE_HADOOP_SLF4J_BINDING': 'false'
  'tomcat::common_config::tomcat_server_overrides': {}
  'hadoop::namenode::is_first_namenode': !!bool 'true'
  'hadoop::use_emrfs': !!bool 'true'
  'hadoop::kms::kms_env_overrides':
    'export':
      'HADOOP_OPTS': '"$HADOOP_OPTS -server -XX:+ExitOnOutOfMemoryError --add-exports=jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED
        --add-exports=java.base/sun.security.x509=ALL-UNNAMED --add-exports=java.base/sun.security.util=ALL-UNNAMED
        --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.base/java.lang.reflect=ALL-UNNAMED
        --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.math=ALL-UNNAMED
        --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.util.concurrent=ALL-UNNAMED
        -XX:+IgnoreUnrecognizedVMOptions --add-opens=java.base/java.net=ALL-UNNAMED
        --add-opens=java.base/java.text=ALL-UNNAMED --add-opens=java.base/java.util.concurrent.atomic=ALL-UNNAMED
        --add-opens=java.base/java.nio=ALL-UNNAMED --add-opens=java.base/sun.nio.ch=ALL-UNNAMED
        --add-opens=java.base/sun.nio.cs=ALL-UNNAMED --add-opens=java.base/java.time=ALL-UNNAMED
        --add-opens=java.base/java.util.regex=ALL-UNNAMED --add-opens=java.base/jdk.internal=ALL-UNNAMED
        --add-opens=java.base/jdk.internal.ref=ALL-UNNAMED --add-opens=java.base/jdk.internal.reflect=ALL-UNNAMED
        --add-opens=java.sql/java.sql=ALL-UNNAMED --add-opens=java.base/jdk.internal.util=ALL-UNNAMED
        --add-opens=java.base/jdk.internal.util.random=ALL-UNNAMED --add-opens=java.base/java.lang.invoke=ALL-UNNAMED
        --add-opens=java.base/sun.util.calendar=ALL-UNNAMED --add-opens=jdk.management/com.sun.management.internal=ALL-UNNAMED"'
  'hadoop_hbase::base_relative_rootdir': '/user/hbase'
  'bigtop::provision_repo': !!bool 'false'
  'hadoop::kms::hadoop_kms_https_port': '9393'
  'hadoop::proxyusers':
    'hue':
      'hosts': '*'
      'groups': '*'
    'oozie':
      'hosts': '*'
      'groups': '*'
    'hive':
      'hosts': '*'
      'groups': '*'
    'presto':
      'hosts': '*'
      'groups': '*'
    'livy':
      'hosts': '*'
      'groups': '*'
    'httpfs':
      'hosts': '*'
      'groups': '*'
    'trino':
      'hosts': '*'
      'groups': '*'
  'emr_cluster_metrics::amazon_cloudwatch_agent::add_metric_destinations': !!bool 'true'
  'hadoop_hbase::common_config::hbase_site_overrides':
    'hbase.rest.port': !!int '8070'
    'hbase.coprocessor.region.classes': 'org.apache.hadoop.hbase.coprocessor.example.RefreshHFilesEndpoint'
  'zeppelin::server::zeppelin_env_overrides':
    'export':
      'SPARK_SUBMIT_OPTIONS': '"$SPARK_SUBMIT_OPTIONS --conf ''spark.executorEnv.PYTHONPATH=/usr/lib/spark/python/lib/py4j-src.zip:/usr/lib/spark/python/:<CPS>{{PWD}}/pyspark.zip<CPS>{{PWD}}/py4j-src.zip''
        --conf spark.yarn.isPython=true"'
  'hadoop::hadoop_lzo_codec': !!bool 'true'
  'presto::common::http_port': '8889'
  'ganglia::web::auth_system': 'disabled'
  'emr_cluster_metrics::amazon_cloudwatch_agent::amazon_cloudwatch_agent_overrides':
    'metrics':
      'metrics_collected':
        'otlp':
        - 'grpc_endpoint': '127.0.0.1:4317'
        'cpu':
          'measurement':
          - 'cpu_usage_active'
          - 'cpu_usage_guest'
          - 'cpu_usage_guest_nice'
          - 'cpu_usage_idle'
          - 'cpu_usage_iowait'
          - 'cpu_usage_irq'
          - 'cpu_usage_nice'
          - 'cpu_usage_softirq'
          - 'cpu_usage_steal'
          - 'cpu_usage_system'
          - 'cpu_usage_user'
          'metrics_collection_interval': !!int '60'
          'resources':
          - '*'
          'totalcpu': !!bool 'true'
          'drop_original_metrics':
          - 'cpu_usage_active'
          - 'cpu_usage_guest'
          - 'cpu_usage_guest_nice'
          - 'cpu_usage_idle'
          - 'cpu_usage_iowait'
          - 'cpu_usage_irq'
          - 'cpu_usage_nice'
          - 'cpu_usage_softirq'
          - 'cpu_usage_steal'
          - 'cpu_usage_system'
          - 'cpu_usage_user'
          'append_dimensions':
            'cluster.id': '%{hiera(''emr::cluster_id'')}'
            'instance.id': '%{hiera(''emr::instance_id'')}'
            'node.type': '%{hiera(''emr::node_type'')}'
            'service.name': 'system'
        'disk':
          'measurement':
          - 'free'
          - 'total'
          - 'used'
          - 'used_percent'
          'metrics_collection_interval': !!int '60'
          'resources':
          - '*'
          'drop_original_metrics':
          - 'free'
          - 'total'
          - 'used'
          - 'used_percent'
          'append_dimensions':
            'cluster.id': '%{hiera(''emr::cluster_id'')}'
            'instance.id': '%{hiera(''emr::instance_id'')}'
            'node.type': '%{hiera(''emr::node_type'')}'
            'service.name': 'system'
        'mem':
          'measurement':
          - 'mem_active'
          - 'mem_available'
          - 'mem_available_percent'
          - 'mem_free'
          - 'mem_inactive'
          - 'mem_total'
          - 'mem_used'
          - 'mem_used_percent'
          - 'mem_buffered'
          - 'mem_cached'
          'metrics_collection_interval': !!int '60'
          'append_dimensions':
            'cluster.id': '%{hiera(''emr::cluster_id'')}'
            'instance.id': '%{hiera(''emr::instance_id'')}'
            'node.type': '%{hiera(''emr::node_type'')}'
            'service.name': 'system'
        'net':
          'measurement':
          - 'bytes_recv'
          - 'bytes_sent'
          - 'packets_recv'
          - 'packets_sent'
          'metrics_collection_interval': !!int '60'
          'resources':
          - '*'
          'drop_original_metrics':
          - 'bytes_recv'
          - 'bytes_sent'
          - 'packets_recv'
          - 'packets_sent'
          'append_dimensions':
            'cluster.id': '%{hiera(''emr::cluster_id'')}'
            'instance.id': '%{hiera(''emr::instance_id'')}'
            'node.type': '%{hiera(''emr::node_type'')}'
            'service.name': 'system'
        'processes':
          'measurement':
          - 'running'
          - 'total'
          'metrics_collection_interval': !!int '60'
          'append_dimensions':
            'cluster.id': '%{hiera(''emr::cluster_id'')}'
            'instance.id': '%{hiera(''emr::instance_id'')}'
            'node.type': '%{hiera(''emr::node_type'')}'
            'service.name': 'system'
        'swap':
          'measurement':
          - 'swap_free'
          - 'swap_used'
          - 'swap_used_percent'
          'metrics_collection_interval': !!int '60'
          'append_dimensions':
            'cluster.id': '%{hiera(''emr::cluster_id'')}'
            'instance.id': '%{hiera(''emr::instance_id'')}'
            'node.type': '%{hiera(''emr::node_type'')}'
            'service.name': 'system'
      'metrics_destinations':
        'otlp':
          'endpoint': 'emr-primary.internal:4318'
          'tls':
            'insecure': !!bool 'false'
            'key_file': '/etc/emr-cluster-metrics/amazon-cloudwatch-agent/tls-artifacts/key.pem'
            'cert_file': '/etc/emr-cluster-metrics/amazon-cloudwatch-agent/tls-artifacts/cert.pem'
            'ca_file': '/etc/emr-cluster-metrics/amazon-cloudwatch-agent/tls-artifacts/ca-cert.pem'
    'agent':
      'metrics_collection_interval': !!int '60'
      'logfile': '/var/log/emr-cluster-metrics/amazon-cloudwatch-agent/amazon-cloudwatch-agent.log'
      'run_as_user': 'root'
      'omit_hostname': !!bool 'true'
  'bigtop::roles_enabled': !!bool 'true'
  'tez::client::tez_site_overrides':
    'tez.am.grouping.max-size': !!int '134217728'
    'tez.am.dag.cleanup.on.completion': !!bool 'true'
    'tez.runtime.intermediate-output.should-compress': !!bool 'true'
    'tez.runtime.intermediate-input.is-compressed': !!bool 'true'
    'tez.runtime.intermediate-output.compress.codec': 'org.apache.hadoop.io.compress.LzoCodec'
    'tez.runtime.intermediate-input.compress.codec': 'org.apache.hadoop.io.compress.LzoCodec'
    'tez.use.cluster.hadoop-libs': !!bool 'true'
    'tez.history.logging.service.class': 'org.apache.tez.dag.history.logging.ats.ATSV15HistoryLoggingService'
    'tez.tez-ui.history-url.base': 'http://%{hiera(''bigtop::hadoop_head_node'')}:8080/tez-ui/'
    'tez.grouping.min-size': !!int '16777216'
    'tez.grouping.max-size': !!int '1073741824'
    'tez.runtime.pipelined.sorter.lazy-allocate.memory': 'true'
    'tez.counters.max': !!int '1200'
    'tez.task.resource.memory.mb': !!int '3072'
    'tez.runtime.io.sort.mb': !!int '819'
    'tez.runtime.unordered.output.buffer.size-mb': !!int '184'
  'hadoop::kms::kms_site_overrides':
    'hadoop.kms.proxyuser.hdfs.hosts': '*'
    'hadoop.kms.proxyuser.hdfs.groups': '*'
    'hadoop.kms.proxyuser.hdfs.users': '*'
    'hadoop.kms.proxyuser.livy.hosts': '*'
    'hadoop.kms.proxyuser.livy.groups': '*'
    'hadoop.kms.proxyuser.livy.users': '*'
  'hadoop::use_kinesis': !!bool 'true'
  'hadoop::common_mapred_app::yarn_app_mapreduce_am_jhs_backup_dir': '/var/log/hadoop-mapreduce/history'
  'emr::is_reprovision': !!bool 'false'
  'zeppelin::server::hadoop_lzo_codec': !!bool 'true'
  'spark::common::embedded_metastore_dir': '/var/lib/hadoop/metastore'
  'hadoop::common_yarn::yarn_site_overrides':
    'yarn.node-labels.enabled': !!bool 'false'
    'yarn.node-labels.am.default-node-label-expression': ''
    'yarn.node-labels.fs-store.root-dir': 'file:///mnt/var/lib/hadoop-yarn/nodelabels'
    'yarn.node-labels.configuration-type': 'distributed'
    'yarn.nodemanager.node-labels.provider': 'config'
    'yarn.log-aggregation-enable': !!bool 'true'
    'yarn.log-aggregation.enable-local-cleanup': !!bool 'false'
    'yarn.nodemanager.address': '${yarn.nodemanager.hostname}:8041'
    'yarn.nodemanager.container-metrics.enable': !!bool 'false'
    'yarn.nodemanager.recovery.enabled': 'true'
    'yarn.nodemanager.recovery.supervised': 'true'
    'yarn.resourcemanager.nodes.exclude-path': '/emr/instance-controller/lib/yarn.nodes.exclude.xml'
    'yarn.resourcemanager.webapp.cross-origin.enabled': !!bool 'true'
    'yarn.scheduler.increment-allocation-mb': '1'
    'yarn.resourcemanager.node-ip-cache.expiry-interval-secs': !!int '3600'
    'yarn.nodemanager.default-container-executor.log-dirs.permissions': !!int '750'
    'yarn.timeline-service.version': '1.5'
    'yarn.timeline-service.enabled': 'true'
    'yarn.timeline-service.store-class': 'org.apache.hadoop.yarn.server.timeline.EntityGroupFSTimelineStore'
    'yarn.nodemanager.linux-container-executor.group': 'yarn'
    'yarn.nodemanager.linux-container-executor.nonsecure-mode.local-user': 'hadoop'
    'yarn.nodemanager.runtime.linux.allowed-runtimes': 'default,docker'
    'yarn.nodemanager.runtime.linux.docker.allowed-container-networks': 'emr-docker-bridge,host,bridge'
    'yarn.nodemanager.runtime.linux.docker.privileged-containers.allowed': 'false'
    'yarn.nodemanager.runtime.linux.docker.capabilities': 'CHOWN,DAC_OVERRIDE,FSETID,FOWNER,MKNOD,NET_RAW,SETGID,SETUID,
      SETFCAP,SETPCAP,NET_BIND_SERVICE,SYS_CHROOT,KILL,AUDIT_WRITE'
    'yarn.nodemanager.env-whitelist': 'JAVA_HOME,HADOOP_COMMON_HOME,HADOOP_HDFS_HOME,HADOOP_CONF_DIR,CLASSPATH_PREPEND_DISTCACHE,HADOOP_YARN_HOME,HADOOP_MAPRED_HOME,PATH'
    'yarn.webapp.api-service.enable': 'true'
    'yarn.resourcemanager.client.thread-count': '64'
    'yarn.nodemanager.resource.cpu-vcores': '4'
    'yarn.core.nodemanager.resource.memory-mb': '12288'
    'yarn.resourcemanager.resource-tracker.client.thread-count': '64'
    'yarn.node-labels.allow_market_type_node_label': 'true'
    'yarn.nodemanager.container-manager.thread-count': '64'
    'yarn.resourcemanager.scheduler.client.thread-count': '64'
    'yarn.scheduler.maximum-allocation-mb': '12288'
    'yarn.nodemanager.localizer.client.thread-count': '20'
    'yarn.master.nodemanager.resource.memory-mb': '12288'
    'yarn.log-aggregation.retain-seconds': '172800'
    'yarn.nodemanager.localizer.fetch.thread-count': '20'
    'yarn.nodemanager.resource.memory-mb': '12288'
    'yarn.scheduler.maximum-allocation-vcores': '128'
    'yarn.nodemanager.vmem-pmem-ratio': '100'
    'yarn.resourcemanager.hostname': 'ip-172-31-47-200.ec2.internal'
    'yarn.scheduler.minimum-allocation-mb': '1'
    'yarn.nodemanager.local-dirs': '/mnt/yarn,/mnt1/yarn'
    'yarn.nodemanager.node-labels.provider.configured-node-partition': 'ON_DEMAND'
    'yarn.node-attribute.fs-store.root-dir': 'file:///mnt/var/lib/hadoop-yarn/nodeattributes'
    'yarn.nodemanager.node-attributes.provider': 'config'
    'yarn.nodemanager.node-attributes.provider.configured-node-attributes': 'instanceType,STRING,m5.xlarge'
  'hadoop_oozie::server::hadoop_lzo_codec': !!bool 'true'
  'hadoop::namenode::is_reprovision': !!bool 'false'
  'bigtop::hadoop_head_node': 'ip-172-31-47-200.ec2.internal'
  'emr::marker_files_directory': '/tmp/puppet_inter_thread_comm1481372758128227571'
  'presto::common::presto_hive_overrides':
    'hive.non-managed-table-writes-enabled': !!bool 'true'
    'hive.s3-file-system-type': 'EMRFS'
    'hive.hdfs.impersonation.enabled': !!bool 'true'
    'hive.metastore.uri': 'thrift://ip-172-31-47-200.ec2.internal:9083'
  'trino::common::hive_s3_staging_dir': '/mnt/tmp'
  'hadoop::common_yarn::capacity_scheduler_overrides':
    'yarn.scheduler.capacity.maximum-am-resource-percent': !!float '0.5'
    'yarn.scheduler.capacity.root.accessible-node-labels': '*'
    'yarn.scheduler.capacity.root.default.accessible-node-labels': '*'
    'yarn.scheduler.capacity.per-node-heartbeat.maximum-offswitch-assignments': !!int '2'
    'yarn.scheduler.capacity.schedule-asynchronously.enable': !!bool 'true'
    'yarn.scheduler.capacity.root.accessible-node-labels.ON_DEMAND.capacity': !!int '100'
    'yarn.scheduler.capacity.root.default.accessible-node-labels.ON_DEMAND.capacity': !!int '100'
    'yarn.scheduler.capacity.root.accessible-node-labels.SPOT.capacity': !!int '100'
    'yarn.scheduler.capacity.root.default.accessible-node-labels.SPOT.capacity': !!int '100'
  'hadoop::ranger_kms::generate_ks_truststore_password': !!bool 'true'
  'hadoop_oozie::server::init_sharelib_timeout': !!int '2700'
  'spark::common::hive_site_overrides':
    'hive.metastore.connect.retries': !!int '15'
    'javax.jdo.option.ConnectionURL': 'jdbc:derby:;databaseName=/var/lib/hadoop/metastore/metastore_db;create=true'
  'iceberg::common::iceberg_defaults_overrides':
    'iceberg.enabled': 'false'
  'hadoop::common_hdfs::namenode_data_dirs':
  - '/mnt/namenode'
  - '/mnt1/namenode'
  'spark::common::spark_defaults_overrides':
    'spark.driver.defaultJavaOptions': '-XX:OnOutOfMemoryError=''kill -9 %p'''
    'spark.dynamicAllocation.enabled': !!bool 'true'
    'spark.blacklist.decommissioning.enabled': !!bool 'true'
    'spark.blacklist.decommissioning.timeout': '1h'
    'spark.resourceManager.cleanupExpiredHost': !!bool 'true'
    'spark.stage.attempt.ignoreOnDecommissionFetchFailure': !!bool 'true'
    'spark.decommissioning.timeout.threshold': !!int '20'
    'spark.executor.defaultJavaOptions': '-verbose:gc -XX:+PrintGCDetails -XX:+PrintGCDateStamps
      -XX:OnOutOfMemoryError=''kill -9 %p'''
    'spark.hadoop.yarn.timeline-service.enabled': !!bool 'false'
    'spark.yarn.appMasterEnv.SPARK_PUBLIC_DNS': '$(hostname -f)'
    'spark.files.fetchFailure.unRegisterOutputOnHost': !!bool 'true'
    'spark.hadoop.mapreduce.fileoutputcommitter.algorithm.version.emr_internal_use_only.EmrFileSystem': !!int '2'
    'spark.hadoop.mapreduce.fileoutputcommitter.cleanup-failures.ignored.emr_internal_use_only.EmrFileSystem': !!bool 'true'
    'spark.hadoop.mapreduce.output.fs.optimized.committer.enabled': !!bool 'true'
    'spark.hadoop.fs.s3.getObject.initialSocketTimeoutMilliseconds': !!int '2000'
  'hadoop::ranger_kms::ks_jpa_credential_provider_path': '/var/lib/ranger-kms/kms.keystore'
  'hue::server::init_db_schema': !!bool 'true'
  'emr::apps_mounted_dirs':
  - '/mnt1'
  'hadoop_hive::common_config::hive_site_overrides':
    'datanucleus.fixedDatastore': !!bool 'true'
    'mapred.reduce.tasks': !!int '-1'
    'mapred.max.split.size': !!int '256000000'
    'hive.mapjoin.hybridgrace.hashtable': !!bool 'false'
    'hive.merge.nway.joins': !!bool 'false'
    'hive.metastore.connect.retries': !!int '15'
    'hive.optimize.joinreducededuplication': !!bool 'false'
    'hive.optimize.sort.dynamic.partition.threshold': !!int '1'
    'hive.server2.materializedviews.registry.impl': 'DUMMY'
    'hive.tez.auto.reducer.parallelism': !!bool 'true'
    'hive.vectorized.execution.mapjoin.minmax.enabled': !!bool 'true'
    'hive.vectorized.execution.mapjoin.native.fast.hashtable.enabled': !!bool 'true'
    'hive.optimize.dynamic.partition.hashjoin': !!bool 'true'
    'hive.compactor.initiator.on': !!bool 'true'
    'hive.blobstore.use.output-committer': !!bool 'true'
    'hive.llap.daemon.service.hosts': '@llap0'
    'hive.llap.execution.mode': 'only'
    'hive.optimize.metadataonly': 'true'
    'hive.tez.bucket.pruning': 'true'
    'hive.exec.mode.local.auto': 'true'
    'hive.exec.mode.local.auto.inputbytes.max': '50000000'
    'hive.query.reexecution.stats.persist.scope': 'hiveserver'
    'hive.auto.convert.join.noconditionaltask.size': '1073741824'
    'hive.stats.fetch.column.stats': !!bool 'true'
    'hive.compactor.worker.threads': !!int '1'
  'hue::server::generate_secrets': !!bool 'true'
  'hadoop::common_yarn::use_mapreduce_shuffle': !!bool 'true'
  'ganglia::monitor::host_dmax': '640'
  'hue::server::hue_apps':
  - 'impala'
  - 'search'
  - 'useradmin'
  'emr::is_merge_reconfig': !!bool 'false'
  'hadoop::init_hdfs::dirs':
    '/tmp':
      'perms': !!int '1777'
    '/user':
      'perms': !!int '755'
      'owner': 'hdfs'
    '/user/hadoop':
      'perms': !!int '777'
      'owner': 'hadoop'
    '/user/root':
      'perms': !!int '777'
      'owner': 'root'
    '/var/log':
      'perms': !!int '1775'
      'owner': 'yarn'
      'group': 'mapred'
    '/tmp/hadoop-yarn':
      'perms': !!int '777'
      'owner': 'mapred'
      'group': 'mapred'
    '/tmp/hadoop-yarn/staging':
      'perms': !!int '1777'
      'owner': 'mapred'
      'group': 'mapred'
    '/tmp/hadoop-yarn/staging/history':
      'perms': !!int '1777'
      'owner': 'mapred'
      'group': 'mapred'
    '/user/history':
      'perms': !!int '755'
      'owner': 'mapred'
      'group': 'mapred'
  'ganglia::monitor::is_deaf': !!bool 'true'
  'hcatalog::webhcat::common::generate_secrets': !!bool 'true'
  'emrfs::library::emrfs_site_overrides':
    'fs.s3.consistent.metadata.etag.verification.enabled': 'true'
    'fs.s3.sts.endpoint': 'sts.us-east-1.amazonaws.com'
    'fs.s3.buckets.create.region': 'us-east-1'

2026-01-22 00:07:16,574 INFO BigtopPuppeteer: setConfig reportdir: /var/log/provision-node/reports/0/f94d7a27-e867-49d4-95ef-af935a17d51e
2026-01-22 00:07:18,313 INFO BigtopPuppeteer: Set 1 puppet configs
2026-01-22 00:09:10,244 INFO BigtopPuppeteer: Applied puppet core_set : Changes were successfully applied. 
2026-01-22 00:09:10,262 INFO PuppetConfigurator: contents of aux_set_1_hiera.yaml:
  ---
  defaults:
    datadir: /etc/puppetlabs/puppet/hieradata
    data_hash: yaml_data
  hierarchy:
  - name: bigtop
    paths:
    - site.yaml
    - bigtop/%{hadoop_hiera_ha_path}.yaml
    - bigtop/cluster.yaml
    - generated.yaml
    - aux_set_1_context.yaml
  version: 5

2026-01-22 00:09:10,262 INFO PuppetConfigurator: contents of aux_set_2_hiera.yaml:
  ---
  defaults:
    datadir: /etc/puppetlabs/puppet/hieradata
    data_hash: yaml_data
  hierarchy:
  - name: bigtop
    paths:
    - site.yaml
    - bigtop/%{hadoop_hiera_ha_path}.yaml
    - bigtop/cluster.yaml
    - generated.yaml
    - aux_set_2_context.yaml
  version: 5

2026-01-22 00:09:10,263 INFO BigtopPuppeteer: setConfig reportdir: /var/log/provision-node/reports/0/f94d7a27-e867-49d4-95ef-af935a17d51e
2026-01-22 00:09:10,263 INFO BigtopPuppeteer: setConfig reportdir: /var/log/provision-node/reports/0/f94d7a27-e867-49d4-95ef-af935a17d51e
2026-01-22 00:09:11,867 INFO BigtopPuppeteer: Set 1 puppet configs
2026-01-22 00:09:11,944 INFO BigtopPuppeteer: Set 1 puppet configs
2026-01-22 00:09:16,209 INFO BigtopPuppeteer: Applied puppet aux_set_2 : There were no changes to apply. 
2026-01-22 00:09:16,447 INFO BigtopPuppeteer: Applied puppet aux_set_1 : There were no changes to apply. 
2026-01-22 00:09:16,569 INFO DefaultPuppetYamlReportProcessor: Found latest puppet report file /var/log/provision-node/reports/0/f94d7a27-e867-49d4-95ef-af935a17d51e/core_set/ip-172-31-43-87.ec2.internal/202601220009.yaml
2026-01-22 00:09:16,715 INFO DefaultPuppetYamlReportProcessor: Found latest puppet report file /var/log/provision-node/reports/0/f94d7a27-e867-49d4-95ef-af935a17d51e/aux_set_1/ip-172-31-43-87.ec2.internal/202601220009.yaml
2026-01-22 00:09:16,721 INFO DefaultPuppetYamlReportProcessor: Found latest puppet report file /var/log/provision-node/reports/0/f94d7a27-e867-49d4-95ef-af935a17d51e/aux_set_2/ip-172-31-43-87.ec2.internal/202601220009.yaml
2026-01-22 00:09:16,728 INFO DefaultPuppetYamlReportProcessor: New JSON report will be created at /var/log/provision-node/reports/0/f94d7a27-e867-49d4-95ef-af935a17d51e/core_set/ip-172-31-43-87.ec2.internal/202601220009.puppetreport.json
2026-01-22 00:09:16,735 INFO DefaultPuppetYamlReportProcessor: Successfully wrote JSON report to /var/log/provision-node/reports/0/f94d7a27-e867-49d4-95ef-af935a17d51e/core_set/ip-172-31-43-87.ec2.internal/202601220009.puppetreport.json
2026-01-22 00:09:16,735 INFO DefaultPuppetYamlReportProcessor: New JSON report will be created at /var/log/provision-node/reports/0/f94d7a27-e867-49d4-95ef-af935a17d51e/aux_set_1/ip-172-31-43-87.ec2.internal/202601220009.puppetreport.json
2026-01-22 00:09:16,737 INFO DefaultPuppetYamlReportProcessor: Successfully wrote JSON report to /var/log/provision-node/reports/0/f94d7a27-e867-49d4-95ef-af935a17d51e/aux_set_1/ip-172-31-43-87.ec2.internal/202601220009.puppetreport.json
2026-01-22 00:09:16,737 INFO DefaultPuppetYamlReportProcessor: New JSON report will be created at /var/log/provision-node/reports/0/f94d7a27-e867-49d4-95ef-af935a17d51e/aux_set_2/ip-172-31-43-87.ec2.internal/202601220009.puppetreport.json
2026-01-22 00:09:16,738 INFO DefaultPuppetYamlReportProcessor: Successfully wrote JSON report to /var/log/provision-node/reports/0/f94d7a27-e867-49d4-95ef-af935a17d51e/aux_set_2/ip-172-31-43-87.ec2.internal/202601220009.puppetreport.json
