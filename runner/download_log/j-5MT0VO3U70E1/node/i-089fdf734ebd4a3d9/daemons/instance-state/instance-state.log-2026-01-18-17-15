OS is AL2023: /usr/bin/ruby
Sleeping for a random period of time up to 10 minutes
Sleeping for 119.2725328969635 seconds
Sun Jan 18 17:17:01 UTC 2026

# how long have we been up
uptime
 17:17:01 up 5 min,  0 users,  load average: 2.12, 1.03, 0.45

# whats running, with ASCII-art process hierarchy (forest)
if [ "$dumpType" == "full" ]
then
  ps auxwwwf
else
  ps auxf --width=200
fi
USER         PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND
root           2  0.0  0.0      0     0 ?        S    17:11   0:00 [kthreadd]
root           3  0.0  0.0      0     0 ?        I<   17:11   0:00  \_ [rcu_gp]
root           4  0.0  0.0      0     0 ?        I<   17:11   0:00  \_ [rcu_par_gp]
root           5  0.0  0.0      0     0 ?        I<   17:11   0:00  \_ [slub_flushwq]
root           6  0.0  0.0      0     0 ?        I<   17:11   0:00  \_ [netns]
root           7  0.0  0.0      0     0 ?        I    17:11   0:00  \_ [kworker/0:0-xfs-sync/nvme1n1p1]
root           8  0.0  0.0      0     0 ?        I<   17:11   0:00  \_ [kworker/0:0H-events_highpri]
root           9  0.0  0.0      0     0 ?        I    17:11   0:00  \_ [kworker/u8:0-flush-259:1]
root          10  0.0  0.0      0     0 ?        I<   17:11   0:00  \_ [mm_percpu_wq]
root          11  0.0  0.0      0     0 ?        I    17:11   0:00  \_ [rcu_tasks_kthread]
root          12  0.0  0.0      0     0 ?        I    17:11   0:00  \_ [rcu_tasks_rude_kthread]
root          13  0.0  0.0      0     0 ?        I    17:11   0:00  \_ [rcu_tasks_trace_kthread]
root          14  0.0  0.0      0     0 ?        S    17:11   0:00  \_ [ksoftirqd/0]
root          15  0.0  0.0      0     0 ?        I    17:11   0:00  \_ [rcu_preempt]
root          16  0.0  0.0      0     0 ?        S    17:11   0:00  \_ [migration/0]
root          17  0.0  0.0      0     0 ?        I    17:11   0:00  \_ [kworker/0:1-cgroup_release]
root          18  0.0  0.0      0     0 ?        S    17:11   0:00  \_ [cpuhp/0]
root          19  0.0  0.0      0     0 ?        S    17:11   0:00  \_ [cpuhp/1]
root          20  0.0  0.0      0     0 ?        S    17:11   0:00  \_ [migration/1]
root          21  0.0  0.0      0     0 ?        S    17:11   0:00  \_ [ksoftirqd/1]
root          23  0.0  0.0      0     0 ?        I<   17:11   0:00  \_ [kworker/1:0H-events_highpri]
root          24  0.0  0.0      0     0 ?        S    17:11   0:00  \_ [cpuhp/2]
root          25  0.0  0.0      0     0 ?        S    17:11   0:00  \_ [migration/2]
root          26  0.0  0.0      0     0 ?        S    17:11   0:00  \_ [ksoftirqd/2]
root          27  0.0  0.0      0     0 ?        I    17:11   0:00  \_ [kworker/2:0-events]
root          28  0.0  0.0      0     0 ?        I<   17:11   0:00  \_ [kworker/2:0H-events_highpri]
root          29  0.0  0.0      0     0 ?        S    17:11   0:00  \_ [cpuhp/3]
root          30  0.0  0.0      0     0 ?        S    17:11   0:00  \_ [migration/3]
root          31  0.0  0.0      0     0 ?        S    17:11   0:00  \_ [ksoftirqd/3]
root          32  0.0  0.0      0     0 ?        I    17:11   0:00  \_ [kworker/3:0-cgroup_free]
root          33  0.0  0.0      0     0 ?        I<   17:11   0:00  \_ [kworker/3:0H-events_highpri]
root          35  0.0  0.0      0     0 ?        I    17:11   0:00  \_ [kworker/u8:1-xfs_iwalk-2527]
root          37  0.0  0.0      0     0 ?        I    17:11   0:00  \_ [kworker/u8:3-flush-259:1]
root          38  0.0  0.0      0     0 ?        S    17:11   0:00  \_ [kdevtmpfs]
root          39  0.0  0.0      0     0 ?        I<   17:11   0:00  \_ [inet_frag_wq]
root          40  0.0  0.0      0     0 ?        S    17:11   0:00  \_ [kauditd]
root          41  0.0  0.0      0     0 ?        S    17:11   0:00  \_ [khungtaskd]
root          42  0.0  0.0      0     0 ?        S    17:11   0:00  \_ [oom_reaper]
root          43  0.0  0.0      0     0 ?        I<   17:11   0:00  \_ [writeback]
root          44  0.0  0.0      0     0 ?        S    17:11   0:00  \_ [kcompactd0]
root          45  0.0  0.0      0     0 ?        SN   17:11   0:00  \_ [khugepaged]
root          46  0.0  0.0      0     0 ?        I<   17:11   0:00  \_ [cryptd]
root          47  0.0  0.0      0     0 ?        I<   17:11   0:00  \_ [kintegrityd]
root          48  0.0  0.0      0     0 ?        I<   17:11   0:00  \_ [kblockd]
root          49  0.0  0.0      0     0 ?        I<   17:11   0:00  \_ [blkcg_punt_bio]
root          50  0.0  0.0      0     0 ?        I    17:11   0:00  \_ [kworker/2:1-events]
root          52  0.0  0.0      0     0 ?        I<   17:11   0:00  \_ [tpm_dev_wq]
root          53  0.0  0.0      0     0 ?        I<   17:11   0:00  \_ [md]
root          54  0.0  0.0      0     0 ?        I<   17:11   0:00  \_ [edac-poller]
root          55  0.0  0.0      0     0 ?        S    17:11   0:00  \_ [watchdogd]
root          56  0.0  0.0      0     0 ?        I<   17:11   0:00  \_ [kworker/0:1H-kblockd]
root          85  0.0  0.0      0     0 ?        S    17:11   0:00  \_ [kswapd0]
root          88  0.0  0.0      0     0 ?        I<   17:11   0:00  \_ [xfsalloc]
root          89  0.0  0.0      0     0 ?        I<   17:11   0:00  \_ [xfs_mru_cache]
root          92  0.0  0.0      0     0 ?        I<   17:11   0:00  \_ [kthrotld]
root          95  0.0  0.0      0     0 ?        I    17:11   0:00  \_ [kworker/2:2-cgroup_release]
root         143  0.0  0.0      0     0 ?        I<   17:11   0:00  \_ [nvme-wq]
root         145  0.0  0.0      0     0 ?        I<   17:11   0:00  \_ [nvme-reset-wq]
root         147  0.0  0.0      0     0 ?        I<   17:11   0:00  \_ [nvme-delete-wq]
root         153  0.0  0.0      0     0 ?        I    17:11   0:00  \_ [kworker/u8:4-xfs-blockgc/nvme1n1p2]
root         155  0.0  0.0      0     0 ?        I    17:11   0:00  \_ [kworker/u8:5-flush-259:1]
root         157  0.0  0.0      0     0 ?        I    17:11   0:00  \_ [kworker/u8:6-writeback]
root         160  0.0  0.0      0     0 ?        I    17:11   0:00  \_ [kworker/u8:7-flush-259:1]
root         161  0.0  0.0      0     0 ?        I    17:11   0:00  \_ [kworker/u8:8-flush-259:1]
root         197  0.0  0.0      0     0 ?        I<   17:11   0:00  \_ [mld]
root         198  0.0  0.0      0     0 ?        I<   17:11   0:00  \_ [ipv6_addrconf]
root         199  0.0  0.0      0     0 ?        I<   17:11   0:00  \_ [kworker/1:1H-xfs-log/nvme1n1p1]
root         214  0.0  0.0      0     0 ?        I<   17:11   0:00  \_ [kstrp]
root         226  0.0  0.0      0     0 ?        I<   17:11   0:00  \_ [zswap-shrink]
root         227  0.0  0.0      0     0 ?        I<   17:11   0:00  \_ [kworker/u9:0]
root         327  0.0  0.0      0     0 ?        I    17:11   0:00  \_ [kworker/3:1-events]
root         345  0.0  0.0      0     0 ?        I<   17:11   0:00  \_ [kworker/3:1H-kblockd]
root         386  0.0  0.0      0     0 ?        I<   17:11   0:00  \_ [kworker/2:1H-kblockd]
root         979  0.0  0.0      0     0 ?        I    17:11   0:00  \_ [kworker/0:2-mm_percpu_wq]
root         986  0.0  0.0      0     0 ?        I<   17:11   0:00  \_ [xfs-buf/nvme0n1]
root         988  0.0  0.0      0     0 ?        I<   17:11   0:00  \_ [xfs-conv/nvme0n]
root         989  0.0  0.0      0     0 ?        I<   17:11   0:00  \_ [xfs-reclaim/nvm]
root         990  0.0  0.0      0     0 ?        I<   17:11   0:00  \_ [xfs-blockgc/nvm]
root         991  0.0  0.0      0     0 ?        I<   17:11   0:00  \_ [xfs-inodegc/nvm]
root         992  0.0  0.0      0     0 ?        I<   17:11   0:00  \_ [xfs-log/nvme0n1]
root         993  0.0  0.0      0     0 ?        I<   17:11   0:00  \_ [xfs-cil/nvme0n1]
root         994  0.0  0.0      0     0 ?        S    17:11   0:00  \_ [xfsaild/nvme0n1p1]
root        1043  0.0  0.0      0     0 ?        I    17:11   0:00  \_ [kworker/1:2-events]
root        1590  0.0  0.0      0     0 ?        I    17:11   0:00  \_ [kworker/3:3-events]
root        1603  0.0  0.0      0     0 ?        I    17:11   0:00  \_ [kworker/2:3-cgroup_release]
root        1614  0.0  0.0      0     0 ?        I<   17:11   0:00  \_ [rpciod]
root        1615  0.0  0.0      0     0 ?        I<   17:11   0:00  \_ [xprtiod]
root        1666  0.0  0.0      0     0 ?        I<   17:11   0:00  \_ [ena]
root        1847  0.0  0.0      0     0 ?        I    17:11   0:00  \_ [kworker/1:4-cgroup_free]
root        2029  0.0  0.0      0     0 ?        I    17:11   0:00  \_ [kworker/u8:9-flush-259:1]
root        2339  0.0  0.0      0     0 ?        I<   17:11   0:00  \_ [xfs-buf/nvme1n1]
root        2340  0.0  0.0      0     0 ?        I<   17:11   0:00  \_ [xfs-conv/nvme1n]
root        2341  0.0  0.0      0     0 ?        I<   17:11   0:00  \_ [xfs-reclaim/nvm]
root        2342  0.0  0.0      0     0 ?        I<   17:11   0:00  \_ [xfs-blockgc/nvm]
root        2343  0.0  0.0      0     0 ?        I<   17:11   0:00  \_ [xfs-inodegc/nvm]
root        2346  0.0  0.0      0     0 ?        I<   17:11   0:00  \_ [xfs-log/nvme1n1]
root        2348  0.0  0.0      0     0 ?        I<   17:11   0:00  \_ [xfs-cil/nvme1n1]
root        2349  0.0  0.0      0     0 ?        S    17:11   0:00  \_ [xfsaild/nvme1n1p1]
root        2426  0.0  0.0      0     0 ?        I<   17:11   0:00  \_ [xfs-buf/nvme1n1]
root        2427  0.0  0.0      0     0 ?        I<   17:11   0:00  \_ [xfs-conv/nvme1n]
root        2428  0.0  0.0      0     0 ?        I<   17:11   0:00  \_ [xfs-reclaim/nvm]
root        2429  0.0  0.0      0     0 ?        I<   17:11   0:00  \_ [xfs-blockgc/nvm]
root        2430  0.0  0.0      0     0 ?        I<   17:11   0:00  \_ [xfs-inodegc/nvm]
root        2433  0.0  0.0      0     0 ?        I<   17:11   0:00  \_ [xfs-log/nvme1n1]
root        2434  0.0  0.0      0     0 ?        I<   17:11   0:00  \_ [xfs-cil/nvme1n1]
root        2435  0.0  0.0      0     0 ?        S    17:11   0:00  \_ [xfsaild/nvme1n1p2]
root        2482  0.0  0.0      0     0 ?        I    17:11   0:00  \_ [kworker/u8:11-xfs-blockgc/nvme1n1p2]
root        2485  0.0  0.0      0     0 ?        I    17:11   0:00  \_ [kworker/u8:14-flush-259:1]
root        2529  0.0  0.0      0     0 ?        I<   17:11   0:00  \_ [xfs-buf/nvme2n1]
root        2530  0.0  0.0      0     0 ?        I<   17:11   0:00  \_ [xfs-conv/nvme2n]
root        2531  0.0  0.0      0     0 ?        I<   17:11   0:00  \_ [xfs-reclaim/nvm]
root        2532  0.0  0.0      0     0 ?        I<   17:11   0:00  \_ [xfs-blockgc/nvm]
root        2533  0.0  0.0      0     0 ?        I<   17:11   0:00  \_ [xfs-inodegc/nvm]
root        2537  0.0  0.0      0     0 ?        I<   17:11   0:00  \_ [xfs-log/nvme2n1]
root        2538  0.0  0.0      0     0 ?        I<   17:11   0:00  \_ [xfs-cil/nvme2n1]
root        2539  0.0  0.0      0     0 ?        S    17:11   0:00  \_ [xfsaild/nvme2n1]
root        3847  0.0  0.0      0     0 ?        I    17:11   0:00  \_ [kworker/1:5-events]
root        4213  0.0  0.0      0     0 ?        I    17:12   0:00  \_ [kworker/0:3-events_power_efficient]
root        4296  0.0  0.0      0     0 ?        I    17:12   0:00  \_ [kworker/2:4-cgroup_free]
root           1  1.1  0.1 172960 17936 ?        Ss   17:11   0:03 /usr/lib/systemd/systemd --switched-root --system --deserialize=32
root        1039  0.1  0.1  54124 17892 ?        Ss   17:11   0:00 /usr/lib/systemd/systemd-journald
systemd+    1612  0.0  0.0  22600 15092 ?        Ss   17:11   0:00 /usr/lib/systemd/systemd-resolved
root        1613  0.0  0.0  32032 11584 ?        Ss   17:11   0:00 /usr/lib/systemd/systemd-udevd
root        1617  0.0  0.0  21184  2240 ?        S<sl 17:11   0:00 /sbin/auditd
dbus        1789  0.0  0.0   8500  4084 ?        Ss   17:11   0:00 /usr/bin/dbus-broker-launch --scope system --audit
dbus        1790  0.1  0.0   5512  3092 ?        S    17:11   0:00  \_ dbus-broker --log 4 --controller 9 --machine-id ec276fc410ae8f3bf6c5605dc1bcdbc7 --max-bytes 536870912 --max-fds 4096 --max-matches 16384 --audit
root        1791  0.0  0.0  16352  6396 ?        Ss   17:11   0:00 /usr/bin/systemd-inhibit --what=handle-suspend-key:handle-hibernate-key --who=noah --why=acpid instead --mode=block /usr/sbin/acpid -f
root        1831  0.0  0.0   2684  1144 ?        S    17:11   0:00  \_ /usr/sbin/acpid -f
root        1794  0.0  0.0  81420  1576 ?        Ssl  17:11   0:00 /usr/sbin/irqbalance --foreground
libstor+    1795  0.0  0.0   2772  1980 ?        Ss   17:11   0:00 /usr/bin/lsmd -d
rtkit       1798  0.0  0.0 155932  2628 ?        SNsl 17:11   0:00 /usr/libexec/rtkit-daemon
root        1803  0.0  0.0  16872  8044 ?        Ss   17:11   0:00 /usr/lib/systemd/systemd-homed
root        1804  0.0  0.0  19308 11432 ?        Ss   17:11   0:00 /usr/lib/systemd/systemd-logind
root        1806  0.0  0.0 531916  6572 ?        Ssl  17:11   0:00 /usr/libexec/upowerd
systemd+    1848  0.0  0.0 236944  9964 ?        Ss   17:11   0:00 /usr/lib/systemd/systemd-networkd
polkitd     1850  0.0  0.0 314204  7392 ?        Ssl  17:11   0:00 /usr/lib/polkit-1/polkitd --no-debug --log-level=err
root        1876  0.0  0.0 281944  3712 ?        Ssl  17:11   0:00 /usr/sbin/gssproxy -D
root        3820  0.0  0.1 1240692 19888 ?       Ssl  17:11   0:00 /usr/bin/amazon-ssm-agent
root        3829  0.0  0.0  14376  7892 ?        Ss   17:11   0:00 sshd: /usr/sbin/sshd -D [listener] 0 of 10-100 startups
root        3846  0.0  0.0   4764  2616 ?        Ss   17:11   0:00 /usr/sbin/atd -f
root        3849  0.0  0.0 224432  3652 ?        Ss   17:11   0:00 /usr/sbin/crond -n
root        6815  0.0  0.0 224432  2464 ?        S    17:15   0:00  \_ /usr/sbin/CROND -n
root        6816  0.0  0.0 222964  3320 ?        Ss   17:15   0:00      \_ /bin/sh -c timeout -s SIGKILL 2h /usr/bin/dump-instance-state full 10 > /emr/instance-state/instance-state.log-`date +%Y-%m-%d-%H-%M` 2>&1
root        6817  0.0  0.0 221380  1012 ?        S    17:15   0:00          \_ timeout -s SIGKILL 2h /usr/bin/dump-instance-state full 10
root        6819  0.0  0.0 222964  3436 ?        S    17:15   0:00              \_ /usr/bin/bash /usr/bin/dump-instance-state full 10
root        7816  0.0  0.0 223932  3316 ?        R    17:17   0:00                  \_ ps auxwwwf
root        3850  0.0  0.0 221360   988 tty1     Ss+  17:11   0:00 /sbin/agetty -o -p -- \u --noclear - linux
root        3851  0.0  0.0 221404   992 ttyS0    Ss+  17:11   0:00 /sbin/agetty -o -p -- \u --keep-baud 115200,57600,38400,9600 - vt220
chrony      3861  0.0  0.0  86452  3920 ?        S    17:11   0:00 /usr/sbin/chronyd -F 2
root        4124  4.9  2.2 4959444 369288 ?      Sl   17:12   0:14 /usr/lib/jvm/jre-17/bin/java -Xmx1024m -XX:+ExitOnOutOfMemoryError -XX:MinHeapFreeRatio=10 -server -cp /usr/share/aws/emr/instance-controller/lib/*:/home/hadoop/conf:/usr/share/aws/aws-java-sdk-v2/* -Dlog4j2.configurationFile=file:/etc/logpusher/log4j2.xml -Dlog4j2.formatMsgNoLookups=true -Dlog4j2.disable.jmx=true aws157.logpusher.Main /etc/logpusher/logpusher.properties
root        4149  1.4  1.1 5183008 184348 ?      Sl   17:12   0:04 /usr/lib/jvm/java-17-amazon-corretto.x86_64/bin/java -Xmx1500m -Xms300m -XX:+ExitOnOutOfMemoryError -XX:MinHeapFreeRatio=10 -cp /usr/share/aws/aws-java-sdk-v2/*:/usr/share/aws/emr/emr-log-analytics-metrics/lib/*:/home/hadoop/conf -Dlog4j.defaultInitOverride aws157.apppusher.Main
root        4190  0.0  0.0  16352  6400 ?        Ss   17:12   0:00 /usr/lib/systemd/systemd-userdbd
root        4192  0.0  0.0  17104  7576 ?        S    17:12   0:00  \_ systemd-userwork: waiting...
root        4193  0.0  0.0  16980  7636 ?        S    17:12   0:00  \_ systemd-userwork: waiting...
root        4194  0.0  0.0  17104  7584 ?        S    17:12   0:00  \_ systemd-userwork: waiting...
hadoop      4251  6.1  2.6 4972024 421376 ?      Sl   17:12   0:18 /usr/lib/jvm/jre-17/bin/java -Djava.security.properties=/emr/instance-controller/lib/security.properties -Xmx1024m -Djute.maxbuffer=3145728 -XX:+ExitOnOutOfMemoryError -XX:MinHeapFreeRatio=10 -server -cp /usr/share/aws/emr/instance-controller/lib/*:/home/hadoop/conf:/usr/share/aws/aws-java-sdk-v2/* -Dlog4j2.configurationFile=file:/etc/instance-controller/log4j2.xml -Dlog4j2.formatMsgNoLookups=true -Dlog4j2.disable.jmx=true aws157.instancecontroller.Main
root        4483  0.0  0.0 234504  8300 ?        S    17:12   0:00 sudo -u hadoop yarn app --list --appStates ALL
hadoop      4563  0.9  0.9 5988248 155308 ?      Sl   17:12   0:02  \_ /etc/alternatives/jre/bin/java -Dproc_app -Djava.net.preferIPv4Stack=true -Dsun.net.inetaddr.ttl=30 -Dservice.libdir=/usr/lib/hadoop-yarn/./,/usr/lib/hadoop-yarn/lib,/usr/lib/hadoop-hdfs/./,/usr/lib/hadoop-hdfs/lib,/usr/lib/hadoop/./,/usr/lib/hadoop/lib -Dyarn.log.dir=/usr/lib/hadoop/logs -Dyarn.log.file=hadoop.log -Dyarn.home.dir=/usr/lib/hadoop-yarn -Dyarn.root.logger=INFO,console -Djava.library.path=/usr/lib/hadoop/lib/native -Dhadoop.log.dir=/usr/lib/hadoop/logs -Dhadoop.log.file=hadoop.log -Dhadoop.home.dir=/usr/lib/hadoop -Dhadoop.id.str=hadoop -Dhadoop.root.logger=INFO,console -Dhadoop.policy.file=hadoop-policy.xml -Dhadoop.security.logger=INFO,NullAppender org.apache.hadoop.yarn.client.cli.ApplicationCLI app --list --appStates ALL
root        4485  0.0  0.0 221812  2284 ?        S    17:12   0:00 grep application_
root        4486  0.0  0.0 224652  3232 ?        S    17:12   0:00 awk -F\t {gsub(/^ +| +$/, "", $1);gsub(/^ +| +$/, "", $6);gsub(/^ +| +$/, "", $10); print $1 "," $6 "," $10}
hadoop      4547  0.0  0.0  22212 14224 ?        Ss   17:12   0:00 /usr/lib/systemd/systemd --user
hadoop      4549  0.0  0.0 174436  7304 ?        S    17:12   0:00  \_ (sd-pam)
root        5100  0.0  0.2 1881680 41680 ?       Ssl  17:13   0:00 /usr/bin/containerd
root        5126  0.0  0.4 2003768 80416 ?       Ssl  17:13   0:00 /usr/bin/dockerd -H fd:// --containerd=/run/containerd/containerd.sock --default-ulimit nofile=32768:65536
hdfs        5878  4.1  2.0 2887152 324056 ?      Sl   17:13   0:09 /usr/lib/jvm/jre-17/bin/java -Dproc_datanode -Djava.net.preferIPv4Stack=true -server -XX:+ExitOnOutOfMemoryError --add-exports=jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED --add-exports=java.base/sun.security.x509=ALL-UNNAMED --add-exports=java.base/sun.security.util=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.base/java.lang.reflect=ALL-UNNAMED --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.math=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.util.concurrent=ALL-UNNAMED -XX:+IgnoreUnrecognizedVMOptions --add-opens=java.base/java.net=ALL-UNNAMED --add-opens=java.base/java.text=ALL-UNNAMED --add-opens=java.base/java.util.concurrent.atomic=ALL-UNNAMED --add-opens=java.base/java.nio=ALL-UNNAMED --add-opens=java.base/sun.nio.ch=ALL-UNNAMED --add-opens=java.base/sun.nio.cs=ALL-UNNAMED --add-opens=java.base/java.time=ALL-UNNAMED --add-opens=java.base/java.util.regex=ALL-UNNAMED --add-opens=java.base/jdk.internal=ALL-UNNAMED --add-opens=java.base/jdk.internal.ref=ALL-UNNAMED --add-opens=java.base/jdk.internal.reflect=ALL-UNNAMED --add-opens=java.sql/java.sql=ALL-UNNAMED --add-opens=java.base/jdk.internal.util=ALL-UNNAMED --add-opens=java.base/jdk.internal.util.random=ALL-UNNAMED --add-opens=java.base/java.lang.invoke=ALL-UNNAMED --add-opens=java.base/sun.util.calendar=ALL-UNNAMED --add-opens=jdk.management/com.sun.management.internal=ALL-UNNAMED -Dhadoop.security.logger=ERROR,DRFAS -Dyarn.log.dir=/var/log/hadoop-hdfs -Dyarn.log.file=hadoop-hdfs-datanode-ip-172-31-44-238.ec2.internal.log -Dyarn.home.dir=/usr/lib/hadoop-yarn -Dyarn.root.logger=INFO,console -Djava.library.path=:/usr/lib/hadoop-lzo/lib/native:/usr/lib/hadoop/lib/native -Xmx778m -Dhadoop.log.dir=/var/log/hadoop-hdfs -Dhadoop.log.file=hadoop-hdfs-datanode-ip-172-31-44-238.ec2.internal.log -Dhadoop.home.dir=/usr/lib/hadoop -Dhadoop.id.str=hdfs -Dhadoop.root.logger=INFO,DRFA -Dhadoop.policy.file=hadoop-policy.xml -Dsun.net.inetaddr.ttl=3600 org.apache.hadoop.hdfs.server.datanode.DataNode
yarn        6522 13.5  2.5 4345592 417020 ?      Sl   17:14   0:16 /usr/lib/jvm/jre-17/bin/java -Dproc_nodemanager -Djava.net.preferIPv4Stack=true -server -XX:+ExitOnOutOfMemoryError --add-exports=jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED --add-exports=java.base/sun.security.x509=ALL-UNNAMED --add-exports=java.base/sun.security.util=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.base/java.lang.reflect=ALL-UNNAMED --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.math=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.util.concurrent=ALL-UNNAMED -XX:+IgnoreUnrecognizedVMOptions --add-opens=java.base/java.net=ALL-UNNAMED --add-opens=java.base/java.text=ALL-UNNAMED --add-opens=java.base/java.util.concurrent.atomic=ALL-UNNAMED --add-opens=java.base/java.nio=ALL-UNNAMED --add-opens=java.base/sun.nio.ch=ALL-UNNAMED --add-opens=java.base/sun.nio.cs=ALL-UNNAMED --add-opens=java.base/java.time=ALL-UNNAMED --add-opens=java.base/java.util.regex=ALL-UNNAMED --add-opens=java.base/jdk.internal=ALL-UNNAMED --add-opens=java.base/jdk.internal.ref=ALL-UNNAMED --add-opens=java.base/jdk.internal.reflect=ALL-UNNAMED --add-opens=java.sql/java.sql=ALL-UNNAMED --add-opens=java.base/jdk.internal.util=ALL-UNNAMED --add-opens=java.base/jdk.internal.util.random=ALL-UNNAMED --add-opens=java.base/java.lang.invoke=ALL-UNNAMED --add-opens=java.base/sun.util.calendar=ALL-UNNAMED --add-opens=jdk.management/com.sun.management.internal=ALL-UNNAMED -XX:+ExitOnOutOfMemoryError -Dsun.net.inetaddr.ttl=30 -Dyarn.log.dir=/var/log/hadoop-yarn -Dyarn.log.file=hadoop-yarn-nodemanager-ip-172-31-44-238.ec2.internal.log -Dyarn.home.dir=/usr/lib/hadoop-yarn -Dyarn.root.logger=INFO,console -Djava.library.path=:/usr/lib/hadoop-lzo/lib/native:/usr/lib/hadoop/lib/native -Xmx2048m -Dhadoop.log.dir=/var/log/hadoop-yarn -Dhadoop.log.file=hadoop-yarn-nodemanager-ip-172-31-44-238.ec2.internal.log -Dhadoop.home.dir=/usr/lib/hadoop -Dhadoop.id.str=yarn -Dhadoop.root.logger=INFO,DRFA -Dhadoop.policy.file=hadoop-policy.xml -Dhadoop.security.logger=INFO,NullAppender org.apache.hadoop.yarn.server.nodemanager.NodeManager
yarn        7218  0.0  0.0   4248  3120 ?        S    17:15   0:00  \_ bash /mnt1/yarn/usercache/hadoop/appcache/application_1768756447690_0001/container_1768756447690_0001_01_000001/default_container_executor.sh
yarn        7220  0.0  0.0   4248  3140 ?        Ss   17:15   0:00  |   \_ /bin/bash -c /usr/lib/jvm/jre-17/bin/java -Djava.io.tmpdir=/mnt1/yarn/usercache/hadoop/appcache/application_1768756447690_0001/container_1768756447690_0001_01_000001/tmp -Dlog4j.configuration=container-log4j.properties -Dyarn.app.container.log.dir=/var/log/hadoop-yarn/containers/application_1768756447690_0001/container_1768756447690_0001_01_000001 -Dyarn.app.container.log.filesize=0 -Dhadoop.root.logger=INFO,CLA -Dhadoop.root.logfile=syslog  -Xmx4915m --add-opens=java.base/java.lang=ALL-UNNAMED --add-exports=java.base/sun.net.dns=ALL-UNNAMED --add-exports=java.base/sun.net.util=ALL-UNNAMED --add-exports=jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.base/java.lang.invoke=ALL-UNNAMED --add-opens=java.base/java.lang.reflect=ALL-UNNAMED --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.math=ALL-UNNAMED --add-opens=java.base/java.net=ALL-UNNAMED --add-opens=java.base/java.nio=ALL-UNNAMED --add-opens=java.base/java.text=ALL-UNNAMED --add-opens=java.base/java.time=ALL-UNNAMED --add-opens=java.base/java.util.concurrent.atomic=ALL-UNNAMED --add-opens=java.base/java.util.concurrent=ALL-UNNAMED --add-opens=java.base/java.util.regex=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/javax.script=ALL-UNNAMED -Dillegal-access=permit --add-opens=java.base/jdk.internal.ref=ALL-UNNAMED --add-opens=java.base/jdk.internal.reflect=ALL-UNNAMED --add-opens=java.base/jdk.internal.util.random=ALL-UNNAMED --add-opens=java.base/jdk.internal.util=ALL-UNNAMED --add-opens=java.base/jdk.internal=ALL-UNNAMED --add-opens=java.base/sun.nio.ch=ALL-UNNAMED --add-opens=java.base/sun.nio.cs=ALL-UNNAMED --add-opens=java.base/sun.security.action=ALL-UNNAMED --add-opens=java.base/sun.util.calendar=ALL-UNNAMED --add-opens=java.security.jgss/sun.security.krb5=ALL-UNNAMED --add-opens=java.sql/java.sql=ALL-UNNAMED --add-opens=jdk.management/com.sun.management.internal=ALL-UNNAMED org.apache.hadoop.mapreduce.v2.app.MRAppMaster 1>/var/log/hadoop-yarn/containers/application_1768756447690_0001/container_1768756447690_0001_01_000001/stdout 2>/var/log/hadoop-yarn/containers/application_1768756447690_0001/container_1768756447690_0001_01_000001/stderr 
yarn        7233 26.8  2.9 7214536 484728 ?      Sl   17:15   0:17  |       \_ /usr/lib/jvm/jre-17/bin/java -Djava.io.tmpdir=/mnt1/yarn/usercache/hadoop/appcache/application_1768756447690_0001/container_1768756447690_0001_01_000001/tmp -Dlog4j.configuration=container-log4j.properties -Dyarn.app.container.log.dir=/var/log/hadoop-yarn/containers/application_1768756447690_0001/container_1768756447690_0001_01_000001 -Dyarn.app.container.log.filesize=0 -Dhadoop.root.logger=INFO,CLA -Dhadoop.root.logfile=syslog -Xmx4915m --add-opens=java.base/java.lang=ALL-UNNAMED --add-exports=java.base/sun.net.dns=ALL-UNNAMED --add-exports=java.base/sun.net.util=ALL-UNNAMED --add-exports=jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.base/java.lang.invoke=ALL-UNNAMED --add-opens=java.base/java.lang.reflect=ALL-UNNAMED --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.math=ALL-UNNAMED --add-opens=java.base/java.net=ALL-UNNAMED --add-opens=java.base/java.nio=ALL-UNNAMED --add-opens=java.base/java.text=ALL-UNNAMED --add-opens=java.base/java.time=ALL-UNNAMED --add-opens=java.base/java.util.concurrent.atomic=ALL-UNNAMED --add-opens=java.base/java.util.concurrent=ALL-UNNAMED --add-opens=java.base/java.util.regex=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/javax.script=ALL-UNNAMED -Dillegal-access=permit --add-opens=java.base/jdk.internal.ref=ALL-UNNAMED --add-opens=java.base/jdk.internal.reflect=ALL-UNNAMED --add-opens=java.base/jdk.internal.util.random=ALL-UNNAMED --add-opens=java.base/jdk.internal.util=ALL-UNNAMED --add-opens=java.base/jdk.internal=ALL-UNNAMED --add-opens=java.base/sun.nio.ch=ALL-UNNAMED --add-opens=java.base/sun.nio.cs=ALL-UNNAMED --add-opens=java.base/sun.security.action=ALL-UNNAMED --add-opens=java.base/sun.util.calendar=ALL-UNNAMED --add-opens=java.security.jgss/sun.security.krb5=ALL-UNNAMED --add-opens=java.sql/java.sql=ALL-UNNAMED --add-opens=jdk.management/com.sun.management.internal=ALL-UNNAMED org.apache.hadoop.mapreduce.v2.app.MRAppMaster
yarn        7438  0.0  0.0   4244  3064 ?        S    17:16   0:00  \_ bash /mnt/yarn/usercache/hadoop/appcache/application_1768756447690_0001/container_1768756447690_0001_01_000005/default_container_executor.sh
yarn        7440  0.0  0.0   4248  3168 ?        Ss   17:16   0:00  |   \_ /bin/bash -c /usr/lib/jvm/jre-17/bin/java -Djava.net.preferIPv4Stack=true -Dhadoop.metrics.log.level=WARN  -Xmx2458m --add-opens=java.base/java.lang=ALL-UNNAMED --add-exports=java.base/sun.net.dns=ALL-UNNAMED --add-exports=java.base/sun.net.util=ALL-UNNAMED --add-exports=jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.base/java.lang.invoke=ALL-UNNAMED --add-opens=java.base/java.lang.reflect=ALL-UNNAMED --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.math=ALL-UNNAMED --add-opens=java.base/java.net=ALL-UNNAMED --add-opens=java.base/java.nio=ALL-UNNAMED --add-opens=java.base/java.text=ALL-UNNAMED --add-opens=java.base/java.time=ALL-UNNAMED --add-opens=java.base/java.util.concurrent.atomic=ALL-UNNAMED --add-opens=java.base/java.util.concurrent=ALL-UNNAMED --add-opens=java.base/java.util.regex=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/javax.script=ALL-UNNAMED -Dillegal-access=permit --add-opens=java.base/jdk.internal.ref=ALL-UNNAMED --add-opens=java.base/jdk.internal.reflect=ALL-UNNAMED --add-opens=java.base/jdk.internal.util.random=ALL-UNNAMED --add-opens=java.base/jdk.internal.util=ALL-UNNAMED --add-opens=java.base/jdk.internal=ALL-UNNAMED --add-opens=java.base/sun.nio.ch=ALL-UNNAMED --add-opens=java.base/sun.nio.cs=ALL-UNNAMED --add-opens=java.base/sun.security.action=ALL-UNNAMED --add-opens=java.base/sun.util.calendar=ALL-UNNAMED --add-opens=java.security.jgss/sun.security.krb5=ALL-UNNAMED --add-opens=java.sql/java.sql=ALL-UNNAMED --add-opens=jdk.management/com.sun.management.internal=ALL-UNNAMED -Djava.io.tmpdir=/mnt/yarn/usercache/hadoop/appcache/application_1768756447690_0001/container_1768756447690_0001_01_000005/tmp -Dlog4j.configuration=container-log4j.properties -Dyarn.app.container.log.dir=/var/log/hadoop-yarn/containers/application_1768756447690_0001/container_1768756447690_0001_01_000005 -Dyarn.app.container.log.filesize=0 -Dhadoop.root.logger=INFO,CLA -Dhadoop.root.logfile=syslog org.apache.hadoop.mapred.YarnChild 172.31.44.238 35315 attempt_1768756447690_0001_m_000003_0 5 1>/var/log/hadoop-yarn/containers/application_1768756447690_0001/container_1768756447690_0001_01_000005/stdout 2>/var/log/hadoop-yarn/containers/application_1768756447690_0001/container_1768756447690_0001_01_000005/stderr 
yarn        7471  132  4.9 4431040 805316 ?      Sl   17:16   1:16  |       \_ /usr/lib/jvm/jre-17/bin/java -Djava.net.preferIPv4Stack=true -Dhadoop.metrics.log.level=WARN -Xmx2458m --add-opens=java.base/java.lang=ALL-UNNAMED --add-exports=java.base/sun.net.dns=ALL-UNNAMED --add-exports=java.base/sun.net.util=ALL-UNNAMED --add-exports=jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.base/java.lang.invoke=ALL-UNNAMED --add-opens=java.base/java.lang.reflect=ALL-UNNAMED --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.math=ALL-UNNAMED --add-opens=java.base/java.net=ALL-UNNAMED --add-opens=java.base/java.nio=ALL-UNNAMED --add-opens=java.base/java.text=ALL-UNNAMED --add-opens=java.base/java.time=ALL-UNNAMED --add-opens=java.base/java.util.concurrent.atomic=ALL-UNNAMED --add-opens=java.base/java.util.concurrent=ALL-UNNAMED --add-opens=java.base/java.util.regex=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/javax.script=ALL-UNNAMED -Dillegal-access=permit --add-opens=java.base/jdk.internal.ref=ALL-UNNAMED --add-opens=java.base/jdk.internal.reflect=ALL-UNNAMED --add-opens=java.base/jdk.internal.util.random=ALL-UNNAMED --add-opens=java.base/jdk.internal.util=ALL-UNNAMED --add-opens=java.base/jdk.internal=ALL-UNNAMED --add-opens=java.base/sun.nio.ch=ALL-UNNAMED --add-opens=java.base/sun.nio.cs=ALL-UNNAMED --add-opens=java.base/sun.security.action=ALL-UNNAMED --add-opens=java.base/sun.util.calendar=ALL-UNNAMED --add-opens=java.security.jgss/sun.security.krb5=ALL-UNNAMED --add-opens=java.sql/java.sql=ALL-UNNAMED --add-opens=jdk.management/com.sun.management.internal=ALL-UNNAMED -Djava.io.tmpdir=/mnt/yarn/usercache/hadoop/appcache/application_1768756447690_0001/container_1768756447690_0001_01_000005/tmp -Dlog4j.configuration=container-log4j.properties -Dyarn.app.container.log.dir=/var/log/hadoop-yarn/containers/application_1768756447690_0001/container_1768756447690_0001_01_000005 -Dyarn.app.container.log.filesize=0 -Dhadoop.root.logger=INFO,CLA -Dhadoop.root.logfile=syslog org.apache.hadoop.mapred.YarnChild 172.31.44.238 35315 attempt_1768756447690_0001_m_000003_0 5
yarn        7446  0.0  0.0   4244  3120 ?        S    17:16   0:00  \_ bash /mnt1/yarn/usercache/hadoop/appcache/application_1768756447690_0001/container_1768756447690_0001_01_000003/default_container_executor.sh
yarn        7453  0.0  0.0   4248  3184 ?        Ss   17:16   0:00      \_ /bin/bash -c /usr/lib/jvm/jre-17/bin/java -Djava.net.preferIPv4Stack=true -Dhadoop.metrics.log.level=WARN  -Xmx2458m --add-opens=java.base/java.lang=ALL-UNNAMED --add-exports=java.base/sun.net.dns=ALL-UNNAMED --add-exports=java.base/sun.net.util=ALL-UNNAMED --add-exports=jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.base/java.lang.invoke=ALL-UNNAMED --add-opens=java.base/java.lang.reflect=ALL-UNNAMED --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.math=ALL-UNNAMED --add-opens=java.base/java.net=ALL-UNNAMED --add-opens=java.base/java.nio=ALL-UNNAMED --add-opens=java.base/java.text=ALL-UNNAMED --add-opens=java.base/java.time=ALL-UNNAMED --add-opens=java.base/java.util.concurrent.atomic=ALL-UNNAMED --add-opens=java.base/java.util.concurrent=ALL-UNNAMED --add-opens=java.base/java.util.regex=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/javax.script=ALL-UNNAMED -Dillegal-access=permit --add-opens=java.base/jdk.internal.ref=ALL-UNNAMED --add-opens=java.base/jdk.internal.reflect=ALL-UNNAMED --add-opens=java.base/jdk.internal.util.random=ALL-UNNAMED --add-opens=java.base/jdk.internal.util=ALL-UNNAMED --add-opens=java.base/jdk.internal=ALL-UNNAMED --add-opens=java.base/sun.nio.ch=ALL-UNNAMED --add-opens=java.base/sun.nio.cs=ALL-UNNAMED --add-opens=java.base/sun.security.action=ALL-UNNAMED --add-opens=java.base/sun.util.calendar=ALL-UNNAMED --add-opens=java.security.jgss/sun.security.krb5=ALL-UNNAMED --add-opens=java.sql/java.sql=ALL-UNNAMED --add-opens=jdk.management/com.sun.management.internal=ALL-UNNAMED -Djava.io.tmpdir=/mnt1/yarn/usercache/hadoop/appcache/application_1768756447690_0001/container_1768756447690_0001_01_000003/tmp -Dlog4j.configuration=container-log4j.properties -Dyarn.app.container.log.dir=/var/log/hadoop-yarn/containers/application_1768756447690_0001/container_1768756447690_0001_01_000003 -Dyarn.app.container.log.filesize=0 -Dhadoop.root.logger=INFO,CLA -Dhadoop.root.logfile=syslog org.apache.hadoop.mapred.YarnChild 172.31.44.238 35315 attempt_1768756447690_0001_m_000001_0 3 1>/var/log/hadoop-yarn/containers/application_1768756447690_0001/container_1768756447690_0001_01_000003/stdout 2>/var/log/hadoop-yarn/containers/application_1768756447690_0001/container_1768756447690_0001_01_000003/stderr 
yarn        7469  128  4.9 4431800 806620 ?      Sl   17:16   1:14          \_ /usr/lib/jvm/jre-17/bin/java -Djava.net.preferIPv4Stack=true -Dhadoop.metrics.log.level=WARN -Xmx2458m --add-opens=java.base/java.lang=ALL-UNNAMED --add-exports=java.base/sun.net.dns=ALL-UNNAMED --add-exports=java.base/sun.net.util=ALL-UNNAMED --add-exports=jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.base/java.lang.invoke=ALL-UNNAMED --add-opens=java.base/java.lang.reflect=ALL-UNNAMED --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.math=ALL-UNNAMED --add-opens=java.base/java.net=ALL-UNNAMED --add-opens=java.base/java.nio=ALL-UNNAMED --add-opens=java.base/java.text=ALL-UNNAMED --add-opens=java.base/java.time=ALL-UNNAMED --add-opens=java.base/java.util.concurrent.atomic=ALL-UNNAMED --add-opens=java.base/java.util.concurrent=ALL-UNNAMED --add-opens=java.base/java.util.regex=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/javax.script=ALL-UNNAMED -Dillegal-access=permit --add-opens=java.base/jdk.internal.ref=ALL-UNNAMED --add-opens=java.base/jdk.internal.reflect=ALL-UNNAMED --add-opens=java.base/jdk.internal.util.random=ALL-UNNAMED --add-opens=java.base/jdk.internal.util=ALL-UNNAMED --add-opens=java.base/jdk.internal=ALL-UNNAMED --add-opens=java.base/sun.nio.ch=ALL-UNNAMED --add-opens=java.base/sun.nio.cs=ALL-UNNAMED --add-opens=java.base/sun.security.action=ALL-UNNAMED --add-opens=java.base/sun.util.calendar=ALL-UNNAMED --add-opens=java.security.jgss/sun.security.krb5=ALL-UNNAMED --add-opens=java.sql/java.sql=ALL-UNNAMED --add-opens=jdk.management/com.sun.management.internal=ALL-UNNAMED -Djava.io.tmpdir=/mnt1/yarn/usercache/hadoop/appcache/application_1768756447690_0001/container_1768756447690_0001_01_000003/tmp -Dlog4j.configuration=container-log4j.properties -Dyarn.app.container.log.dir=/var/log/hadoop-yarn/containers/application_1768756447690_0001/container_1768756447690_0001_01_000003 -Dyarn.app.container.log.filesize=0 -Dhadoop.root.logger=INFO,CLA -Dhadoop.root.logfile=syslog org.apache.hadoop.mapred.YarnChild 172.31.44.238 35315 attempt_1768756447690_0001_m_000001_0 3
root        7785  1.2  0.0  22176 14316 ?        Ss   17:16   0:00 /usr/lib/systemd/systemd --user
root        7787  0.0  0.0 174300  7320 ?        S    17:16   0:00  \_ (sd-pam)

# Top CPU users
ps auxwww --sort -%cpu | head -20
USER         PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND
yarn        7471  132  4.9 4431040 805316 ?      Sl   17:16   1:16 /usr/lib/jvm/jre-17/bin/java -Djava.net.preferIPv4Stack=true -Dhadoop.metrics.log.level=WARN -Xmx2458m --add-opens=java.base/java.lang=ALL-UNNAMED --add-exports=java.base/sun.net.dns=ALL-UNNAMED --add-exports=java.base/sun.net.util=ALL-UNNAMED --add-exports=jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.base/java.lang.invoke=ALL-UNNAMED --add-opens=java.base/java.lang.reflect=ALL-UNNAMED --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.math=ALL-UNNAMED --add-opens=java.base/java.net=ALL-UNNAMED --add-opens=java.base/java.nio=ALL-UNNAMED --add-opens=java.base/java.text=ALL-UNNAMED --add-opens=java.base/java.time=ALL-UNNAMED --add-opens=java.base/java.util.concurrent.atomic=ALL-UNNAMED --add-opens=java.base/java.util.concurrent=ALL-UNNAMED --add-opens=java.base/java.util.regex=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/javax.script=ALL-UNNAMED -Dillegal-access=permit --add-opens=java.base/jdk.internal.ref=ALL-UNNAMED --add-opens=java.base/jdk.internal.reflect=ALL-UNNAMED --add-opens=java.base/jdk.internal.util.random=ALL-UNNAMED --add-opens=java.base/jdk.internal.util=ALL-UNNAMED --add-opens=java.base/jdk.internal=ALL-UNNAMED --add-opens=java.base/sun.nio.ch=ALL-UNNAMED --add-opens=java.base/sun.nio.cs=ALL-UNNAMED --add-opens=java.base/sun.security.action=ALL-UNNAMED --add-opens=java.base/sun.util.calendar=ALL-UNNAMED --add-opens=java.security.jgss/sun.security.krb5=ALL-UNNAMED --add-opens=java.sql/java.sql=ALL-UNNAMED --add-opens=jdk.management/com.sun.management.internal=ALL-UNNAMED -Djava.io.tmpdir=/mnt/yarn/usercache/hadoop/appcache/application_1768756447690_0001/container_1768756447690_0001_01_000005/tmp -Dlog4j.configuration=container-log4j.properties -Dyarn.app.container.log.dir=/var/log/hadoop-yarn/containers/application_1768756447690_0001/container_1768756447690_0001_01_000005 -Dyarn.app.container.log.filesize=0 -Dhadoop.root.logger=INFO,CLA -Dhadoop.root.logfile=syslog org.apache.hadoop.mapred.YarnChild 172.31.44.238 35315 attempt_1768756447690_0001_m_000003_0 5
yarn        7469  128  4.9 4431800 806620 ?      Sl   17:16   1:14 /usr/lib/jvm/jre-17/bin/java -Djava.net.preferIPv4Stack=true -Dhadoop.metrics.log.level=WARN -Xmx2458m --add-opens=java.base/java.lang=ALL-UNNAMED --add-exports=java.base/sun.net.dns=ALL-UNNAMED --add-exports=java.base/sun.net.util=ALL-UNNAMED --add-exports=jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.base/java.lang.invoke=ALL-UNNAMED --add-opens=java.base/java.lang.reflect=ALL-UNNAMED --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.math=ALL-UNNAMED --add-opens=java.base/java.net=ALL-UNNAMED --add-opens=java.base/java.nio=ALL-UNNAMED --add-opens=java.base/java.text=ALL-UNNAMED --add-opens=java.base/java.time=ALL-UNNAMED --add-opens=java.base/java.util.concurrent.atomic=ALL-UNNAMED --add-opens=java.base/java.util.concurrent=ALL-UNNAMED --add-opens=java.base/java.util.regex=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/javax.script=ALL-UNNAMED -Dillegal-access=permit --add-opens=java.base/jdk.internal.ref=ALL-UNNAMED --add-opens=java.base/jdk.internal.reflect=ALL-UNNAMED --add-opens=java.base/jdk.internal.util.random=ALL-UNNAMED --add-opens=java.base/jdk.internal.util=ALL-UNNAMED --add-opens=java.base/jdk.internal=ALL-UNNAMED --add-opens=java.base/sun.nio.ch=ALL-UNNAMED --add-opens=java.base/sun.nio.cs=ALL-UNNAMED --add-opens=java.base/sun.security.action=ALL-UNNAMED --add-opens=java.base/sun.util.calendar=ALL-UNNAMED --add-opens=java.security.jgss/sun.security.krb5=ALL-UNNAMED --add-opens=java.sql/java.sql=ALL-UNNAMED --add-opens=jdk.management/com.sun.management.internal=ALL-UNNAMED -Djava.io.tmpdir=/mnt1/yarn/usercache/hadoop/appcache/application_1768756447690_0001/container_1768756447690_0001_01_000003/tmp -Dlog4j.configuration=container-log4j.properties -Dyarn.app.container.log.dir=/var/log/hadoop-yarn/containers/application_1768756447690_0001/container_1768756447690_0001_01_000003 -Dyarn.app.container.log.filesize=0 -Dhadoop.root.logger=INFO,CLA -Dhadoop.root.logfile=syslog org.apache.hadoop.mapred.YarnChild 172.31.44.238 35315 attempt_1768756447690_0001_m_000001_0 3
yarn        7233 26.8  2.9 7214536 484728 ?      Sl   17:15   0:17 /usr/lib/jvm/jre-17/bin/java -Djava.io.tmpdir=/mnt1/yarn/usercache/hadoop/appcache/application_1768756447690_0001/container_1768756447690_0001_01_000001/tmp -Dlog4j.configuration=container-log4j.properties -Dyarn.app.container.log.dir=/var/log/hadoop-yarn/containers/application_1768756447690_0001/container_1768756447690_0001_01_000001 -Dyarn.app.container.log.filesize=0 -Dhadoop.root.logger=INFO,CLA -Dhadoop.root.logfile=syslog -Xmx4915m --add-opens=java.base/java.lang=ALL-UNNAMED --add-exports=java.base/sun.net.dns=ALL-UNNAMED --add-exports=java.base/sun.net.util=ALL-UNNAMED --add-exports=jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.base/java.lang.invoke=ALL-UNNAMED --add-opens=java.base/java.lang.reflect=ALL-UNNAMED --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.math=ALL-UNNAMED --add-opens=java.base/java.net=ALL-UNNAMED --add-opens=java.base/java.nio=ALL-UNNAMED --add-opens=java.base/java.text=ALL-UNNAMED --add-opens=java.base/java.time=ALL-UNNAMED --add-opens=java.base/java.util.concurrent.atomic=ALL-UNNAMED --add-opens=java.base/java.util.concurrent=ALL-UNNAMED --add-opens=java.base/java.util.regex=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/javax.script=ALL-UNNAMED -Dillegal-access=permit --add-opens=java.base/jdk.internal.ref=ALL-UNNAMED --add-opens=java.base/jdk.internal.reflect=ALL-UNNAMED --add-opens=java.base/jdk.internal.util.random=ALL-UNNAMED --add-opens=java.base/jdk.internal.util=ALL-UNNAMED --add-opens=java.base/jdk.internal=ALL-UNNAMED --add-opens=java.base/sun.nio.ch=ALL-UNNAMED --add-opens=java.base/sun.nio.cs=ALL-UNNAMED --add-opens=java.base/sun.security.action=ALL-UNNAMED --add-opens=java.base/sun.util.calendar=ALL-UNNAMED --add-opens=java.security.jgss/sun.security.krb5=ALL-UNNAMED --add-opens=java.sql/java.sql=ALL-UNNAMED --add-opens=jdk.management/com.sun.management.internal=ALL-UNNAMED org.apache.hadoop.mapreduce.v2.app.MRAppMaster
yarn        6522 13.5  2.5 4345592 417020 ?      Sl   17:14   0:16 /usr/lib/jvm/jre-17/bin/java -Dproc_nodemanager -Djava.net.preferIPv4Stack=true -server -XX:+ExitOnOutOfMemoryError --add-exports=jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED --add-exports=java.base/sun.security.x509=ALL-UNNAMED --add-exports=java.base/sun.security.util=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.base/java.lang.reflect=ALL-UNNAMED --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.math=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.util.concurrent=ALL-UNNAMED -XX:+IgnoreUnrecognizedVMOptions --add-opens=java.base/java.net=ALL-UNNAMED --add-opens=java.base/java.text=ALL-UNNAMED --add-opens=java.base/java.util.concurrent.atomic=ALL-UNNAMED --add-opens=java.base/java.nio=ALL-UNNAMED --add-opens=java.base/sun.nio.ch=ALL-UNNAMED --add-opens=java.base/sun.nio.cs=ALL-UNNAMED --add-opens=java.base/java.time=ALL-UNNAMED --add-opens=java.base/java.util.regex=ALL-UNNAMED --add-opens=java.base/jdk.internal=ALL-UNNAMED --add-opens=java.base/jdk.internal.ref=ALL-UNNAMED --add-opens=java.base/jdk.internal.reflect=ALL-UNNAMED --add-opens=java.sql/java.sql=ALL-UNNAMED --add-opens=java.base/jdk.internal.util=ALL-UNNAMED --add-opens=java.base/jdk.internal.util.random=ALL-UNNAMED --add-opens=java.base/java.lang.invoke=ALL-UNNAMED --add-opens=java.base/sun.util.calendar=ALL-UNNAMED --add-opens=jdk.management/com.sun.management.internal=ALL-UNNAMED -XX:+ExitOnOutOfMemoryError -Dsun.net.inetaddr.ttl=30 -Dyarn.log.dir=/var/log/hadoop-yarn -Dyarn.log.file=hadoop-yarn-nodemanager-ip-172-31-44-238.ec2.internal.log -Dyarn.home.dir=/usr/lib/hadoop-yarn -Dyarn.root.logger=INFO,console -Djava.library.path=:/usr/lib/hadoop-lzo/lib/native:/usr/lib/hadoop/lib/native -Xmx2048m -Dhadoop.log.dir=/var/log/hadoop-yarn -Dhadoop.log.file=hadoop-yarn-nodemanager-ip-172-31-44-238.ec2.internal.log -Dhadoop.home.dir=/usr/lib/hadoop -Dhadoop.id.str=yarn -Dhadoop.root.logger=INFO,DRFA -Dhadoop.policy.file=hadoop-policy.xml -Dhadoop.security.logger=INFO,NullAppender org.apache.hadoop.yarn.server.nodemanager.NodeManager
hadoop      4251  6.1  2.6 4972024 421376 ?      Sl   17:12   0:18 /usr/lib/jvm/jre-17/bin/java -Djava.security.properties=/emr/instance-controller/lib/security.properties -Xmx1024m -Djute.maxbuffer=3145728 -XX:+ExitOnOutOfMemoryError -XX:MinHeapFreeRatio=10 -server -cp /usr/share/aws/emr/instance-controller/lib/*:/home/hadoop/conf:/usr/share/aws/aws-java-sdk-v2/* -Dlog4j2.configurationFile=file:/etc/instance-controller/log4j2.xml -Dlog4j2.formatMsgNoLookups=true -Dlog4j2.disable.jmx=true aws157.instancecontroller.Main
root        4124  4.9  2.2 4959444 369288 ?      Sl   17:12   0:14 /usr/lib/jvm/jre-17/bin/java -Xmx1024m -XX:+ExitOnOutOfMemoryError -XX:MinHeapFreeRatio=10 -server -cp /usr/share/aws/emr/instance-controller/lib/*:/home/hadoop/conf:/usr/share/aws/aws-java-sdk-v2/* -Dlog4j2.configurationFile=file:/etc/logpusher/log4j2.xml -Dlog4j2.formatMsgNoLookups=true -Dlog4j2.disable.jmx=true aws157.logpusher.Main /etc/logpusher/logpusher.properties
hdfs        5878  4.1  2.0 2887152 324056 ?      Sl   17:13   0:09 /usr/lib/jvm/jre-17/bin/java -Dproc_datanode -Djava.net.preferIPv4Stack=true -server -XX:+ExitOnOutOfMemoryError --add-exports=jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED --add-exports=java.base/sun.security.x509=ALL-UNNAMED --add-exports=java.base/sun.security.util=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.base/java.lang.reflect=ALL-UNNAMED --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.math=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.util.concurrent=ALL-UNNAMED -XX:+IgnoreUnrecognizedVMOptions --add-opens=java.base/java.net=ALL-UNNAMED --add-opens=java.base/java.text=ALL-UNNAMED --add-opens=java.base/java.util.concurrent.atomic=ALL-UNNAMED --add-opens=java.base/java.nio=ALL-UNNAMED --add-opens=java.base/sun.nio.ch=ALL-UNNAMED --add-opens=java.base/sun.nio.cs=ALL-UNNAMED --add-opens=java.base/java.time=ALL-UNNAMED --add-opens=java.base/java.util.regex=ALL-UNNAMED --add-opens=java.base/jdk.internal=ALL-UNNAMED --add-opens=java.base/jdk.internal.ref=ALL-UNNAMED --add-opens=java.base/jdk.internal.reflect=ALL-UNNAMED --add-opens=java.sql/java.sql=ALL-UNNAMED --add-opens=java.base/jdk.internal.util=ALL-UNNAMED --add-opens=java.base/jdk.internal.util.random=ALL-UNNAMED --add-opens=java.base/java.lang.invoke=ALL-UNNAMED --add-opens=java.base/sun.util.calendar=ALL-UNNAMED --add-opens=jdk.management/com.sun.management.internal=ALL-UNNAMED -Dhadoop.security.logger=ERROR,DRFAS -Dyarn.log.dir=/var/log/hadoop-hdfs -Dyarn.log.file=hadoop-hdfs-datanode-ip-172-31-44-238.ec2.internal.log -Dyarn.home.dir=/usr/lib/hadoop-yarn -Dyarn.root.logger=INFO,console -Djava.library.path=:/usr/lib/hadoop-lzo/lib/native:/usr/lib/hadoop/lib/native -Xmx778m -Dhadoop.log.dir=/var/log/hadoop-hdfs -Dhadoop.log.file=hadoop-hdfs-datanode-ip-172-31-44-238.ec2.internal.log -Dhadoop.home.dir=/usr/lib/hadoop -Dhadoop.id.str=hdfs -Dhadoop.root.logger=INFO,DRFA -Dhadoop.policy.file=hadoop-policy.xml -Dsun.net.inetaddr.ttl=3600 org.apache.hadoop.hdfs.server.datanode.DataNode
root        4149  1.4  1.1 5183008 184348 ?      Sl   17:12   0:04 /usr/lib/jvm/java-17-amazon-corretto.x86_64/bin/java -Xmx1500m -Xms300m -XX:+ExitOnOutOfMemoryError -XX:MinHeapFreeRatio=10 -cp /usr/share/aws/aws-java-sdk-v2/*:/usr/share/aws/emr/emr-log-analytics-metrics/lib/*:/home/hadoop/conf -Dlog4j.defaultInitOverride aws157.apppusher.Main
root        7785  1.2  0.0  22176 14316 ?        Ss   17:16   0:00 /usr/lib/systemd/systemd --user
root           1  1.1  0.1 172960 17936 ?        Ss   17:11   0:03 /usr/lib/systemd/systemd --switched-root --system --deserialize=32
hadoop      4563  0.9  0.9 5988248 155308 ?      Sl   17:12   0:02 /etc/alternatives/jre/bin/java -Dproc_app -Djava.net.preferIPv4Stack=true -Dsun.net.inetaddr.ttl=30 -Dservice.libdir=/usr/lib/hadoop-yarn/./,/usr/lib/hadoop-yarn/lib,/usr/lib/hadoop-hdfs/./,/usr/lib/hadoop-hdfs/lib,/usr/lib/hadoop/./,/usr/lib/hadoop/lib -Dyarn.log.dir=/usr/lib/hadoop/logs -Dyarn.log.file=hadoop.log -Dyarn.home.dir=/usr/lib/hadoop-yarn -Dyarn.root.logger=INFO,console -Djava.library.path=/usr/lib/hadoop/lib/native -Dhadoop.log.dir=/usr/lib/hadoop/logs -Dhadoop.log.file=hadoop.log -Dhadoop.home.dir=/usr/lib/hadoop -Dhadoop.id.str=hadoop -Dhadoop.root.logger=INFO,console -Dhadoop.policy.file=hadoop-policy.xml -Dhadoop.security.logger=INFO,NullAppender org.apache.hadoop.yarn.client.cli.ApplicationCLI app --list --appStates ALL
root        1039  0.1  0.1  54124 17892 ?        Ss   17:11   0:00 /usr/lib/systemd/systemd-journald
dbus        1790  0.1  0.0   5512  3092 ?        S    17:11   0:00 dbus-broker --log 4 --controller 9 --machine-id ec276fc410ae8f3bf6c5605dc1bcdbc7 --max-bytes 536870912 --max-fds 4096 --max-matches 16384 --audit
root           2  0.0  0.0      0     0 ?        S    17:11   0:00 [kthreadd]
root           3  0.0  0.0      0     0 ?        I<   17:11   0:00 [rcu_gp]
root           4  0.0  0.0      0     0 ?        I<   17:11   0:00 [rcu_par_gp]
root           5  0.0  0.0      0     0 ?        I<   17:11   0:00 [slub_flushwq]
root           6  0.0  0.0      0     0 ?        I<   17:11   0:00 [netns]
root           7  0.0  0.0      0     0 ?        I    17:11   0:00 [kworker/0:0-xfs-sync/nvme1n1p1]

# Top memory users
ps auxwww --sort -rss | head -20
USER         PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND
yarn        7469  128  4.9 4431800 806620 ?      Sl   17:16   1:14 /usr/lib/jvm/jre-17/bin/java -Djava.net.preferIPv4Stack=true -Dhadoop.metrics.log.level=WARN -Xmx2458m --add-opens=java.base/java.lang=ALL-UNNAMED --add-exports=java.base/sun.net.dns=ALL-UNNAMED --add-exports=java.base/sun.net.util=ALL-UNNAMED --add-exports=jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.base/java.lang.invoke=ALL-UNNAMED --add-opens=java.base/java.lang.reflect=ALL-UNNAMED --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.math=ALL-UNNAMED --add-opens=java.base/java.net=ALL-UNNAMED --add-opens=java.base/java.nio=ALL-UNNAMED --add-opens=java.base/java.text=ALL-UNNAMED --add-opens=java.base/java.time=ALL-UNNAMED --add-opens=java.base/java.util.concurrent.atomic=ALL-UNNAMED --add-opens=java.base/java.util.concurrent=ALL-UNNAMED --add-opens=java.base/java.util.regex=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/javax.script=ALL-UNNAMED -Dillegal-access=permit --add-opens=java.base/jdk.internal.ref=ALL-UNNAMED --add-opens=java.base/jdk.internal.reflect=ALL-UNNAMED --add-opens=java.base/jdk.internal.util.random=ALL-UNNAMED --add-opens=java.base/jdk.internal.util=ALL-UNNAMED --add-opens=java.base/jdk.internal=ALL-UNNAMED --add-opens=java.base/sun.nio.ch=ALL-UNNAMED --add-opens=java.base/sun.nio.cs=ALL-UNNAMED --add-opens=java.base/sun.security.action=ALL-UNNAMED --add-opens=java.base/sun.util.calendar=ALL-UNNAMED --add-opens=java.security.jgss/sun.security.krb5=ALL-UNNAMED --add-opens=java.sql/java.sql=ALL-UNNAMED --add-opens=jdk.management/com.sun.management.internal=ALL-UNNAMED -Djava.io.tmpdir=/mnt1/yarn/usercache/hadoop/appcache/application_1768756447690_0001/container_1768756447690_0001_01_000003/tmp -Dlog4j.configuration=container-log4j.properties -Dyarn.app.container.log.dir=/var/log/hadoop-yarn/containers/application_1768756447690_0001/container_1768756447690_0001_01_000003 -Dyarn.app.container.log.filesize=0 -Dhadoop.root.logger=INFO,CLA -Dhadoop.root.logfile=syslog org.apache.hadoop.mapred.YarnChild 172.31.44.238 35315 attempt_1768756447690_0001_m_000001_0 3
yarn        7471  132  4.9 4431040 805316 ?      Sl   17:16   1:16 /usr/lib/jvm/jre-17/bin/java -Djava.net.preferIPv4Stack=true -Dhadoop.metrics.log.level=WARN -Xmx2458m --add-opens=java.base/java.lang=ALL-UNNAMED --add-exports=java.base/sun.net.dns=ALL-UNNAMED --add-exports=java.base/sun.net.util=ALL-UNNAMED --add-exports=jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.base/java.lang.invoke=ALL-UNNAMED --add-opens=java.base/java.lang.reflect=ALL-UNNAMED --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.math=ALL-UNNAMED --add-opens=java.base/java.net=ALL-UNNAMED --add-opens=java.base/java.nio=ALL-UNNAMED --add-opens=java.base/java.text=ALL-UNNAMED --add-opens=java.base/java.time=ALL-UNNAMED --add-opens=java.base/java.util.concurrent.atomic=ALL-UNNAMED --add-opens=java.base/java.util.concurrent=ALL-UNNAMED --add-opens=java.base/java.util.regex=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/javax.script=ALL-UNNAMED -Dillegal-access=permit --add-opens=java.base/jdk.internal.ref=ALL-UNNAMED --add-opens=java.base/jdk.internal.reflect=ALL-UNNAMED --add-opens=java.base/jdk.internal.util.random=ALL-UNNAMED --add-opens=java.base/jdk.internal.util=ALL-UNNAMED --add-opens=java.base/jdk.internal=ALL-UNNAMED --add-opens=java.base/sun.nio.ch=ALL-UNNAMED --add-opens=java.base/sun.nio.cs=ALL-UNNAMED --add-opens=java.base/sun.security.action=ALL-UNNAMED --add-opens=java.base/sun.util.calendar=ALL-UNNAMED --add-opens=java.security.jgss/sun.security.krb5=ALL-UNNAMED --add-opens=java.sql/java.sql=ALL-UNNAMED --add-opens=jdk.management/com.sun.management.internal=ALL-UNNAMED -Djava.io.tmpdir=/mnt/yarn/usercache/hadoop/appcache/application_1768756447690_0001/container_1768756447690_0001_01_000005/tmp -Dlog4j.configuration=container-log4j.properties -Dyarn.app.container.log.dir=/var/log/hadoop-yarn/containers/application_1768756447690_0001/container_1768756447690_0001_01_000005 -Dyarn.app.container.log.filesize=0 -Dhadoop.root.logger=INFO,CLA -Dhadoop.root.logfile=syslog org.apache.hadoop.mapred.YarnChild 172.31.44.238 35315 attempt_1768756447690_0001_m_000003_0 5
yarn        7233 26.8  2.9 7214536 484728 ?      Sl   17:15   0:17 /usr/lib/jvm/jre-17/bin/java -Djava.io.tmpdir=/mnt1/yarn/usercache/hadoop/appcache/application_1768756447690_0001/container_1768756447690_0001_01_000001/tmp -Dlog4j.configuration=container-log4j.properties -Dyarn.app.container.log.dir=/var/log/hadoop-yarn/containers/application_1768756447690_0001/container_1768756447690_0001_01_000001 -Dyarn.app.container.log.filesize=0 -Dhadoop.root.logger=INFO,CLA -Dhadoop.root.logfile=syslog -Xmx4915m --add-opens=java.base/java.lang=ALL-UNNAMED --add-exports=java.base/sun.net.dns=ALL-UNNAMED --add-exports=java.base/sun.net.util=ALL-UNNAMED --add-exports=jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.base/java.lang.invoke=ALL-UNNAMED --add-opens=java.base/java.lang.reflect=ALL-UNNAMED --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.math=ALL-UNNAMED --add-opens=java.base/java.net=ALL-UNNAMED --add-opens=java.base/java.nio=ALL-UNNAMED --add-opens=java.base/java.text=ALL-UNNAMED --add-opens=java.base/java.time=ALL-UNNAMED --add-opens=java.base/java.util.concurrent.atomic=ALL-UNNAMED --add-opens=java.base/java.util.concurrent=ALL-UNNAMED --add-opens=java.base/java.util.regex=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/javax.script=ALL-UNNAMED -Dillegal-access=permit --add-opens=java.base/jdk.internal.ref=ALL-UNNAMED --add-opens=java.base/jdk.internal.reflect=ALL-UNNAMED --add-opens=java.base/jdk.internal.util.random=ALL-UNNAMED --add-opens=java.base/jdk.internal.util=ALL-UNNAMED --add-opens=java.base/jdk.internal=ALL-UNNAMED --add-opens=java.base/sun.nio.ch=ALL-UNNAMED --add-opens=java.base/sun.nio.cs=ALL-UNNAMED --add-opens=java.base/sun.security.action=ALL-UNNAMED --add-opens=java.base/sun.util.calendar=ALL-UNNAMED --add-opens=java.security.jgss/sun.security.krb5=ALL-UNNAMED --add-opens=java.sql/java.sql=ALL-UNNAMED --add-opens=jdk.management/com.sun.management.internal=ALL-UNNAMED org.apache.hadoop.mapreduce.v2.app.MRAppMaster
hadoop      4251  6.1  2.6 4972024 421376 ?      Sl   17:12   0:18 /usr/lib/jvm/jre-17/bin/java -Djava.security.properties=/emr/instance-controller/lib/security.properties -Xmx1024m -Djute.maxbuffer=3145728 -XX:+ExitOnOutOfMemoryError -XX:MinHeapFreeRatio=10 -server -cp /usr/share/aws/emr/instance-controller/lib/*:/home/hadoop/conf:/usr/share/aws/aws-java-sdk-v2/* -Dlog4j2.configurationFile=file:/etc/instance-controller/log4j2.xml -Dlog4j2.formatMsgNoLookups=true -Dlog4j2.disable.jmx=true aws157.instancecontroller.Main
yarn        6522 13.5  2.5 4345592 417020 ?      Sl   17:14   0:16 /usr/lib/jvm/jre-17/bin/java -Dproc_nodemanager -Djava.net.preferIPv4Stack=true -server -XX:+ExitOnOutOfMemoryError --add-exports=jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED --add-exports=java.base/sun.security.x509=ALL-UNNAMED --add-exports=java.base/sun.security.util=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.base/java.lang.reflect=ALL-UNNAMED --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.math=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.util.concurrent=ALL-UNNAMED -XX:+IgnoreUnrecognizedVMOptions --add-opens=java.base/java.net=ALL-UNNAMED --add-opens=java.base/java.text=ALL-UNNAMED --add-opens=java.base/java.util.concurrent.atomic=ALL-UNNAMED --add-opens=java.base/java.nio=ALL-UNNAMED --add-opens=java.base/sun.nio.ch=ALL-UNNAMED --add-opens=java.base/sun.nio.cs=ALL-UNNAMED --add-opens=java.base/java.time=ALL-UNNAMED --add-opens=java.base/java.util.regex=ALL-UNNAMED --add-opens=java.base/jdk.internal=ALL-UNNAMED --add-opens=java.base/jdk.internal.ref=ALL-UNNAMED --add-opens=java.base/jdk.internal.reflect=ALL-UNNAMED --add-opens=java.sql/java.sql=ALL-UNNAMED --add-opens=java.base/jdk.internal.util=ALL-UNNAMED --add-opens=java.base/jdk.internal.util.random=ALL-UNNAMED --add-opens=java.base/java.lang.invoke=ALL-UNNAMED --add-opens=java.base/sun.util.calendar=ALL-UNNAMED --add-opens=jdk.management/com.sun.management.internal=ALL-UNNAMED -XX:+ExitOnOutOfMemoryError -Dsun.net.inetaddr.ttl=30 -Dyarn.log.dir=/var/log/hadoop-yarn -Dyarn.log.file=hadoop-yarn-nodemanager-ip-172-31-44-238.ec2.internal.log -Dyarn.home.dir=/usr/lib/hadoop-yarn -Dyarn.root.logger=INFO,console -Djava.library.path=:/usr/lib/hadoop-lzo/lib/native:/usr/lib/hadoop/lib/native -Xmx2048m -Dhadoop.log.dir=/var/log/hadoop-yarn -Dhadoop.log.file=hadoop-yarn-nodemanager-ip-172-31-44-238.ec2.internal.log -Dhadoop.home.dir=/usr/lib/hadoop -Dhadoop.id.str=yarn -Dhadoop.root.logger=INFO,DRFA -Dhadoop.policy.file=hadoop-policy.xml -Dhadoop.security.logger=INFO,NullAppender org.apache.hadoop.yarn.server.nodemanager.NodeManager
root        4124  4.9  2.2 4959444 369288 ?      Sl   17:12   0:14 /usr/lib/jvm/jre-17/bin/java -Xmx1024m -XX:+ExitOnOutOfMemoryError -XX:MinHeapFreeRatio=10 -server -cp /usr/share/aws/emr/instance-controller/lib/*:/home/hadoop/conf:/usr/share/aws/aws-java-sdk-v2/* -Dlog4j2.configurationFile=file:/etc/logpusher/log4j2.xml -Dlog4j2.formatMsgNoLookups=true -Dlog4j2.disable.jmx=true aws157.logpusher.Main /etc/logpusher/logpusher.properties
hdfs        5878  4.1  2.0 2887152 324056 ?      Sl   17:13   0:09 /usr/lib/jvm/jre-17/bin/java -Dproc_datanode -Djava.net.preferIPv4Stack=true -server -XX:+ExitOnOutOfMemoryError --add-exports=jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED --add-exports=java.base/sun.security.x509=ALL-UNNAMED --add-exports=java.base/sun.security.util=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.base/java.lang.reflect=ALL-UNNAMED --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.math=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.util.concurrent=ALL-UNNAMED -XX:+IgnoreUnrecognizedVMOptions --add-opens=java.base/java.net=ALL-UNNAMED --add-opens=java.base/java.text=ALL-UNNAMED --add-opens=java.base/java.util.concurrent.atomic=ALL-UNNAMED --add-opens=java.base/java.nio=ALL-UNNAMED --add-opens=java.base/sun.nio.ch=ALL-UNNAMED --add-opens=java.base/sun.nio.cs=ALL-UNNAMED --add-opens=java.base/java.time=ALL-UNNAMED --add-opens=java.base/java.util.regex=ALL-UNNAMED --add-opens=java.base/jdk.internal=ALL-UNNAMED --add-opens=java.base/jdk.internal.ref=ALL-UNNAMED --add-opens=java.base/jdk.internal.reflect=ALL-UNNAMED --add-opens=java.sql/java.sql=ALL-UNNAMED --add-opens=java.base/jdk.internal.util=ALL-UNNAMED --add-opens=java.base/jdk.internal.util.random=ALL-UNNAMED --add-opens=java.base/java.lang.invoke=ALL-UNNAMED --add-opens=java.base/sun.util.calendar=ALL-UNNAMED --add-opens=jdk.management/com.sun.management.internal=ALL-UNNAMED -Dhadoop.security.logger=ERROR,DRFAS -Dyarn.log.dir=/var/log/hadoop-hdfs -Dyarn.log.file=hadoop-hdfs-datanode-ip-172-31-44-238.ec2.internal.log -Dyarn.home.dir=/usr/lib/hadoop-yarn -Dyarn.root.logger=INFO,console -Djava.library.path=:/usr/lib/hadoop-lzo/lib/native:/usr/lib/hadoop/lib/native -Xmx778m -Dhadoop.log.dir=/var/log/hadoop-hdfs -Dhadoop.log.file=hadoop-hdfs-datanode-ip-172-31-44-238.ec2.internal.log -Dhadoop.home.dir=/usr/lib/hadoop -Dhadoop.id.str=hdfs -Dhadoop.root.logger=INFO,DRFA -Dhadoop.policy.file=hadoop-policy.xml -Dsun.net.inetaddr.ttl=3600 org.apache.hadoop.hdfs.server.datanode.DataNode
root        4149  1.4  1.1 5183008 184348 ?      Sl   17:12   0:04 /usr/lib/jvm/java-17-amazon-corretto.x86_64/bin/java -Xmx1500m -Xms300m -XX:+ExitOnOutOfMemoryError -XX:MinHeapFreeRatio=10 -cp /usr/share/aws/aws-java-sdk-v2/*:/usr/share/aws/emr/emr-log-analytics-metrics/lib/*:/home/hadoop/conf -Dlog4j.defaultInitOverride aws157.apppusher.Main
hadoop      4563  0.9  0.9 5988248 155308 ?      Sl   17:12   0:02 /etc/alternatives/jre/bin/java -Dproc_app -Djava.net.preferIPv4Stack=true -Dsun.net.inetaddr.ttl=30 -Dservice.libdir=/usr/lib/hadoop-yarn/./,/usr/lib/hadoop-yarn/lib,/usr/lib/hadoop-hdfs/./,/usr/lib/hadoop-hdfs/lib,/usr/lib/hadoop/./,/usr/lib/hadoop/lib -Dyarn.log.dir=/usr/lib/hadoop/logs -Dyarn.log.file=hadoop.log -Dyarn.home.dir=/usr/lib/hadoop-yarn -Dyarn.root.logger=INFO,console -Djava.library.path=/usr/lib/hadoop/lib/native -Dhadoop.log.dir=/usr/lib/hadoop/logs -Dhadoop.log.file=hadoop.log -Dhadoop.home.dir=/usr/lib/hadoop -Dhadoop.id.str=hadoop -Dhadoop.root.logger=INFO,console -Dhadoop.policy.file=hadoop-policy.xml -Dhadoop.security.logger=INFO,NullAppender org.apache.hadoop.yarn.client.cli.ApplicationCLI app --list --appStates ALL
root        5126  0.0  0.4 2003768 80416 ?       Ssl  17:13   0:00 /usr/bin/dockerd -H fd:// --containerd=/run/containerd/containerd.sock --default-ulimit nofile=32768:65536
root        5100  0.0  0.2 1881680 41680 ?       Ssl  17:13   0:00 /usr/bin/containerd
root        3820  0.0  0.1 1240692 19888 ?       Ssl  17:11   0:00 /usr/bin/amazon-ssm-agent
root           1  1.1  0.1 172960 17936 ?        Ss   17:11   0:03 /usr/lib/systemd/systemd --switched-root --system --deserialize=32
root        1039  0.1  0.1  54124 17892 ?        Ss   17:11   0:00 /usr/lib/systemd/systemd-journald
systemd+    1612  0.0  0.0  22600 15092 ?        Ss   17:11   0:00 /usr/lib/systemd/systemd-resolved
root        7785  1.2  0.0  22176 14316 ?        Ss   17:16   0:00 /usr/lib/systemd/systemd --user
hadoop      4547  0.0  0.0  22212 14224 ?        Ss   17:12   0:00 /usr/lib/systemd/systemd --user
root        1613  0.0  0.0  32032 11584 ?        Ss   17:11   0:00 /usr/lib/systemd/systemd-udevd
root        1804  0.0  0.0  19308 11432 ?        Ss   17:11   0:00 /usr/lib/systemd/systemd-logind

# hows the kernel looking
dmesg | tail -n 25
[   16.427898] XFS (nvme1n1p1): Mounting V5 Filesystem
[   16.463408] XFS (nvme1n1p1): Ending clean mount
[   16.501080] XFS (nvme1n1p2): Mounting V5 Filesystem
[   16.543815] XFS (nvme1n1p2): Ending clean mount
[   16.546840] XFS (nvme1n1p2): Quotacheck needed: Please wait.
[   16.551367] XFS (nvme1n1p2): Quotacheck: Done.
[   16.581834] XFS (nvme2n1): Mounting V5 Filesystem
[   16.624921] XFS (nvme2n1): Ending clean mount
[   16.627842] XFS (nvme2n1): Quotacheck needed: Please wait.
[   16.633484] XFS (nvme2n1): Quotacheck: Done.
[   21.620901] systemd-journald[1039]: /var/log/journal/ec276fc410ae8f3bf6c5605dc1bcdbc7/system.journal: Journal file has been deleted, rotating.
[   21.622552] systemd-journald[1039]: Failed to write entry to /var/log/journal/ec276fc410ae8f3bf6c5605dc1bcdbc7/system.journal (22 items, 740 bytes), rotating before retrying: Identifier removed
[   23.010143] zram_generator::config[3976]: zram0: system has too much memory (15779MB), limit is 800MB, ignoring.
[   23.328398] zram_generator::config[4053]: zram0: system has too much memory (15779MB), limit is 800MB, ignoring.
[   97.016618] zram_generator::config[5093]: zram0: system has too much memory (15779MB), limit is 800MB, ignoring.
[   98.154070] bridge: filtering via arp/ip/ip6tables is no longer available by default. Update your scripts to load br_netfilter if you need this.
[   98.158682] Bridge firewalling registered
[   98.353720] Initializing XFRM netlink socket
[   98.815257] zram_generator::config[5311]: zram0: system has too much memory (15779MB), limit is 800MB, ignoring.
[   99.091810] zram_generator::config[5336]: zram0: system has too much memory (15779MB), limit is 800MB, ignoring.
[  103.127240] zram_generator::config[5841]: zram0: system has too much memory (15779MB), limit is 800MB, ignoring.
[  105.676635] zram_generator::config[5994]: zram0: system has too much memory (15779MB), limit is 800MB, ignoring.
[  106.099739] zram_generator::config[6026]: zram0: system has too much memory (15779MB), limit is 800MB, ignoring.
[  107.928330] zram_generator::config[6245]: zram0: system has too much memory (15779MB), limit is 800MB, ignoring.
[  108.187607] zram_generator::config[6271]: zram0: system has too much memory (15779MB), limit is 800MB, ignoring.

# dump instance controller log
tail -n 100 /emr/instance-controller/log/instance-controller.log
2026-01-18 17:15:15,428 INFO arpc-76: Updating local logpusher decommissioning state as a result of /getStatus rpc call before: false, after: false
2026-01-18 17:15:15,459 INFO instance-metrics-collector-4: Starting Command: [sh /usr/bin//cpumet.sh null]
2026-01-18 17:15:16,465 INFO instance-metrics-collector-4: Completed Command: [sh /usr/bin//cpumet.sh null] in 1005ms, exitCode: 0, hadExceptionsInExecution?: false, 
2026-01-18 17:15:18,898 INFO MetricsCollectorCoreTaskManager-1: Calling GetManagedResizeConfigurationForWorkerRequest RPC.
2026-01-18 17:15:18,910 INFO MetricsCollectorCoreTaskManager-1: Received GetManagedResizeConfigurationForWorkerRequest response, isManagedResizeEnabled is false.
2026-01-18 17:15:18,910 INFO MetricsCollectorCoreTaskManager-1: Instance level metrics frequencies are not set, so we will not start MetricCollector on Core/Task Instances.
2026-01-18 17:15:19,461 INFO instance-metrics-collector-1: Starting Command: [sh /usr/bin//proc_cpu_mem.sh null]
2026-01-18 17:15:19,999 INFO arpc-74: Updating local logpusher decommissioning state as a result of /getStatus rpc call before: false, after: false
2026-01-18 17:15:20,443 INFO arpc-98: Updating local logpusher decommissioning state as a result of /getStatus rpc call before: false, after: false
2026-01-18 17:15:21,641 INFO instance-metrics-collector-1: Completed Command: [sh /usr/bin//proc_cpu_mem.sh null] in 2179ms, exitCode: 0, hadExceptionsInExecution?: false, 
2026-01-18 17:15:22,254 INFO healthSignalMonitor: Sleeping for '30000'
2026-01-18 17:15:24,999 INFO arpc-70: Updating local logpusher decommissioning state as a result of /getStatus rpc call before: false, after: false
2026-01-18 17:15:25,459 INFO arpc-74: Updating local logpusher decommissioning state as a result of /getStatus rpc call before: false, after: false
2026-01-18 17:15:29,999 INFO arpc-70: Updating local logpusher decommissioning state as a result of /getStatus rpc call before: false, after: false
2026-01-18 17:15:30,475 INFO arpc-76: Updating local logpusher decommissioning state as a result of /getStatus rpc call before: false, after: false
2026-01-18 17:15:34,999 INFO arpc-98: Updating local logpusher decommissioning state as a result of /getStatus rpc call before: false, after: false
2026-01-18 17:15:35,492 INFO arpc-70: Updating local logpusher decommissioning state as a result of /getStatus rpc call before: false, after: false
2026-01-18 17:15:39,999 INFO arpc-74: Updating local logpusher decommissioning state as a result of /getStatus rpc call before: false, after: false
2026-01-18 17:15:40,508 INFO arpc-98: Updating local logpusher decommissioning state as a result of /getStatus rpc call before: false, after: false
2026-01-18 17:15:45,000 INFO arpc-74: Updating local logpusher decommissioning state as a result of /getStatus rpc call before: false, after: false
2026-01-18 17:15:45,524 INFO arpc-70: Updating local logpusher decommissioning state as a result of /getStatus rpc call before: false, after: false
2026-01-18 17:15:48,898 INFO MetricsCollectorCoreTaskManager-1: Calling GetManagedResizeConfigurationForWorkerRequest RPC.
2026-01-18 17:15:48,912 INFO MetricsCollectorCoreTaskManager-1: Received GetManagedResizeConfigurationForWorkerRequest response, isManagedResizeEnabled is false.
2026-01-18 17:15:48,912 INFO MetricsCollectorCoreTaskManager-1: Instance level metrics frequencies are not set, so we will not start MetricCollector on Core/Task Instances.
2026-01-18 17:15:49,998 INFO arpc-98: Updating local logpusher decommissioning state as a result of /getStatus rpc call before: false, after: false
2026-01-18 17:15:50,538 INFO arpc-76: Updating local logpusher decommissioning state as a result of /getStatus rpc call before: false, after: false
2026-01-18 17:15:52,659 INFO healthSignalMonitor: Sleeping for '30000'
2026-01-18 17:15:55,001 INFO arpc-98: Updating local logpusher decommissioning state as a result of /getStatus rpc call before: false, after: false
2026-01-18 17:15:55,556 INFO arpc-74: Updating local logpusher decommissioning state as a result of /getStatus rpc call before: false, after: false
2026-01-18 17:16:00,001 INFO arpc-70: Updating local logpusher decommissioning state as a result of /getStatus rpc call before: false, after: false
2026-01-18 17:16:00,578 INFO arpc-98: Updating local logpusher decommissioning state as a result of /getStatus rpc call before: false, after: false
2026-01-18 17:16:05,018 INFO arpc-76: Updating local logpusher decommissioning state as a result of /getStatus rpc call before: false, after: false
2026-01-18 17:16:05,562 INFO RemoteInstanceStateUpdater: Got 2 signed policies from master
2026-01-18 17:16:05,563 INFO RemoteInstanceStateUpdater: save policy to db: SignedPolicy SYSTEM_LOG bucket: aws157-logs-prod prefix: j-5MT0VO3U70E1/ expiration: 2026-01-18 06:12:45.348 PM
2026-01-18 17:16:05,564 INFO RemoteInstanceStateUpdater: save policy to db: SignedPolicy USER_LOG bucket: cfggii23 prefix: dsp2/logs/j-5MT0VO3U70E1/ expiration: 2026-01-18 06:12:45.373 PM
2026-01-18 17:16:05,586 INFO RemoteInstanceStateUpdater: Parsing ComponentConfigurations.
2026-01-18 17:16:05,586 INFO RemoteInstanceStateUpdater: Initializing Hadoop configurations
2026-01-18 17:16:05,587 INFO RemoteInstanceStateUpdater: ResourceManagerHostnames already populated, updating yarn-site
2026-01-18 17:16:05,588 INFO RemoteInstanceStateUpdater: hadoopConfDir /etc/hadoop/conf/
2026-01-18 17:16:05,588 INFO RemoteInstanceStateUpdater: Apps installed []
2026-01-18 17:16:05,588 INFO RemoteInstanceStateUpdater: Kerberos classification not found, it is not a Kerberos cluster.
2026-01-18 17:16:05,588 INFO RemoteInstanceStateUpdater: It is not an external KDC cluster, not setting KerberosReadyToShutDown in common instance record.
2026-01-18 17:16:05,588 INFO RemoteInstanceStateUpdater: Not Starting Kerberos Refresher, since its not a kerberized cluster
2026-01-18 17:16:05,588 INFO RemoteInstanceStateUpdater: ClusterConfigurationUpdateHandler Received Managed resize Configuration as null
2026-01-18 17:16:05,588 INFO RemoteInstanceStateUpdater: Touching heartbeat file: uplink
2026-01-18 17:16:05,588 INFO RemoteInstanceStateUpdater: Sleeping for '60000'
2026-01-18 17:16:05,611 INFO arpc-70: Updating local logpusher decommissioning state as a result of /getStatus rpc call before: false, after: false
2026-01-18 17:16:10,005 INFO arpc-70: Updating local logpusher decommissioning state as a result of /getStatus rpc call before: false, after: false
2026-01-18 17:16:10,651 INFO arpc-98: Updating local logpusher decommissioning state as a result of /getStatus rpc call before: false, after: false
2026-01-18 17:16:13,459 INFO instance-metrics-collector-2: Starting Command: [sh /usr/bin//memmet.sh null]
2026-01-18 17:16:13,469 INFO instance-metrics-collector-2: Completed Command: [sh /usr/bin//memmet.sh null] in 10ms, exitCode: 0, hadExceptionsInExecution?: false, 
2026-01-18 17:16:15,026 INFO arpc-74: Updating local logpusher decommissioning state as a result of /getStatus rpc call before: false, after: false
2026-01-18 17:16:15,037 INFO arpc-98: Updating local logpusher decommissioning state as a result of /getStatus rpc call before: false, after: false
2026-01-18 17:16:15,045 INFO arpc-76: Updating local logpusher decommissioning state as a result of /getStatus rpc call before: false, after: false
2026-01-18 17:16:15,459 INFO instance-metrics-collector-5: Starting Command: [sh /usr/bin//cpumet.sh null]
2026-01-18 17:16:15,708 INFO arpc-217: Updating local logpusher decommissioning state as a result of /getStatus rpc call before: false, after: false
2026-01-18 17:16:16,467 INFO instance-metrics-collector-5: Completed Command: [sh /usr/bin//cpumet.sh null] in 1007ms, exitCode: 0, hadExceptionsInExecution?: false, 
2026-01-18 17:16:18,898 INFO MetricsCollectorCoreTaskManager-1: Calling GetManagedResizeConfigurationForWorkerRequest RPC.
2026-01-18 17:16:18,910 INFO MetricsCollectorCoreTaskManager-1: Received GetManagedResizeConfigurationForWorkerRequest response, isManagedResizeEnabled is false.
2026-01-18 17:16:18,910 INFO MetricsCollectorCoreTaskManager-1: Instance level metrics frequencies are not set, so we will not start MetricCollector on Core/Task Instances.
2026-01-18 17:16:19,461 INFO instance-metrics-collector-4: Starting Command: [sh /usr/bin//proc_cpu_mem.sh null]
2026-01-18 17:16:20,002 INFO arpc-70: Updating local logpusher decommissioning state as a result of /getStatus rpc call before: false, after: false
2026-01-18 17:16:20,735 INFO arpc-98: Updating local logpusher decommissioning state as a result of /getStatus rpc call before: false, after: false
2026-01-18 17:16:21,681 INFO instance-metrics-collector-4: Completed Command: [sh /usr/bin//proc_cpu_mem.sh null] in 2219ms, exitCode: 0, hadExceptionsInExecution?: false, 
2026-01-18 17:16:23,070 INFO healthSignalMonitor: Sleeping for '30000'
2026-01-18 17:16:25,000 INFO arpc-74: Updating local logpusher decommissioning state as a result of /getStatus rpc call before: false, after: false
2026-01-18 17:16:25,755 INFO arpc-217: Updating local logpusher decommissioning state as a result of /getStatus rpc call before: false, after: false
2026-01-18 17:16:30,002 INFO arpc-98: Updating local logpusher decommissioning state as a result of /getStatus rpc call before: false, after: false
2026-01-18 17:16:30,789 INFO arpc-70: Updating local logpusher decommissioning state as a result of /getStatus rpc call before: false, after: false
2026-01-18 17:16:35,027 INFO arpc-76: Updating local logpusher decommissioning state as a result of /getStatus rpc call before: false, after: false
2026-01-18 17:16:35,813 INFO arpc-217: Updating local logpusher decommissioning state as a result of /getStatus rpc call before: false, after: false
2026-01-18 17:16:40,006 INFO arpc-74: Updating local logpusher decommissioning state as a result of /getStatus rpc call before: false, after: false
2026-01-18 17:16:40,832 INFO arpc-70: Updating local logpusher decommissioning state as a result of /getStatus rpc call before: false, after: false
2026-01-18 17:16:45,002 INFO arpc-217: Updating local logpusher decommissioning state as a result of /getStatus rpc call before: false, after: false
2026-01-18 17:16:45,851 INFO arpc-98: Updating local logpusher decommissioning state as a result of /getStatus rpc call before: false, after: false
2026-01-18 17:16:46,983 INFO JobFlowStateUpdater: Masking ComponentConfiguration for classification: hdfs-site
2026-01-18 17:16:46,983 INFO JobFlowStateUpdater: Masking ComponentConfiguration for classification: httpfs-site
2026-01-18 17:16:46,983 INFO JobFlowStateUpdater: Masking ComponentConfiguration for classification: hadoop-env
2026-01-18 17:16:46,983 INFO JobFlowStateUpdater: Masking ComponentConfiguration for classification: yarn-env
2026-01-18 17:16:46,983 INFO JobFlowStateUpdater: Masking ComponentConfiguration for classification: yarn-site
2026-01-18 17:16:46,984 INFO JobFlowStateUpdater: Masking ComponentConfiguration for classification: mapred-site
2026-01-18 17:16:46,984 INFO JobFlowStateUpdater: Masking ComponentConfiguration for classification: core-site
2026-01-18 17:16:46,984 INFO JobFlowStateUpdater: Masking ComponentConfiguration for classification: hdfs-site
2026-01-18 17:16:46,984 INFO JobFlowStateUpdater: Masking ComponentConfiguration for classification: httpfs-site
2026-01-18 17:16:46,984 INFO JobFlowStateUpdater: Masking ComponentConfiguration for classification: hadoop-env
2026-01-18 17:16:46,984 INFO JobFlowStateUpdater: Masking ComponentConfiguration for classification: yarn-env
2026-01-18 17:16:46,984 INFO JobFlowStateUpdater: Masking ComponentConfiguration for classification: yarn-site
2026-01-18 17:16:46,984 INFO JobFlowStateUpdater: Masking ComponentConfiguration for classification: mapred-site
2026-01-18 17:16:46,984 INFO JobFlowStateUpdater: Masking ComponentConfiguration for classification: core-site
2026-01-18 17:16:46,997 INFO JobFlowStateUpdater: Sleeping for 120000
2026-01-18 17:16:48,898 INFO MetricsCollectorCoreTaskManager-1: Calling GetManagedResizeConfigurationForWorkerRequest RPC.
2026-01-18 17:16:48,922 INFO MetricsCollectorCoreTaskManager-1: Received GetManagedResizeConfigurationForWorkerRequest response, isManagedResizeEnabled is false.
2026-01-18 17:16:48,922 INFO MetricsCollectorCoreTaskManager-1: Instance level metrics frequencies are not set, so we will not start MetricCollector on Core/Task Instances.
2026-01-18 17:16:50,002 INFO arpc-76: Updating local logpusher decommissioning state as a result of /getStatus rpc call before: false, after: false
2026-01-18 17:16:50,866 INFO arpc-74: Updating local logpusher decommissioning state as a result of /getStatus rpc call before: false, after: false
2026-01-18 17:16:53,535 INFO healthSignalMonitor: Sleeping for '30000'
2026-01-18 17:16:55,002 INFO arpc-70: Updating local logpusher decommissioning state as a result of /getStatus rpc call before: false, after: false
2026-01-18 17:16:55,896 INFO arpc-98: Updating local logpusher decommissioning state as a result of /getStatus rpc call before: false, after: false
2026-01-18 17:17:00,012 INFO arpc-74: Updating local logpusher decommissioning state as a result of /getStatus rpc call before: false, after: false
2026-01-18 17:17:00,937 INFO arpc-217: Updating local logpusher decommissioning state as a result of /getStatus rpc call before: false, after: false

# dump instance controller stdout
tail -n 100 /emr/instance-controller/log/instance-controller.out
tail: cannot open '/emr/instance-controller/log/instance-controller.out' for reading: No such file or directory

# dump log pusher log
tail -n 100 /emr/logpusher/log/logpusher.log
2026-01-18 17:13:18,649 INFO logspusher-8: Finished compressing file setup-dns.log.gz with time: 0 milliseconds
2026-01-18 17:13:18,650 INFO logspusher-6: Logpusher uses AES-256 as encryption
2026-01-18 17:13:18,650 INFO logspusher-8: uploading setup-dns.log.gz using putObject, file length 1808
2026-01-18 17:13:18,650 INFO logspusher-8: Logpusher uses AES-256 as encryption
2026-01-18 17:13:18,653 INFO logspusher-9: LogFile to update, s3Path: /emr/setup-devices/setup_emr_metrics.2026-01-18-17-11-45.log, current S3 size: null, new S3 size: 236
2026-01-18 17:13:18,656 INFO logspusher-9: From 0 to 210 of /emr/instance-controller/log/instance-controller.out.2026-01-18-17-12 is compressed
2026-01-18 17:13:18,657 INFO logspusher-9: Compressed /emr/instance-controller/log/instance-controller.out.2026-01-18-17-12 210:173 ratio:1.2138728323699421
2026-01-18 17:13:18,657 INFO logspusher-9: Finished compressing file instance-controller.out.2026-01-18-17-12.gz with time: 1 milliseconds
2026-01-18 17:13:18,657 INFO logspusher-9: uploading instance-controller.out.2026-01-18-17-12.gz using putObject, file length 173
2026-01-18 17:13:18,657 INFO logspusher-9: Logpusher uses AES-256 as encryption
2026-01-18 17:13:18,663 INFO logspusher-3: LogFile to update, s3Path: /emr/setup-devices/setup_drives.2026-01-18-17-11-45.log, current S3 size: null, new S3 size: 5424
2026-01-18 17:13:18,666 INFO logspusher-3: From 0 to 4170 of /emr/setup-devices/setup_tmp_dir.2026-01-18-17-11-45.log is compressed
2026-01-18 17:13:18,666 INFO logspusher-3: Compressed /emr/setup-devices/setup_tmp_dir.2026-01-18-17-11-45.log 4170:798 ratio:5.225563909774436
2026-01-18 17:13:18,666 INFO logspusher-3: Finished compressing file setup_tmp_dir.2026-01-18-17-11-45.log.gz with time: 1 milliseconds
2026-01-18 17:13:18,666 INFO logspusher-3: uploading setup_tmp_dir.2026-01-18-17-11-45.log.gz using putObject, file length 798
2026-01-18 17:13:18,666 INFO logspusher-3: Logpusher uses AES-256 as encryption
2026-01-18 17:13:18,671 INFO logspusher-5: LogFile to update, s3Path: /emr/instance-controller/log/monitor.log, current S3 size: null, new S3 size: 648
2026-01-18 17:13:18,674 INFO logspusher-4: LogFile to update, s3Path: /emr/apppusher/log/apppusher.log, current S3 size: null, new S3 size: 1528
2026-01-18 17:13:18,676 INFO logspusher-5: From 0 to 132828 of /emr/logpusher/log/logpusher.log is compressed
2026-01-18 17:13:18,676 INFO logspusher-5: Compressed /emr/logpusher/log/logpusher.log 133083:11015 ratio:12.08197911938266
2026-01-18 17:13:18,676 INFO logspusher-5: Finished compressing file logpusher.log.gz with time: 3 milliseconds
2026-01-18 17:13:18,676 INFO logspusher-5: uploading logpusher.log.gz using putObject, file length 11015
2026-01-18 17:13:18,676 INFO logspusher-5: Logpusher uses AES-256 as encryption
2026-01-18 17:13:18,678 INFO logspusher-1: LogFile to update, s3Path: /emr/setup-devices/udev.2026-01-18-17-11-52.log, current S3 size: null, new S3 size: 372
2026-01-18 17:13:18,682 INFO logspusher-6: LogFile to update, s3Path: /emr/instance-state/libinstance-controller.log-2026-01-18-17-11, current S3 size: null, new S3 size: 827
2026-01-18 17:13:18,685 INFO logspusher-7: LogFile to update, s3Path: /emr/setup-devices/setup_var_tmp_dir.2026-01-18-17-11-45.log, current S3 size: null, new S3 size: 645
2026-01-18 17:13:18,691 INFO logspusher-9: LogFile to update, s3Path: /emr/instance-controller/log/instance-controller.out.2026-01-18-17-12, current S3 size: null, new S3 size: 173
2026-01-18 17:13:18,701 INFO logspusher-3: LogFile to update, s3Path: /emr/setup-devices/setup_tmp_dir.2026-01-18-17-11-45.log, current S3 size: null, new S3 size: 798
2026-01-18 17:13:18,705 INFO logspusher-8: LogFile to update, s3Path: /mnt/var/log/setup-dns/setup-dns.log, current S3 size: null, new S3 size: 1808
2026-01-18 17:13:18,714 INFO logspusher-5: LogFile to update, s3Path: /emr/logpusher/log/logpusher.log, current S3 size: null, new S3 size: 11015
2026-01-18 17:13:18,717 INFO logspusher-2: Uploaded 19 logs:
  prepare:   34(ms) db:   5(ms) size:       184 compress: 1.24 /emr/setup-devices/DiskEncryptor.log SYS: 1198(ms)
  prepare:   28(ms) db:   8(ms) size:      1389 compress: 4.35 /emr/setup-devices/setup_var_log_dir.2026-01-18-17-11-45.log SYS: 1201(ms)
  prepare:   29(ms) db:  20(ms) size:      7116 compress: 7.35 /emr/setup-devices/setup_var_lib_dir.2026-01-18-17-11-45.log SYS: 1199(ms)
  prepare:   26(ms) db:  18(ms) size:     11092 compress: 8.47 /emr/instance-controller/log/instance-controller.log SYS: 1199(ms)
  prepare:   22(ms) db:  34(ms) size:       173 compress: 1.21 /emr/logpusher/log/logpusher.out SYS: 1200(ms)
  prepare:   12(ms) db:  33(ms) size:      1521 compress: 5.74 /emr/setup-devices/setup_var_cache_dir.2026-01-18-17-11-45.log SYS: 1200(ms)
  prepare:    9(ms) db:  24(ms) size:        89 compress: 1.21 /mnt/var/log/mk-tmp-on-root/mk-tmp-on-root.log SYS: 1200(ms)
  prepare:    7(ms) db:   4(ms) size:       590 compress: 3.72 /emr/instance-state/console.log-2026-01-18-17-11 SYS: 1201(ms)
  prepare:    1(ms) db:   7(ms) size:       372 compress: 3.69 /emr/setup-devices/udev.2026-01-18-17-11-52.log SYS:  52(ms)
  prepare:    0(ms) db:   3(ms) size:       236 compress: 2.68 /emr/setup-devices/setup_emr_metrics.2026-01-18-17-11-45.log SYS:  31(ms)
  prepare:    1(ms) db:   4(ms) size:      5424 compress: 5.23 /emr/setup-devices/setup_drives.2026-01-18-17-11-45.log SYS:  36(ms)
  prepare:    0(ms) db:   2(ms) size:       648 compress: 4.27 /emr/instance-controller/log/monitor.log SYS:  37(ms)
  prepare:    1(ms) db:   6(ms) size:      1528 compress: 6.40 /emr/apppusher/log/apppusher.log SYS:  34(ms)
  prepare:    0(ms) db:  15(ms) size:       645 compress: 5.71 /emr/setup-devices/setup_var_tmp_dir.2026-01-18-17-11-45.log SYS:  31(ms)
  prepare:    1(ms) db:   6(ms) size:       827 compress: 3.52 /emr/instance-state/libinstance-controller.log-2026-01-18-17-11 SYS:  30(ms)
  prepare:    0(ms) db:   3(ms) size:      1808 compress: 5.04 /mnt/var/log/setup-dns/setup-dns.log SYS:  53(ms)
  prepare:    0(ms) db:   2(ms) size:       173 compress: 1.21 /emr/instance-controller/log/instance-controller.out.2026-01-18-17-12 SYS:  33(ms)
  prepare:    0(ms) db:   4(ms) size:       798 compress: 5.23 /emr/setup-devices/setup_tmp_dir.2026-01-18-17-11-45.log SYS:  32(ms)
  prepare:    3(ms) db:   3(ms) size:     11015 compress: 12.08 /emr/logpusher/log/logpusher.log SYS:  36(ms)
2026-01-18 17:13:18,720 INFO logspusher-2: HibernateDb contains 1 S3Policys
2026-01-18 17:13:18,721 INFO logspusher-2: HibernateDb contains 22 LogFiles
2026-01-18 17:13:18,721 INFO logspusher-2: logpusher finished normal iteration (1) in (63) seconds.
2026-01-18 17:13:18,721 INFO logspusher-2: Acquired Lock for CHECKPOINT DEFRAG
2026-01-18 17:13:18,758 INFO logspusher-2: Defrag checkpoint Statement Finished in 36 milliseconds
2026-01-18 17:13:45,307 INFO dsm-1: DiskSpaceManager started cycle 2
2026-01-18 17:13:45,308 INFO dsm-1: /mnt   total   27582 MB free   27082 MB used    500 MB (1.81 %)
2026-01-18 17:13:45,308 INFO dsm-1: /emr   total    5056 MB free    4987 MB used     69 MB (1.36 %)
2026-01-18 17:13:45,308 INFO dsm-1: /      total   15283 MB free    8371 MB used   6912 MB (45.23 %)
2026-01-18 17:13:45,310 INFO dsm-1: DiskSpaceManager lastSuccessTime = 2026-01-18T17:12:45.302221744Z , lastFailTime = null
2026-01-18 17:13:45,310 INFO dsm-1: cycle 2 disk: /mnt freeDiskSpaceMb: 27082/27582 MB freeDiskSpaceRatio:0.98
2026-01-18 17:13:45,310 INFO dsm-1: Disk /mnt had sufficient free space, skipping directories scan for this cycle
2026-01-18 17:13:45,310 INFO dsm-1: cycle 2 disk: /emr freeDiskSpaceMb: 4987/5056 MB freeDiskSpaceRatio:0.99
2026-01-18 17:13:45,310 INFO dsm-1: Disk /emr had sufficient free space, skipping directories scan for this cycle
2026-01-18 17:13:45,310 INFO dsm-1: DSM cycle finished in 3 milliseconds
2026-01-18 17:14:15,130 INFO rpcPoller-1: Initialized configset from IC's internal rpc
2026-01-18 17:14:15,162 INFO rpcPoller-1: update SignedPolicy SYSTEM_LOG bucket: aws157-logs-prod prefix: j-5MT0VO3U70E1/ expiration: 2026-01-18 06:12:45.348 PM
2026-01-18 17:14:15,162 INFO rpcPoller-1: add SignedPolicy USER_LOG bucket: cfggii23 prefix: dsp2/logs/j-5MT0VO3U70E1/ expiration: 2026-01-18 06:12:45.373 PM
2026-01-18 17:14:15,163 INFO rpcPoller-1: save policy to db: SignedPolicy SYSTEM_LOG bucket: aws157-logs-prod prefix: j-5MT0VO3U70E1/ expiration: 2026-01-18 06:12:45.348 PM
2026-01-18 17:14:15,165 INFO rpcPoller-1: save policy to db: SignedPolicy USER_LOG bucket: cfggii23 prefix: dsp2/logs/j-5MT0VO3U70E1/ expiration: 2026-01-18 06:12:45.373 PM
2026-01-18 17:14:45,314 INFO dsm-1: DiskSpaceManager started cycle 3
2026-01-18 17:14:45,314 INFO dsm-1: /mnt   total   27582 MB free   27082 MB used    500 MB (1.81 %)
2026-01-18 17:14:45,315 INFO dsm-1: /emr   total    5056 MB free    4987 MB used     69 MB (1.36 %)
2026-01-18 17:14:45,315 INFO dsm-1: /      total   15283 MB free    8371 MB used   6912 MB (45.23 %)
2026-01-18 17:14:45,316 INFO dsm-1: DiskSpaceManager lastSuccessTime = 2026-01-18T17:13:45.310892106Z , lastFailTime = null
2026-01-18 17:14:45,316 INFO dsm-1: cycle 3 disk: /mnt freeDiskSpaceMb: 27082/27582 MB freeDiskSpaceRatio:0.98
2026-01-18 17:14:45,316 INFO dsm-1: Disk /mnt had sufficient free space, skipping directories scan for this cycle
2026-01-18 17:14:45,317 INFO dsm-1: cycle 3 disk: /emr freeDiskSpaceMb: 4987/5056 MB freeDiskSpaceRatio:0.99
2026-01-18 17:14:45,317 INFO dsm-1: Disk /emr had sufficient free space, skipping directories scan for this cycle
2026-01-18 17:14:45,317 INFO dsm-1: DSM cycle finished in 2 milliseconds
2026-01-18 17:15:45,318 INFO dsm-1: DiskSpaceManager started cycle 4
2026-01-18 17:15:45,319 INFO dsm-1: /mnt   total   27582 MB free   27081 MB used    501 MB (1.82 %)
2026-01-18 17:15:45,319 INFO dsm-1: /emr   total    5056 MB free    4987 MB used     69 MB (1.36 %)
2026-01-18 17:15:45,319 INFO dsm-1: /      total   15283 MB free    8371 MB used   6912 MB (45.23 %)
2026-01-18 17:15:45,321 INFO dsm-1: DiskSpaceManager lastSuccessTime = 2026-01-18T17:14:45.317167665Z , lastFailTime = null
2026-01-18 17:15:45,321 INFO dsm-1: cycle 4 disk: /mnt freeDiskSpaceMb: 27081/27582 MB freeDiskSpaceRatio:0.98
2026-01-18 17:15:45,321 INFO dsm-1: Disk /mnt had sufficient free space, skipping directories scan for this cycle
2026-01-18 17:15:45,321 INFO dsm-1: cycle 4 disk: /emr freeDiskSpaceMb: 4987/5056 MB freeDiskSpaceRatio:0.99
2026-01-18 17:15:45,321 INFO dsm-1: Disk /emr had sufficient free space, skipping directories scan for this cycle
2026-01-18 17:15:45,321 INFO dsm-1: DSM cycle finished in 2 milliseconds
2026-01-18 17:16:45,324 INFO dsm-1: DiskSpaceManager started cycle 5
2026-01-18 17:16:45,324 INFO dsm-1: /mnt   total   27582 MB free   27079 MB used    503 MB (1.82 %)
2026-01-18 17:16:45,324 INFO dsm-1: /emr   total    5056 MB free    4987 MB used     69 MB (1.36 %)
2026-01-18 17:16:45,324 INFO dsm-1: /      total   15283 MB free    8371 MB used   6912 MB (45.23 %)
2026-01-18 17:16:45,326 INFO dsm-1: DiskSpaceManager lastSuccessTime = 2026-01-18T17:15:45.321865579Z , lastFailTime = null
2026-01-18 17:16:45,327 INFO dsm-1: cycle 5 disk: /mnt freeDiskSpaceMb: 27079/27582 MB freeDiskSpaceRatio:0.98
2026-01-18 17:16:45,327 INFO dsm-1: Disk /mnt had sufficient free space, skipping directories scan for this cycle
2026-01-18 17:16:45,327 INFO dsm-1: cycle 5 disk: /emr freeDiskSpaceMb: 4987/5056 MB freeDiskSpaceRatio:0.99
2026-01-18 17:16:45,327 INFO dsm-1: Disk /emr had sufficient free space, skipping directories scan for this cycle
2026-01-18 17:16:45,327 INFO dsm-1: DSM cycle finished in 3 milliseconds

# dump log pusher stdout
tail -n 100 /emr/logpusher/log/logpusher.out
SLF4J: Failed to load class "org.slf4j.impl.StaticLoggerBinder".
SLF4J: Defaulting to no-operation (NOP) logger implementation
SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.

if [ "$dumpType" == "full" ]; then 
  echo "Kicking off a dump-jstack run in the background."
  timeout -s SIGKILL 2h /usr/bin/dump-jstack > /emr/instance-state/jstack.log-`date +\%Y-\%m-\%d-\%H-\%M` 2>&1 &
fi
Kicking off a dump-jstack run in the background.

# dump service nanny log
tail -n 20 /emr/service-nanny/log/service-nanny-`date +%Y-%m-%d`
tail: cannot open '/emr/service-nanny/log/service-nanny-2026-01-18' for reading: No such file or directory

# dump mysql process list
mysqladmin -u root processlist | awk -F'|' '{print $6, $7, $8, $9}' | grep -v '^\s*$'
mysqladmin: connect to server at 'localhost' failed
error: 'Can't connect to local server through socket '/var/lib/mysql/mysql.sock' (2)'
Check that mariadbd is running and that the socket: '/var/lib/mysql/mysql.sock' exists!

# Can we contact dom0?
curl --connect-timeout 2 -q -f --retry 5 -X PUT "http://169.254.169.254/latest/api/token" -H "X-aws-ec2-metadata-token-ttl-seconds: 1" >/dev/null
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0100    56  100    56    0     0  35668      0 --:--:-- --:--:-- --:--:-- 56000

# Can we access master?
set +o verbose
PING 172.31.39.66 (172.31.39.66) 56(84) bytes of data.
64 bytes from 172.31.39.66: icmp_seq=1 ttl=127 time=0.188 ms
64 bytes from 172.31.39.66: icmp_seq=2 ttl=127 time=0.169 ms

--- 172.31.39.66 ping statistics ---
2 packets transmitted, 2 received, 0% packet loss, time 1033ms
rtt min/avg/max/mdev = 0.169/0.178/0.188/0.009 ms

traceroute to 172.31.39.66 (172.31.39.66), 10 hops max, 60 byte packets
 1  172.31.39.66  0.202 ms  0.135 ms  0.123 ms


# Can we access the outside world?
curl -s -I --connect-timeout 1 --max-time 5 http://elasticmapreduce.s3.amazonaws.com | head
HTTP/1.1 200 OK
x-amz-id-2: xje4He2rMubwfObyaOuKYMWGmAa9+ITLhWnBnX0fvUv0hfeK5Wsp3BICxCAO+6TBiWIrbvtKxGM=
x-amz-request-id: T7J5SZS32018WG59
Date: Sun, 18 Jan 2026 17:17:03 GMT
x-amz-bucket-region: us-east-1
x-amz-access-point-alias: false
x-amz-bucket-arn: arn:aws:s3:::elasticmapreduce
Content-Type: application/xml
Transfer-Encoding: chunked
Server: AmazonS3

# Now traceroute it
traceroute -T --sport=17241 -p 443 -w 3 -n -m 10 elasticmapreduce.s3.amazonaws.com
traceroute to elasticmapreduce.s3.amazonaws.com (52.217.115.161), 10 hops max, 60 byte packets
 1  * * *
 2  240.3.140.65  1.047 ms  0.983 ms  0.980 ms
 3  240.3.140.81  2.465 ms  1.300 ms  0.915 ms
 4  240.3.140.17  1.000 ms  0.980 ms  0.984 ms
 5  * * *
 6  52.217.115.161  0.935 ms * *

# listing of last logged in users
last -w -n 25
reboot   system boot  6.1.158-178.288.amzn2023.x86_64 Sun Jan 18 17:11   still running

wtmp begins Sun Jan 18 17:11:37 2026

# whats io usage look like
iostat -x 1 5
Linux 6.1.158-178.288.amzn2023.x86_64 (ip-172-31-44-238.ec2.internal) 	01/18/26 	_x86_64_	(4 CPU)

avg-cpu:  %user   %nice %system %iowait  %steal   %idle
          25.83    0.00    2.08    1.69    0.01   70.40

Device            r/s     rkB/s   rrqm/s  %rrqm r_await rareq-sz     w/s     wkB/s   wrqm/s  %wrqm w_await wareq-sz     d/s     dkB/s   drqm/s  %drqm d_await dareq-sz     f/s f_await  aqu-sz  %util
nvme0n1         88.38   2549.70     0.04   0.04    1.10    28.85    2.14    108.50     0.27  11.36    1.30    50.62    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.10   6.99
nvme1n1          2.19     31.39     0.00   0.00    0.61    14.34   13.53   1491.61     4.16  23.52    1.82   110.24    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.03   0.47
nvme2n1          1.28     13.44     0.00   0.00    0.59    10.50    1.93    204.29     0.34  14.97    1.77   105.60    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.00   0.16


avg-cpu:  %user   %nice %system %iowait  %steal   %idle
          59.19    0.00    1.26    0.00    0.00   39.55

Device            r/s     rkB/s   rrqm/s  %rrqm r_await rareq-sz     w/s     wkB/s   wrqm/s  %wrqm w_await wareq-sz     d/s     dkB/s   drqm/s  %drqm d_await dareq-sz     f/s f_await  aqu-sz  %util
nvme0n1          0.00      0.00     0.00   0.00    0.00     0.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.00   0.00
nvme1n1          0.00      0.00     0.00   0.00    0.00     0.00    1.00     16.00     1.00  50.00    1.00    16.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.00   0.00
nvme2n1          0.00      0.00     0.00   0.00    0.00     0.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.00   0.00


avg-cpu:  %user   %nice %system %iowait  %steal   %idle
          58.25    0.00    0.75    0.00    0.00   41.00

Device            r/s     rkB/s   rrqm/s  %rrqm r_await rareq-sz     w/s     wkB/s   wrqm/s  %wrqm w_await wareq-sz     d/s     dkB/s   drqm/s  %drqm d_await dareq-sz     f/s f_await  aqu-sz  %util
nvme0n1          0.00      0.00     0.00   0.00    0.00     0.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.00   0.00
nvme1n1          0.00      0.00     0.00   0.00    0.00     0.00    5.00     48.00     2.00  28.57    1.00     9.60    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.01   0.00
nvme2n1          0.00      0.00     0.00   0.00    0.00     0.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.00   0.00


avg-cpu:  %user   %nice %system %iowait  %steal   %idle
          57.04    0.00    0.00    0.00    0.00   42.96

Device            r/s     rkB/s   rrqm/s  %rrqm r_await rareq-sz     w/s     wkB/s   wrqm/s  %wrqm w_await wareq-sz     d/s     dkB/s   drqm/s  %drqm d_await dareq-sz     f/s f_await  aqu-sz  %util
nvme0n1          0.00      0.00     0.00   0.00    0.00     0.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.00   0.00
nvme1n1          0.00      0.00     0.00   0.00    0.00     0.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.00   0.00
nvme2n1          0.00      0.00     0.00   0.00    0.00     0.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.00   0.00


avg-cpu:  %user   %nice %system %iowait  %steal   %idle
          58.73    0.00    0.25    0.00    0.00   41.01

Device            r/s     rkB/s   rrqm/s  %rrqm r_await rareq-sz     w/s     wkB/s   wrqm/s  %wrqm w_await wareq-sz     d/s     dkB/s   drqm/s  %drqm d_await dareq-sz     f/s f_await  aqu-sz  %util
nvme0n1          0.00      0.00     0.00   0.00    0.00     0.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.00   0.00
nvme1n1          0.00      0.00     0.00   0.00    0.00     0.00    2.00      8.00     0.00   0.00    1.00     4.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.00   1.00
nvme2n1          0.00      0.00     0.00   0.00    0.00     0.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.00   0.00



# whats memory usage look like
free -m
               total        used        free      shared  buff/cache   available
Mem:           15779        4086       10517           8        1174       11362
Swap:              0           0           0

# trend memory
vmstat 1 5
procs -----------memory---------- ---swap-- -----io---- -system-- ------cpu-----
 r  b   swpd   free   buff  cache   si   so    bi    bo   in   cs us sy id wa st
 2  0      0 10769816   5332 1197600    0    0   644   448  387  542 26  2 70  2  0
 3  0      0 10769816   5332 1197672    0    0     0    16 2975 2120 63  1 36  0  0
 2  0      0 10769816   5332 1197672    0    0     0     8 2675 1788 56  1 43  0  0
 3  0      0 10769816   5332 1197672    0    0     0    28 3067 1944 58  1 41  0  0
 5  0      0 10769816   5332 1197664    0    0     0     0 2884 2222 57  1 42  0  0

# amount of disk free
df -lh
Filesystem        Size  Used Avail Use% Mounted on
devtmpfs          4.0M     0  4.0M   0% /dev
tmpfs             7.8G     0  7.8G   0% /dev/shm
tmpfs             3.1G  8.6M  3.1G   1% /run
/dev/nvme0n1p1     15G  6.8G  8.2G  46% /
/dev/nvme0n1p128   10M  1.3M  8.7M  13% /boot/efi
/dev/nvme1n1p1    5.0G   70M  4.9G   2% /emr
/dev/nvme1n1p2     27G  503M   27G   2% /mnt
/dev/nvme2n1       32G  263M   32G   1% /mnt1
tmpfs             1.6G  4.0K  1.6G   1% /run/user/990

# amount of inode free
df -ilh
Filesystem       Inodes IUsed IFree IUse% Mounted on
devtmpfs           2.0M   394  2.0M    1% /dev
tmpfs              2.0M     1  2.0M    1% /dev/shm
tmpfs              800K   707  800K    1% /run
/dev/nvme0n1p1     7.5M  111K  7.4M    2% /
/dev/nvme0n1p128      0     0     0     - /boot/efi
/dev/nvme1n1p1     2.5M    74  2.5M    1% /emr
/dev/nvme1n1p2      14M  2.7K   14M    1% /mnt
/dev/nvme2n1        16M    86   16M    1% /mnt1
tmpfs              395K    22  395K    1% /run/user/990

set +o verbose

# Top 10 largest files and folders including not subdirectories in /mnt/
du -hsx /mnt/* | sort -rh | head -10
274M	/mnt/var
1.1M	/mnt/tmp
416K	/mnt/yarn
96K	/mnt/hdfs
0	/mnt/s3
0	/mnt/mapred

# Top 10 largest files and folders in /mnt/var/*
du -hsx /mnt/var/* | sort -rh | head -10
187M	/mnt/var/cache
62M	/mnt/var/lib
26M	/mnt/var/log
4.0K	/mnt/var/tmp
0	/mnt/var/run
0	/mnt/var/em

# Top 20 largest files and folders including subdirectories in /mnt/var/log
du -hx /mnt/var/log | sort -rh | head -20
26M	/mnt/var/log
25M	/mnt/var/log/journal/ec276fc410ae8f3bf6c5605dc1bcdbc7
25M	/mnt/var/log/journal
712K	/mnt/var/log/provision-node
524K	/mnt/var/log/provision-node/reports/0/8165bb2a-0ea4-40c7-a5a7-a3b6b6879428
524K	/mnt/var/log/provision-node/reports/0
524K	/mnt/var/log/provision-node/reports
472K	/mnt/var/log/provision-node/reports/0/8165bb2a-0ea4-40c7-a5a7-a3b6b6879428/core_set/ip-172-31-44-238.ec2.internal
472K	/mnt/var/log/provision-node/reports/0/8165bb2a-0ea4-40c7-a5a7-a3b6b6879428/core_set
456K	/mnt/var/log/hadoop-yarn
324K	/mnt/var/log/hadoop-yarn/containers/application_1768756447690_0001
324K	/mnt/var/log/hadoop-yarn/containers
212K	/mnt/var/log/hadoop-yarn/containers/application_1768756447690_0001/container_1768756447690_0001_01_000001
180K	/mnt/var/log/provision-node/apps-phase/0/8165bb2a-0ea4-40c7-a5a7-a3b6b6879428
180K	/mnt/var/log/provision-node/apps-phase/0
180K	/mnt/var/log/provision-node/apps-phase
104K	/mnt/var/log/tmp/logpusher
104K	/mnt/var/log/tmp
96K	/mnt/var/log/tmp/logpusher/emr
84K	/mnt/var/log/hadoop-hdfs

# List the entire /emr/ partition in a human readable format
ls -lhR /emr/
/emr/:
total 4.0K
drwx------. 6 hadoop hadoop   53 Jan 18 17:11 apppusher
drwxr-x---. 6 hadoop hadoop   49 Jan 18 17:11 instance-controller
drwxr-x---. 2 hadoop hadoop  171 Jan 18 17:17 instance-state
drwx------. 6 root   root     49 Jan 18 17:11 logpusher
drwxr-xr-x. 2 hadoop hadoop    6 Jan 18 17:11 logpusher-system-overrides
drwxr-xr-x. 2 hadoop hadoop    6 Jan 18 17:11 logpusher-user-overrides
drwxr-xr-x. 2 root   root   4.0K Jan 18 17:11 setup-devices

/emr/apppusher:
total 0
drwx------. 2 hadoop hadoop  6 Jan 18 17:11 data
drwx------. 2 hadoop hadoop  6 Jan 18 17:11 local
drwx------. 2 hadoop hadoop 48 Jan 18 17:12 log
drwx------. 2 hadoop hadoop 27 Jan 18 17:11 run

/emr/apppusher/data:
total 0

/emr/apppusher/local:
total 0

/emr/apppusher/log:
total 12K
-rw-------. 1 root root 12K Jan 18 17:16 apppusher.log
-rw-------. 1 root root   0 Jan 18 17:11 apppusher.out

/emr/apppusher/run:
total 4.0K
-rw-------. 1 root root 5 Jan 18 17:11 apppusher.pid

/emr/instance-controller:
total 0
drwxr-xr-x. 3 hadoop hadoop 113 Jan 18 17:12 db
drwxr-xr-x. 4 hadoop hadoop 115 Jan 18 17:12 lib
drwxr-xr-x. 3 hadoop hadoop 129 Jan 18 17:12 log
drwxr-xr-x. 3 hadoop hadoop  75 Jan 18 17:12 run

/emr/instance-controller/db:
total 80K
-rw-r--r--. 1 hadoop hadoop  32K Jan 18 17:12 data.data
-rw-r--r--. 1 hadoop hadoop   16 Jan 18 17:17 data.lck
-rw-r--r--. 1 hadoop hadoop  58K Jan 18 17:17 data.log
-rw-r--r--. 1 hadoop hadoop  100 Jan 18 17:12 data.properties
-rw-r--r--. 1 hadoop hadoop 1.7K Jan 18 17:12 data.script
drwxr-xr-x. 2 hadoop hadoop    6 Jan 18 17:12 data.tmp

/emr/instance-controller/db/data.tmp:
total 0

/emr/instance-controller/lib:
total 8.0K
-rw-r--r--. 1 hadoop hadoop   0 Jan 18 17:11 dfs.hosts.exclude
drwxr-xr-x. 2 hadoop hadoop 104 Jan 18 17:16 info
-rw-r--r--. 1 hadoop hadoop  30 Jan 18 17:12 security.properties
drwxr-xr-x. 2 hadoop hadoop  87 Jan 18 17:12 sslKeys
-rw-r--r--. 1 hadoop hadoop  49 Jan 18 17:11 yarn.nodes.exclude.xml

/emr/instance-controller/lib/info:
total 32K
-rw-r--r--. 1 root   root   2.9K Jan 18 17:12 extraInstanceData.json
-rw-r--r--. 1 hadoop hadoop   63 Jan 18 17:12 instance.json
-rw-r--r--. 1 hadoop hadoop  18K Jan 18 17:16 job-flow-state.txt
-rw-r--r--. 1 hadoop hadoop  766 Jan 18 17:16 job-flow.json

/emr/instance-controller/lib/sslKeys:
total 12K
-rw-------. 1 hadoop hadoop 1.2K Jan 18 17:12 ic_external_trust_store
-rw-------. 1 hadoop hadoop  578 Jan 18 17:12 ic_internal_trust_store
-rw-------. 1 hadoop hadoop 1.5K Jan 18 17:12 ic_keystore

/emr/instance-controller/log:
total 212K
drwxr-xr-x. 2 hadoop hadoop   24 Jan 18 17:12 bootstrap-actions
-rw-r--r--. 1 hadoop hadoop 127K Jan 18 17:17 instance-controller.log
-rw-r--r--. 1 hadoop hadoop  210 Jan 18 17:12 instance-controller.out.2026-01-18-17-12
-rw-r--r--. 1 hadoop hadoop  13K Jan 18 17:17 monitor.log

/emr/instance-controller/log/bootstrap-actions:
total 0
-rw-r--r--. 1 hadoop hadoop 0 Jan 18 17:12 master.log

/emr/instance-controller/run:
total 4.0K
-rw-r--r--. 1 hadoop hadoop  0 Jan 18 17:12 cwmetrics.ckp
drwxr-xr-x. 2 hadoop hadoop 20 Jan 18 17:12 heartbeat
-rw-r--r--. 1 hadoop hadoop  4 Jan 18 17:12 instance-controller.pid

/emr/instance-controller/run/heartbeat:
total 0
-rw-r--r--. 1 hadoop hadoop 0 Jan 18 17:17 uplink

/emr/instance-state:
total 612K
-rw-r--r--. 1 hadoop hadoop 2.2K Jan 18 17:12 console.log-2026-01-18-17-11
-rw-r--r--. 1 root   root   103K Jan 18 17:17 instance-state.log-2026-01-18-17-15
-rw-r--r--. 1 root   root   474K Jan 18 17:17 jstack.log-2026-01-18-17-17
-rw-r--r--. 1 hadoop hadoop 2.9K Jan 18 17:11 libinstance-controller.log-2026-01-18-17-11

/emr/logpusher:
total 0
drwxr-xr-x. 3 root root 113 Jan 18 17:13 db
drwxr-xr-x. 2 root root   6 Jan 18 17:11 lib
drwxr-xr-x. 2 root root  48 Jan 18 17:12 log
drwxr-xr-x. 2 root root  27 Jan 18 17:11 run

/emr/logpusher/db:
total 28K
-rw-r--r--. 1 root root  32K Jan 18 17:14 data.data
-rw-r--r--. 1 root root   16 Jan 18 17:17 data.lck
-rw-r--r--. 1 root root 3.0K Jan 18 17:16 data.log
-rw-r--r--. 1 root root  102 Jan 18 17:13 data.properties
-rw-r--r--. 1 root root 2.6K Jan 18 17:13 data.script
drwxr-xr-x. 2 root root    6 Jan 18 17:12 data.tmp

/emr/logpusher/db/data.tmp:
total 0

/emr/logpusher/lib:
total 0

/emr/logpusher/log:
total 144K
-rw-r--r--. 1 root root 140K Jan 18 17:17 logpusher.log
-rw-r--r--. 1 root root  210 Jan 18 17:12 logpusher.out

/emr/logpusher/run:
total 4.0K
-rw-r--r--. 1 root root 4 Jan 18 17:12 logpusher.pid

/emr/logpusher-system-overrides:
total 0

/emr/logpusher-user-overrides:
total 0

/emr/setup-devices:
total 124K
-rw-r--r--. 1 root root  228 Jan 18 17:11 DiskEncryptor.log
-rw-r--r--. 1 root root  28K Jan 18 17:11 setup_drives.2026-01-18-17-11-45.log
-rw-r--r--. 1 root root  633 Jan 18 17:11 setup_emr_metrics.2026-01-18-17-11-45.log
-rw-r--r--. 1 root root 4.1K Jan 18 17:11 setup_tmp_dir.2026-01-18-17-11-45.log
-rw-r--r--. 1 root root 8.6K Jan 18 17:11 setup_var_cache_dir.2026-01-18-17-11-45.log
-rw-r--r--. 1 root root  52K Jan 18 17:11 setup_var_lib_dir.2026-01-18-17-11-45.log
-rw-r--r--. 1 root root 6.0K Jan 18 17:11 setup_var_log_dir.2026-01-18-17-11-45.log
-rw-r--r--. 1 root root 3.6K Jan 18 17:11 setup_var_tmp_dir.2026-01-18-17-11-45.log
-rw-r--r--. 1 root root 1.4K Jan 18 17:11 udev.2026-01-18-17-11-52.log

set -x

# list all deleted but open files
mounts=$(lsblk -o MOUNTPOINT | grep -v "^$" | grep -v "MOUNTPOINT")
++ lsblk -o MOUNTPOINT
++ grep -v MOUNTPOINT
++ grep -v '^$'
+ mounts='/mnt1
/
/boot/efi
/emr
/mnt'
echo $mounts | while read -r mount; do
  lsof $mount | grep deleted
done
+ echo /mnt1 / /boot/efi /emr /mnt
+ read -r mount
+ lsof /mnt1 / /boot/efi /emr /mnt
+ grep deleted
systemd-j 1039            root   16u   REG  259,3   8388608  8529812 /var/log.old/journal/ec276fc410ae8f3bf6c5605dc1bcdbc7/system.journal (deleted)
auditd    1617            root    5w   REG  259,3    372925  1194089 /var/log.old/audit/audit.log (deleted)
+ read -r mount

set +x
+ set +x

# DNS Resolution Details
cat /etc/nsswitch.conf | grep 'hosts:';
hosts:      files dns myhostname

cat /etc/resolv.conf;
# This is /run/systemd/resolve/resolv.conf managed by man:systemd-resolved(8).
# Do not edit.
#
# This file might be symlinked as /etc/resolv.conf. If you're looking at
# /etc/resolv.conf and seeing this text, you have followed the symlink.
#
# This is a dynamic resolv.conf file for connecting local clients directly to
# all known uplink DNS servers. This file lists all configured search domains.
#
# Third party programs should typically not access this file directly, but only
# through the symlink at /etc/resolv.conf. To manage man:resolv.conf(5) in a
# different way, replace this symlink by a static file or a different symlink.
#
# See man:systemd-resolved.service(8) for details about the supported modes of
# operation for /etc/resolv.conf.

nameserver 172.31.0.2
search ec2.internal

cat /etc/hosts;
127.0.0.1   localhost localhost.localdomain localhost4 localhost4.localdomain4
::1         localhost6 localhost6.localdomain6

hostname -f
ip-172-31-44-238.ec2.internal

HOSTNAME=$(hostname -f);

(time dig $(hostname -f) +noadditional +noquestion +nocomments +noclass +nocmd) |& grep -v cmd | grep -v -e '^$'
ip-172-31-44-238.ec2.internal. 24 A	172.31.44.238
;; Query time: 0 msec
;; SERVER: 172.31.0.2#53(172.31.0.2) (UDP)
;; WHEN: Sun Jan 18 17:17:35 UTC 2026
;; MSG SIZE  rcvd: 74
real	0m0.024s
user	0m0.007s
sys	0m0.005s

(time getent hosts $HOSTNAME) |& grep -v -e '^$';
fe80::c7c:7eff:fe5b:8527 ip-172-31-44-238.ec2.internal
real	0m0.003s
user	0m0.002s
sys	0m0.000s

MYIP=$(getent hosts $HOSTNAME | cut -d ' ' -f 1);

(time dig -x $MYIP +noadditional +noquestion +nocomments +noclass +nocmd) |& grep -v cmd | grep -v -e '^$'
8.e.f.ip6.arpa.		10792	SOA	localhost. nobody.invalid. 1 3600 1200 604800 10800
;; Query time: 0 msec
;; SERVER: 172.31.0.2#53(172.31.0.2) (UDP)
;; WHEN: Sun Jan 18 17:17:35 UTC 2026
;; MSG SIZE  rcvd: 160
real	0m0.011s
user	0m0.000s
sys	0m0.010s

(time getent hosts $MYIP) |& grep -v -e '^$';
fe80::c7c:7eff:fe5b:8527 ip-172-31-44-238.ec2.internal
real	0m0.002s
user	0m0.000s
sys	0m0.001s

# dump network statistics
netstat -s -e
Ip:
    Forwarding: 1
    67573 total packets received
    4 with invalid addresses
    0 forwarded
    0 incoming packets discarded
    67569 incoming packets delivered
    65315 requests sent out
Icmp:
    14 ICMP messages received
    9 input ICMP message failed
    ICMP input histogram:
        destination unreachable: 3
        timeout in transit: 9
        echo replies: 2
    7 ICMP messages sent
    0 ICMP messages failed
    ICMP output histogram:
        destination unreachable: 3
        echo requests: 4
IcmpMsg:
        InType0: 2
        InType3: 3
        InType11: 9
        OutType3: 3
        OutType8: 4
Tcp:
    498 active connection openings
    84 passive connection openings
    162 failed connection attempts
    1 connection resets received
    22 connections established
    67253 segments received
    64942 segments sent out
    76 segments retransmitted
    0 bad segments received
    223 resets sent
Udp:
    299 packets received
    3 packets to unknown port received
    0 packet receive errors
    303 packets sent
    0 receive buffer errors
    0 send buffer errors
UdpLite:
TcpExt:
    127 TCP sockets finished time wait in fast timer
    57 delayed acks sent
    1 delayed acks further delayed because of locked socket
    Quick ack mode was activated 41 times
    1430 packet headers predicted
    936 acknowledgments not containing data payload received
    618 predicted acknowledgments
    TCPLostRetransmit: 58
    TCPTimeouts: 76
    TCPLossProbes: 8
    TCPBacklogCoalesce: 138
    TCPDSACKOldSent: 41
    27 connections reset due to unexpected data
    2 connections reset due to early user close
    8 connections aborted due to timeout
    TCPRcvCoalesce: 32698
    TCPAutoCorking: 12
    TCPFromZeroWindowAdv: 24947
    TCPToZeroWindowAdv: 24948
    TCPWantZeroWindowAdv: 1157
    TCPSynRetrans: 4
    TCPOrigDataSent: 2301
    TCPHystartTrainDetect: 1
    TCPHystartTrainCwnd: 22
    TCPKeepAlive: 3
    TCPDelivered: 2596
    TcpTimeoutRehash: 68
IpExt:
    OutMcastPkts: 4
    InOctets: 833954586
    OutOctets: 4798400
    OutMcastOctets: 160
    InNoECTPkts: 347711
MPTcpExt:

# dump instance metrics
if [ "$dumpType" == "full" ]
then
  mon-tool --local_metrics
fi
2026-01-18 17:17:36,800 WARN main: Going to buffer response body of large or unknown size. Using getResponseBodyAsStream instead is recommended.
{
  "Customer-Memory-Top10": {
    "name": "Customer-Memory-Top10",
    "value": 16.200000000000003,
    "unit": "Percent",
    "time": 1768756641668,
    "subMetrics": [
      {
        "name": "/usr/lib/jvm/jre-17/bin/java -Djava.net.preferIPv4Stack\u003dtrue -Dhadoop.metrics.log.level\u003dWARN -Xmx2458m --add-opens\u003djava.base/java.lang\u003dALL-UNNAMED --add-exports\u003djava.base/sun.net.dns\u003dALL-UNNAMED --add-exports\u003djava.base/sun.net.util\u003dALL-UNNAMED --add-exports\u003djdk.compiler/com.sun.tools.javac.util\u003dALL-UNNAMED --add-opens\u003djava.base/java.io\u003dALL-UNNAMED --add-opens\u003djava.base/java.lang.invoke\u003dALL-UNNAMED --add-opens\u003djava.base/java.lang.reflect\u003dALL-UNNAMED --add-opens\u003djava.base/java.lang\u003dALL-UNNAMED --add-opens\u003djava.base/java.math\u003dALL-UNNAMED --add-opens\u003djava.base/java.net\u003dALL-UNNAMED --add-opens\u003djava.base/java.nio\u003dALL-UNNAMED --add-opens\u003djava.base/java.text\u003dALL-UNNAMED --add-opens\u003djava.base/java.time\u003dALL-UNNAMED --add-opens\u003djava.base/java.util.concurrent.atomic\u003dALL-UNNAMED --add-opens\u003djava.base/java.util.concurrent\u003dALL-UNNAMED --add-opens\u003djava.base/java.util.regex\u003dALL-UNNAMED --add-opens\u003djava.base/java.util\u003dALL-UNNAMED --add-opens\u003djava.base/java.util\u003dALL-UNNAMED --add-opens\u003djava.base/javax.script\u003dALL-UNNAMED -Dillegal-access\u003dpermit --add-opens\u003djava.base/jdk.internal.ref\u003dALL-UNNAMED --add-opens\u003djava.base/jdk.internal.reflect\u003dALL-UNNAMED --add-opens\u003djava.base/jdk.internal.util.random\u003dALL-UNNAMED --add-opens\u003djava.base/jdk.internal.util\u003dALL-UNNAMED --add-opens\u003djava.base/jdk.internal\u003dALL-UNNAMED --add-opens\u003djava.base/sun.nio.ch\u003dALL-UNNAMED --add-opens\u003djava.base/sun.nio.cs\u003dALL-UNNAMED --add-opens\u003djava.base/sun.security.action\u003dALL-UNNAMED --add-opens\u003djava.base/sun.util.calendar\u003dALL-UNNAMED --add-opens\u003djava.security.jgss/sun.security.krb5\u003dALL-UNNAMED --add-opens\u003djava.sql/java.sql\u003dALL-UNNAMED --add-opens\u003djdk.management/com.sun.management.internal\u003dALL-UNNAMED -Djava.io.tmpdir\u003d/mnt1/yarn/usercache/hadoop/appcache/application_1768756447690_0001/container_1768756447690_0001_01_000003/tmp -Dlog4j.configuration\u003dcontainer-log4j.properties -Dyarn.app.container.log.dir\u003d/var/log/hadoop-yarn/containers/application_1768756447690_0001/container_1768756447690_0001_01_000003 -Dyarn.app.container.log.filesize\u003d0 -Dhadoop.root.logger\u003dINFO,CLA -Dhadoop.root.logfile\u003dsyslog org.apache.hadoop.mapred.YarnChild 172.31.44.238 35315 attempt_1768756447690_0001_m_000001_0 3-Memory",
        "value": 5.0,
        "unit": "Percent",
        "time": 1768756641667
      },
      {
        "name": "/usr/lib/jvm/jre-17/bin/java -Djava.net.preferIPv4Stack\u003dtrue -Dhadoop.metrics.log.level\u003dWARN -Xmx2458m --add-opens\u003djava.base/java.lang\u003dALL-UNNAMED --add-exports\u003djava.base/sun.net.dns\u003dALL-UNNAMED --add-exports\u003djava.base/sun.net.util\u003dALL-UNNAMED --add-exports\u003djdk.compiler/com.sun.tools.javac.util\u003dALL-UNNAMED --add-opens\u003djava.base/java.io\u003dALL-UNNAMED --add-opens\u003djava.base/java.lang.invoke\u003dALL-UNNAMED --add-opens\u003djava.base/java.lang.reflect\u003dALL-UNNAMED --add-opens\u003djava.base/java.lang\u003dALL-UNNAMED --add-opens\u003djava.base/java.math\u003dALL-UNNAMED --add-opens\u003djava.base/java.net\u003dALL-UNNAMED --add-opens\u003djava.base/java.nio\u003dALL-UNNAMED --add-opens\u003djava.base/java.text\u003dALL-UNNAMED --add-opens\u003djava.base/java.time\u003dALL-UNNAMED --add-opens\u003djava.base/java.util.concurrent.atomic\u003dALL-UNNAMED --add-opens\u003djava.base/java.util.concurrent\u003dALL-UNNAMED --add-opens\u003djava.base/java.util.regex\u003dALL-UNNAMED --add-opens\u003djava.base/java.util\u003dALL-UNNAMED --add-opens\u003djava.base/java.util\u003dALL-UNNAMED --add-opens\u003djava.base/javax.script\u003dALL-UNNAMED -Dillegal-access\u003dpermit --add-opens\u003djava.base/jdk.internal.ref\u003dALL-UNNAMED --add-opens\u003djava.base/jdk.internal.reflect\u003dALL-UNNAMED --add-opens\u003djava.base/jdk.internal.util.random\u003dALL-UNNAMED --add-opens\u003djava.base/jdk.internal.util\u003dALL-UNNAMED --add-opens\u003djava.base/jdk.internal\u003dALL-UNNAMED --add-opens\u003djava.base/sun.nio.ch\u003dALL-UNNAMED --add-opens\u003djava.base/sun.nio.cs\u003dALL-UNNAMED --add-opens\u003djava.base/sun.security.action\u003dALL-UNNAMED --add-opens\u003djava.base/sun.util.calendar\u003dALL-UNNAMED --add-opens\u003djava.security.jgss/sun.security.krb5\u003dALL-UNNAMED --add-opens\u003djava.sql/java.sql\u003dALL-UNNAMED --add-opens\u003djdk.management/com.sun.management.internal\u003dALL-UNNAMED -Djava.io.tmpdir\u003d/mnt/yarn/usercache/hadoop/appcache/application_1768756447690_0001/container_1768756447690_0001_01_000005/tmp -Dlog4j.configuration\u003dcontainer-log4j.properties -Dyarn.app.container.log.dir\u003d/var/log/hadoop-yarn/containers/application_1768756447690_0001/container_1768756447690_0001_01_000005 -Dyarn.app.container.log.filesize\u003d0 -Dhadoop.root.logger\u003dINFO,CLA -Dhadoop.root.logfile\u003dsyslog org.apache.hadoop.mapred.YarnChild 172.31.44.238 35315 attempt_1768756447690_0001_m_000003_0 5-Memory",
        "value": 5.0,
        "unit": "Percent",
        "time": 1768756641667
      },
      {
        "name": "/usr/lib/jvm/jre-17/bin/java -Djava.io.tmpdir\u003d/mnt1/yarn/usercache/hadoop/appcache/application_1768756447690_0001/container_1768756447690_0001_01_000001/tmp -Dlog4j.configuration\u003dcontainer-log4j.properties -Dyarn.app.container.log.dir\u003d/var/log/hadoop-yarn/containers/application_1768756447690_0001/container_1768756447690_0001_01_000001 -Dyarn.app.container.log.filesize\u003d0 -Dhadoop.root.logger\u003dINFO,CLA -Dhadoop.root.logfile\u003dsyslog -Xmx4915m --add-opens\u003djava.base/java.lang\u003dALL-UNNAMED --add-exports\u003djava.base/sun.net.dns\u003dALL-UNNAMED --add-exports\u003djava.base/sun.net.util\u003dALL-UNNAMED --add-exports\u003djdk.compiler/com.sun.tools.javac.util\u003dALL-UNNAMED --add-opens\u003djava.base/java.io\u003dALL-UNNAMED --add-opens\u003djava.base/java.lang.invoke\u003dALL-UNNAMED --add-opens\u003djava.base/java.lang.reflect\u003dALL-UNNAMED --add-opens\u003djava.base/java.lang\u003dALL-UNNAMED --add-opens\u003djava.base/java.math\u003dALL-UNNAMED --add-opens\u003djava.base/java.net\u003dALL-UNNAMED --add-opens\u003djava.base/java.nio\u003dALL-UNNAMED --add-opens\u003djava.base/java.text\u003dALL-UNNAMED --add-opens\u003djava.base/java.time\u003dALL-UNNAMED --add-opens\u003djava.base/java.util.concurrent.atomic\u003dALL-UNNAMED --add-opens\u003djava.base/java.util.concurrent\u003dALL-UNNAMED --add-opens\u003djava.base/java.util.regex\u003dALL-UNNAMED --add-opens\u003djava.base/java.util\u003dALL-UNNAMED --add-opens\u003djava.base/java.util\u003dALL-UNNAMED --add-opens\u003djava.base/javax.script\u003dALL-UNNAMED -Dillegal-access\u003dpermit --add-opens\u003djava.base/jdk.internal.ref\u003dALL-UNNAMED --add-opens\u003djava.base/jdk.internal.reflect\u003dALL-UNNAMED --add-opens\u003djava.base/jdk.internal.util.random\u003dALL-UNNAMED --add-opens\u003djava.base/jdk.internal.util\u003dALL-UNNAMED --add-opens\u003djava.base/jdk.internal\u003dALL-UNNAMED --add-opens\u003djava.base/sun.nio.ch\u003dALL-UNNAMED --add-opens\u003djava.base/sun.nio.cs\u003dALL-UNNAMED --add-opens\u003djava.base/sun.security.action\u003dALL-UNNAMED --add-opens\u003djava.base/sun.util.calendar\u003dALL-UNNAMED --add-opens\u003djava.security.jgss/sun.security.krb5\u003dALL-UNNAMED --add-opens\u003djava.sql/java.sql\u003dALL-UNNAMED --add-opens\u003djdk.management/com.sun.management.internal\u003dALL-UNNAMED org.apache.hadoop.mapreduce.v2.app.MRAppMaster-Memory",
        "value": 3.0,
        "unit": "Percent",
        "time": 1768756641667
      },
      {
        "name": "/usr/lib/jvm/java-17-amazon-corretto.x86_64/bin/java -Xmx1500m -Xms300m -XX:+ExitOnOutOfMemoryError -XX:MinHeapFreeRatio\u003d10 -cp /usr/share/aws/aws-java-sdk-v2/*:/usr/share/aws/emr/emr-log-analytics-metrics/lib/*:/home/hadoop/conf -Dlog4j.defaultInitOverride aws157.apppusher.Main-Memory",
        "value": 1.1,
        "unit": "Percent",
        "time": 1768756641667
      },
      {
        "name": "/etc/alternatives/jre/bin/java -Dproc_app -Djava.net.preferIPv4Stack\u003dtrue -Dsun.net.inetaddr.ttl\u003d30 -Dservice.libdir\u003d/usr/lib/hadoop-yarn/./,/usr/lib/hadoop-yarn/lib,/usr/lib/hadoop-hdfs/./,/usr/lib/hadoop-hdfs/lib,/usr/lib/hadoop/./,/usr/lib/hadoop/lib -Dyarn.log.dir\u003d/usr/lib/hadoop/logs -Dyarn.log.file\u003dhadoop.log -Dyarn.home.dir\u003d/usr/lib/hadoop-yarn -Dyarn.root.logger\u003dINFO,console -Djava.library.path\u003d/usr/lib/hadoop/lib/native -Dhadoop.log.dir\u003d/usr/lib/hadoop/logs -Dhadoop.log.file\u003dhadoop.log -Dhadoop.home.dir\u003d/usr/lib/hadoop -Dhadoop.id.str\u003dhadoop -Dhadoop.root.logger\u003dINFO,console -Dhadoop.policy.file\u003dhadoop-policy.xml -Dhadoop.security.logger\u003dINFO,NullAppender org.apache.hadoop.yarn.client.cli.ApplicationCLI app --list --appStates ALL-Memory",
        "value": 1.0,
        "unit": "Percent",
        "time": 1768756641668
      },
      {
        "name": "/usr/bin/dockerd -H fd:// --containerd\u003d/run/containerd/containerd.sock --default-ulimit nofile\u003d32768:65536-Memory",
        "value": 0.5,
        "unit": "Percent",
        "time": 1768756641667
      },
      {
        "name": "/usr/bin/containerd-Memory",
        "value": 0.3,
        "unit": "Percent",
        "time": 1768756641668
      },
      {
        "name": "/usr/lib/systemd/systemd --switched-root --system --deserialize\u003d32-Memory",
        "value": 0.1,
        "unit": "Percent",
        "time": 1768756641667
      },
      {
        "name": "/usr/lib/systemd/systemd-journald-Memory",
        "value": 0.1,
        "unit": "Percent",
        "time": 1768756641667
      },
      {
        "name": "/usr/lib/systemd/systemd-resolved-Memory",
        "value": 0.1,
        "unit": "Percent",
        "time": 1768756641667
      }
    ]
  },
  "Instance-CPU-IOWait": {
    "name": "Instance-CPU-IOWait",
    "value": 0.0,
    "unit": "Percent",
    "time": 1768756636466
  },
  "EMR-Memory": {
    "name": "EMR-Memory",
    "value": 9.5,
    "unit": "Percent",
    "time": 1768756641668
  },
  "Instance-Memory-MemUtilization": {
    "name": "Instance-Memory-MemUtilization",
    "value": 27.9006,
    "unit": "Percentage",
    "time": 1768756633466
  },
  "InstanceController-Memory": {
    "name": "InstanceController-Memory",
    "value": 2.6,
    "unit": "Percent",
    "time": 1768756641667
  },
  "LogPusher-CPU": {
    "name": "LogPusher-CPU",
    "value": 0.0,
    "unit": "Percent",
    "time": 1768756641667
  },
  "Instance-Disk-Used-/run/user/0": {
    "name": "Instance-Disk-Used-/run/user/0",
    "value": 1.0,
    "unit": "Percent",
    "time": 1768756342454,
    "subMetrics": [
      {
        "name": "/run/user/0",
        "value": 0.0,
        "unit": "Megabytes",
        "time": 1768756342454
      }
    ]
  },
  "YarnNodeManager-Memory": {
    "name": "YarnNodeManager-Memory",
    "value": 2.6,
    "unit": "Percent",
    "time": 1768756641667
  },
  "YarnNodeManager-Reboots": {
    "name": "YarnNodeManager-Reboots",
    "value": 1.0,
    "unit": "Count",
    "time": 1768756521643
  },
  "Instance-Disk-Used-/mnt": {
    "name": "Instance-Disk-Used-/mnt",
    "value": 2.0,
    "unit": "Percent",
    "time": 1768756342454,
    "subMetrics": [
      {
        "name": "/mnt/var/cache/dnf/amazonlinux-5ca606579ad66bce/repodata",
        "value": 50.0,
        "unit": "Megabytes",
        "time": 1768756342454
      },
      {
        "name": "/mnt/var/lib/rpm",
        "value": 36.0,
        "unit": "Megabytes",
        "time": 1768756342454
      },
      {
        "name": "/mnt/var/log/journal/ec276fc410ae8f3bf6c5605dc1bcdbc7",
        "value": 25.0,
        "unit": "Megabytes",
        "time": 1768756342454
      },
      {
        "name": "/mnt/var/cache/dnf",
        "value": 19.0,
        "unit": "Megabytes",
        "time": 1768756342454
      },
      {
        "name": "/mnt/var/lib/dnf",
        "value": 5.0,
        "unit": "Megabytes",
        "time": 1768756342454
      },
      {
        "name": "/mnt/var/cache/dnf/emr_apps-2d8a0c0bbdeef6d1/repodata",
        "value": 5.0,
        "unit": "Megabytes",
        "time": 1768756342454
      },
      {
        "name": "/mnt/var/lib/texmf/web2c/luatex",
        "value": 3.0,
        "unit": "Megabytes",
        "time": 1768756342454
      },
      {
        "name": "/mnt/var/cache/man",
        "value": 3.0,
        "unit": "Megabytes",
        "time": 1768756342454
      },
      {
        "name": "/mnt/var/tmp",
        "value": 1.0,
        "unit": "Megabytes",
        "time": 1768756342454
      },
      {
        "name": "/mnt/var/log/setup-dns",
        "value": 1.0,
        "unit": "Megabytes",
        "time": 1768756342454
      }
    ]
  },
  "YarnNodeManager-CPU": {
    "name": "YarnNodeManager-CPU",
    "value": 2.0,
    "unit": "Percent",
    "time": 1768756641667
  },
  "Instance-Disk-Used-/dev/shm": {
    "name": "Instance-Disk-Used-/dev/shm",
    "value": 0.0,
    "unit": "Percent",
    "time": 1768756342454
  },
  "InstanceController-RunTime": {
    "name": "InstanceController-RunTime",
    "value": 318.0,
    "unit": "Second",
    "time": 1768756641667
  },
  "HadoopDataNode-RunTime": {
    "name": "HadoopDataNode-RunTime",
    "value": 239.0,
    "unit": "Second",
    "time": 1768756641667
  },
  "LogPusher-Reboots": {
    "name": "LogPusher-Reboots",
    "value": 0.0,
    "unit": "Count",
    "time": 1768756341675
  },
  "Customer-CPU": {
    "name": "Customer-CPU",
    "value": 236.8,
    "unit": "Percent",
    "time": 1768756641668
  },
  "Instance-Disk-Used-/mnt1": {
    "name": "Instance-Disk-Used-/mnt1",
    "value": 1.0,
    "unit": "Percent",
    "time": 1768756342454,
    "subMetrics": [
      {
        "name": "/mnt1",
        "value": 0.0,
        "unit": "Megabytes",
        "time": 1768756342454
      }
    ]
  },
  "Instance-Disk-Used-/boot/efi": {
    "name": "Instance-Disk-Used-/boot/efi",
    "value": 13.0,
    "unit": "Percent",
    "time": 1768756342454,
    "subMetrics": [
      {
        "name": "/boot/efi",
        "value": 1.0,
        "unit": "Megabytes",
        "time": 1768756342454
      }
    ]
  },
  "Instance-Disk-Used-/emr": {
    "name": "Instance-Disk-Used-/emr",
    "value": 2.0,
    "unit": "Percent",
    "time": 1768756342454,
    "subMetrics": [
      {
        "name": "/emr/setup-devices",
        "value": 1.0,
        "unit": "Megabytes",
        "time": 1768756342454
      },
      {
        "name": "/emr/instance-state",
        "value": 1.0,
        "unit": "Megabytes",
        "time": 1768756342454
      },
      {
        "name": "/emr/instance-controller/run",
        "value": 1.0,
        "unit": "Megabytes",
        "time": 1768756342454
      },
      {
        "name": "/emr/instance-controller/log",
        "value": 1.0,
        "unit": "Megabytes",
        "time": 1768756342454
      },
      {
        "name": "/emr/instance-controller/lib/sslKeys",
        "value": 1.0,
        "unit": "Megabytes",
        "time": 1768756342454
      },
      {
        "name": "/emr/instance-controller/lib/info",
        "value": 1.0,
        "unit": "Megabytes",
        "time": 1768756342454
      },
      {
        "name": "/emr/instance-controller/lib",
        "value": 1.0,
        "unit": "Megabytes",
        "time": 1768756342454
      },
      {
        "name": "/emr/instance-controller/db",
        "value": 1.0,
        "unit": "Megabytes",
        "time": 1768756342454
      },
      {
        "name": "/emr/apppusher/run",
        "value": 1.0,
        "unit": "Megabytes",
        "time": 1768756342454
      },
      {
        "name": "/emr/apppusher/log",
        "value": 1.0,
        "unit": "Megabytes",
        "time": 1768756342454
      }
    ]
  },
  "YarnNodeManager-RunTime": {
    "name": "YarnNodeManager-RunTime",
    "value": 144.0,
    "unit": "Second",
    "time": 1768756641667
  },
  "InstanceController-CPU": {
    "name": "InstanceController-CPU",
    "value": 2.0,
    "unit": "Percent",
    "time": 1768756641667
  },
  "LogPusher-Memory": {
    "name": "LogPusher-Memory",
    "value": 2.3,
    "unit": "Percent",
    "time": 1768756641667
  },
  "Customer-CPU-Top10": {
    "name": "Customer-CPU-Top10",
    "value": 236.8,
    "unit": "Percent",
    "time": 1768756641668,
    "subMetrics": [
      {
        "name": "/usr/lib/jvm/jre-17/bin/java -Djava.net.preferIPv4Stack\u003dtrue -Dhadoop.metrics.log.level\u003dWARN -Xmx2458m --add-opens\u003djava.base/java.lang\u003dALL-UNNAMED --add-exports\u003djava.base/sun.net.dns\u003dALL-UNNAMED --add-exports\u003djava.base/sun.net.util\u003dALL-UNNAMED --add-exports\u003djdk.compiler/com.sun.tools.javac.util\u003dALL-UNNAMED --add-opens\u003djava.base/java.io\u003dALL-UNNAMED --add-opens\u003djava.base/java.lang.invoke\u003dALL-UNNAMED --add-opens\u003djava.base/java.lang.reflect\u003dALL-UNNAMED --add-opens\u003djava.base/java.lang\u003dALL-UNNAMED --add-opens\u003djava.base/java.math\u003dALL-UNNAMED --add-opens\u003djava.base/java.net\u003dALL-UNNAMED --add-opens\u003djava.base/java.nio\u003dALL-UNNAMED --add-opens\u003djava.base/java.text\u003dALL-UNNAMED --add-opens\u003djava.base/java.time\u003dALL-UNNAMED --add-opens\u003djava.base/java.util.concurrent.atomic\u003dALL-UNNAMED --add-opens\u003djava.base/java.util.concurrent\u003dALL-UNNAMED --add-opens\u003djava.base/java.util.regex\u003dALL-UNNAMED --add-opens\u003djava.base/java.util\u003dALL-UNNAMED --add-opens\u003djava.base/java.util\u003dALL-UNNAMED --add-opens\u003djava.base/javax.script\u003dALL-UNNAMED -Dillegal-access\u003dpermit --add-opens\u003djava.base/jdk.internal.ref\u003dALL-UNNAMED --add-opens\u003djava.base/jdk.internal.reflect\u003dALL-UNNAMED --add-opens\u003djava.base/jdk.internal.util.random\u003dALL-UNNAMED --add-opens\u003djava.base/jdk.internal.util\u003dALL-UNNAMED --add-opens\u003djava.base/jdk.internal\u003dALL-UNNAMED --add-opens\u003djava.base/sun.nio.ch\u003dALL-UNNAMED --add-opens\u003djava.base/sun.nio.cs\u003dALL-UNNAMED --add-opens\u003djava.base/sun.security.action\u003dALL-UNNAMED --add-opens\u003djava.base/sun.util.calendar\u003dALL-UNNAMED --add-opens\u003djava.security.jgss/sun.security.krb5\u003dALL-UNNAMED --add-opens\u003djava.sql/java.sql\u003dALL-UNNAMED --add-opens\u003djdk.management/com.sun.management.internal\u003dALL-UNNAMED -Djava.io.tmpdir\u003d/mnt1/yarn/usercache/hadoop/appcache/application_1768756447690_0001/container_1768756447690_0001_01_000003/tmp -Dlog4j.configuration\u003dcontainer-log4j.properties -Dyarn.app.container.log.dir\u003d/var/log/hadoop-yarn/containers/application_1768756447690_0001/container_1768756447690_0001_01_000003 -Dyarn.app.container.log.filesize\u003d0 -Dhadoop.root.logger\u003dINFO,CLA -Dhadoop.root.logfile\u003dsyslog org.apache.hadoop.mapred.YarnChild 172.31.44.238 35315 attempt_1768756447690_0001_m_000001_0 3-CPU",
        "value": 117.4,
        "unit": "Percent",
        "time": 1768756641667
      },
      {
        "name": "/usr/lib/jvm/jre-17/bin/java -Djava.net.preferIPv4Stack\u003dtrue -Dhadoop.metrics.log.level\u003dWARN -Xmx2458m --add-opens\u003djava.base/java.lang\u003dALL-UNNAMED --add-exports\u003djava.base/sun.net.dns\u003dALL-UNNAMED --add-exports\u003djava.base/sun.net.util\u003dALL-UNNAMED --add-exports\u003djdk.compiler/com.sun.tools.javac.util\u003dALL-UNNAMED --add-opens\u003djava.base/java.io\u003dALL-UNNAMED --add-opens\u003djava.base/java.lang.invoke\u003dALL-UNNAMED --add-opens\u003djava.base/java.lang.reflect\u003dALL-UNNAMED --add-opens\u003djava.base/java.lang\u003dALL-UNNAMED --add-opens\u003djava.base/java.math\u003dALL-UNNAMED --add-opens\u003djava.base/java.net\u003dALL-UNNAMED --add-opens\u003djava.base/java.nio\u003dALL-UNNAMED --add-opens\u003djava.base/java.text\u003dALL-UNNAMED --add-opens\u003djava.base/java.time\u003dALL-UNNAMED --add-opens\u003djava.base/java.util.concurrent.atomic\u003dALL-UNNAMED --add-opens\u003djava.base/java.util.concurrent\u003dALL-UNNAMED --add-opens\u003djava.base/java.util.regex\u003dALL-UNNAMED --add-opens\u003djava.base/java.util\u003dALL-UNNAMED --add-opens\u003djava.base/java.util\u003dALL-UNNAMED --add-opens\u003djava.base/javax.script\u003dALL-UNNAMED -Dillegal-access\u003dpermit --add-opens\u003djava.base/jdk.internal.ref\u003dALL-UNNAMED --add-opens\u003djava.base/jdk.internal.reflect\u003dALL-UNNAMED --add-opens\u003djava.base/jdk.internal.util.random\u003dALL-UNNAMED --add-opens\u003djava.base/jdk.internal.util\u003dALL-UNNAMED --add-opens\u003djava.base/jdk.internal\u003dALL-UNNAMED --add-opens\u003djava.base/sun.nio.ch\u003dALL-UNNAMED --add-opens\u003djava.base/sun.nio.cs\u003dALL-UNNAMED --add-opens\u003djava.base/sun.security.action\u003dALL-UNNAMED --add-opens\u003djava.base/sun.util.calendar\u003dALL-UNNAMED --add-opens\u003djava.security.jgss/sun.security.krb5\u003dALL-UNNAMED --add-opens\u003djava.sql/java.sql\u003dALL-UNNAMED --add-opens\u003djdk.management/com.sun.management.internal\u003dALL-UNNAMED -Djava.io.tmpdir\u003d/mnt/yarn/usercache/hadoop/appcache/application_1768756447690_0001/container_1768756447690_0001_01_000005/tmp -Dlog4j.configuration\u003dcontainer-log4j.properties -Dyarn.app.container.log.dir\u003d/var/log/hadoop-yarn/containers/application_1768756447690_0001/container_1768756447690_0001_01_000005 -Dyarn.app.container.log.filesize\u003d0 -Dhadoop.root.logger\u003dINFO,CLA -Dhadoop.root.logfile\u003dsyslog org.apache.hadoop.mapred.YarnChild 172.31.44.238 35315 attempt_1768756447690_0001_m_000003_0 5-CPU",
        "value": 115.9,
        "unit": "Percent",
        "time": 1768756641667
      },
      {
        "name": "/usr/bin/dockerd -H fd:// --containerd\u003d/run/containerd/containerd.sock --default-ulimit nofile\u003d32768:65536-CPU",
        "value": 1.0,
        "unit": "Percent",
        "time": 1768756641667
      },
      {
        "name": "[ksoftirqd/0]-CPU",
        "value": 0.5,
        "unit": "Percent",
        "time": 1768756641667
      },
      {
        "name": "[kworker/3:3-events]-CPU",
        "value": 0.5,
        "unit": "Percent",
        "time": 1768756641667
      },
      {
        "name": "/usr/lib/jvm/java-17-amazon-corretto.x86_64/bin/java -Xmx1500m -Xms300m -XX:+ExitOnOutOfMemoryError -XX:MinHeapFreeRatio\u003d10 -cp /usr/share/aws/aws-java-sdk-v2/*:/usr/share/aws/emr/emr-log-analytics-metrics/lib/*:/home/hadoop/conf -Dlog4j.defaultInitOverride aws157.apppusher.Main-CPU",
        "value": 0.5,
        "unit": "Percent",
        "time": 1768756641667
      },
      {
        "name": "[kworker/0:3-events]-CPU",
        "value": 0.5,
        "unit": "Percent",
        "time": 1768756641667
      },
      {
        "name": "/usr/lib/jvm/jre-17/bin/java -Djava.io.tmpdir\u003d/mnt1/yarn/usercache/hadoop/appcache/application_1768756447690_0001/container_1768756447690_0001_01_000001/tmp -Dlog4j.configuration\u003dcontainer-log4j.properties -Dyarn.app.container.log.dir\u003d/var/log/hadoop-yarn/containers/application_1768756447690_0001/container_1768756447690_0001_01_000001 -Dyarn.app.container.log.filesize\u003d0 -Dhadoop.root.logger\u003dINFO,CLA -Dhadoop.root.logfile\u003dsyslog -Xmx4915m --add-opens\u003djava.base/java.lang\u003dALL-UNNAMED --add-exports\u003djava.base/sun.net.dns\u003dALL-UNNAMED --add-exports\u003djava.base/sun.net.util\u003dALL-UNNAMED --add-exports\u003djdk.compiler/com.sun.tools.javac.util\u003dALL-UNNAMED --add-opens\u003djava.base/java.io\u003dALL-UNNAMED --add-opens\u003djava.base/java.lang.invoke\u003dALL-UNNAMED --add-opens\u003djava.base/java.lang.reflect\u003dALL-UNNAMED --add-opens\u003djava.base/java.lang\u003dALL-UNNAMED --add-opens\u003djava.base/java.math\u003dALL-UNNAMED --add-opens\u003djava.base/java.net\u003dALL-UNNAMED --add-opens\u003djava.base/java.nio\u003dALL-UNNAMED --add-opens\u003djava.base/java.text\u003dALL-UNNAMED --add-opens\u003djava.base/java.time\u003dALL-UNNAMED --add-opens\u003djava.base/java.util.concurrent.atomic\u003dALL-UNNAMED --add-opens\u003djava.base/java.util.concurrent\u003dALL-UNNAMED --add-opens\u003djava.base/java.util.regex\u003dALL-UNNAMED --add-opens\u003djava.base/java.util\u003dALL-UNNAMED --add-opens\u003djava.base/java.util\u003dALL-UNNAMED --add-opens\u003djava.base/javax.script\u003dALL-UNNAMED -Dillegal-access\u003dpermit --add-opens\u003djava.base/jdk.internal.ref\u003dALL-UNNAMED --add-opens\u003djava.base/jdk.internal.reflect\u003dALL-UNNAMED --add-opens\u003djava.base/jdk.internal.util.random\u003dALL-UNNAMED --add-opens\u003djava.base/jdk.internal.util\u003dALL-UNNAMED --add-opens\u003djava.base/jdk.internal\u003dALL-UNNAMED --add-opens\u003djava.base/sun.nio.ch\u003dALL-UNNAMED --add-opens\u003djava.base/sun.nio.cs\u003dALL-UNNAMED --add-opens\u003djava.base/sun.security.action\u003dALL-UNNAMED --add-opens\u003djava.base/sun.util.calendar\u003dALL-UNNAMED --add-opens\u003djava.security.jgss/sun.security.krb5\u003dALL-UNNAMED --add-opens\u003djava.sql/java.sql\u003dALL-UNNAMED --add-opens\u003djdk.management/com.sun.management.internal\u003dALL-UNNAMED org.apache.hadoop.mapreduce.v2.app.MRAppMaster-CPU",
        "value": 0.5,
        "unit": "Percent",
        "time": 1768756641667
      },
      {
        "name": "/usr/lib/systemd/systemd --switched-root --system --deserialize\u003d32-CPU",
        "value": 0.0,
        "unit": "Percent",
        "time": 1768756641667
      },
      {
        "name": "[kthreadd]-CPU",
        "value": 0.0,
        "unit": "Percent",
        "time": 1768756641667
      }
    ]
  },
  "Instance-Disk-Used-/run/user/990": {
    "name": "Instance-Disk-Used-/run/user/990",
    "value": 1.0,
    "unit": "Percent",
    "time": 1768756342454,
    "subMetrics": [
      {
        "name": "/run/user/990/systemd/generator.late",
        "value": 1.0,
        "unit": "Megabytes",
        "time": 1768756342454
      },
      {
        "name": "/run/user/990/systemd/units",
        "value": 0.0,
        "unit": "Megabytes",
        "time": 1768756342454
      },
      {
        "name": "/run/user/990/systemd/inaccessible/dir",
        "value": 0.0,
        "unit": "Megabytes",
        "time": 1768756342454
      },
      {
        "name": "/run/user/990/systemd/inaccessible",
        "value": 0.0,
        "unit": "Megabytes",
        "time": 1768756342454
      },
      {
        "name": "/run/user/990/systemd/generator.late/xdg-desktop-autostart.target.wants",
        "value": 0.0,
        "unit": "Megabytes",
        "time": 1768756342454
      },
      {
        "name": "/run/user/990/systemd",
        "value": 0.0,
        "unit": "Megabytes",
        "time": 1768756342454
      },
      {
        "name": "/run/user/990/pulse",
        "value": 0.0,
        "unit": "Megabytes",
        "time": 1768756342454
      },
      {
        "name": "/run/user/990",
        "value": 0.0,
        "unit": "Megabytes",
        "time": 1768756342454
      }
    ]
  },
  "Instance-Disk-Used-/run": {
    "name": "Instance-Disk-Used-/run",
    "value": 1.0,
    "unit": "Percent",
    "time": 1768756342454,
    "subMetrics": [
      {
        "name": "/run/udev/data",
        "value": 1.0,
        "unit": "Megabytes",
        "time": 1768756342454
      },
      {
        "name": "/run/tmpfiles.d",
        "value": 1.0,
        "unit": "Megabytes",
        "time": 1768756342454
      },
      {
        "name": "/run/systemd/users",
        "value": 1.0,
        "unit": "Megabytes",
        "time": 1768756342454
      },
      {
        "name": "/run/systemd/transient",
        "value": 1.0,
        "unit": "Megabytes",
        "time": 1768756342454
      },
      {
        "name": "/run/systemd/sessions",
        "value": 1.0,
        "unit": "Megabytes",
        "time": 1768756342454
      },
      {
        "name": "/run/systemd/seats",
        "value": 1.0,
        "unit": "Megabytes",
        "time": 1768756342454
      },
      {
        "name": "/run/systemd/resolve",
        "value": 1.0,
        "unit": "Megabytes",
        "time": 1768756342454
      },
      {
        "name": "/run/systemd/network/70-ens5.network.d",
        "value": 1.0,
        "unit": "Megabytes",
        "time": 1768756342454
      },
      {
        "name": "/run/systemd/netif/links",
        "value": 1.0,
        "unit": "Megabytes",
        "time": 1768756342454
      },
      {
        "name": "/run/systemd/netif/leases",
        "value": 1.0,
        "unit": "Megabytes",
        "time": 1768756342454
      }
    ]
  },
  "Instance-Memory-MemFree": {
    "name": "Instance-Memory-MemFree",
    "value": 10531.5,
    "unit": "Megabytes",
    "time": 1768756633466
  },
  "EMR-CPU": {
    "name": "EMR-CPU",
    "value": 4.5,
    "unit": "Percent",
    "time": 1768756641668
  },
  "Customer-Memory": {
    "name": "Customer-Memory",
    "value": 16.80000000000001,
    "unit": "Percent",
    "time": 1768756641668
  },
  "HadoopDataNode-CPU": {
    "name": "HadoopDataNode-CPU",
    "value": 0.5,
    "unit": "Percent",
    "time": 1768756641667
  },
  "LogPusher-RunTime": {
    "name": "LogPusher-RunTime",
    "value": 319.0,
    "unit": "Second",
    "time": 1768756641667
  },
  "Instance-Disk-Used-/": {
    "name": "Instance-Disk-Used-/",
    "value": 46.0,
    "unit": "Percent",
    "time": 1768756342454,
    "subMetrics": [
      {
        "name": "/usr/share/aws/aws-java-sdk-v2",
        "value": 656.0,
        "unit": "Megabytes",
        "time": 1768756342454
      },
      {
        "name": "/usr/bin",
        "value": 451.0,
        "unit": "Megabytes",
        "time": 1768756342454
      },
      {
        "name": "/usr/lib64",
        "value": 373.0,
        "unit": "Megabytes",
        "time": 1768756342454
      },
      {
        "name": "/usr/share/aws/aws-java-sdk",
        "value": 371.0,
        "unit": "Megabytes",
        "time": 1768756342454
      },
      {
        "name": "/usr/lib/locale",
        "value": 214.0,
        "unit": "Megabytes",
        "time": 1768756342454
      },
      {
        "name": "/usr/lib/jvm/java-25-amazon-corretto.x86_64/lib",
        "value": 206.0,
        "unit": "Megabytes",
        "time": 1768756342454
      },
      {
        "name": "/usr/lib/jvm/java-23-amazon-corretto.x86_64/lib",
        "value": 205.0,
        "unit": "Megabytes",
        "time": 1768756342454
      },
      {
        "name": "/usr/lib/jvm/java-21-amazon-corretto.x86_64/lib",
        "value": 203.0,
        "unit": "Megabytes",
        "time": 1768756342454
      },
      {
        "name": "/usr/lib/jvm/java-11-amazon-corretto.x86_64/lib",
        "value": 203.0,
        "unit": "Megabytes",
        "time": 1768756342454
      },
      {
        "name": "/usr/lib/jvm/java-17-amazon-corretto.x86_64/lib",
        "value": 188.0,
        "unit": "Megabytes",
        "time": 1768756342454
      }
    ]
  },
  "HadoopDataNode-Memory": {
    "name": "HadoopDataNode-Memory",
    "value": 2.0,
    "unit": "Percent",
    "time": 1768756641667
  },
  "Instance-Disk-Used-/dev": {
    "name": "Instance-Disk-Used-/dev",
    "value": 0.0,
    "unit": "Percent",
    "time": 1768756342453
  },
  "InstanceController-Reboots": {
    "name": "InstanceController-Reboots",
    "value": 0.0,
    "unit": "Count",
    "time": 1768756341672
  },
  "HadoopDataNode-Reboots": {
    "name": "HadoopDataNode-Reboots",
    "value": 0.0,
    "unit": "Count",
    "time": 1768756461643
  },
  "IC-TimeSinceHeartbeat": {
    "name": "IC-TimeSinceHeartbeat",
    "value": 15.0,
    "unit": "Seconds",
    "time": 1768756641462
  },
  "Instance-CPU-CPUUtilization": {
    "name": "Instance-CPU-CPUUtilization",
    "value": 59.09,
    "unit": "Percent",
    "time": 1768756636466
  }
}

# Resource Manager and Name Node details
isMaster=$(grep isMaster /emr/instance-controller/lib/info/instance.json | grep true)
isHACluster=$(grep haEnabled /emr/instance-controller/lib/info/extraInstanceData.json | grep true)
if [ -n "$isMaster" ] && [ -n "$isHACluster" ]
then
  echo "============= Resource Manager status report ============="
  sudo -u hadoop yarn rmadmin -getAllServiceState
  echo "================ Name Node status report ================="
  sudo -u hadoop hdfs haadmin -getAllServiceState
fi
